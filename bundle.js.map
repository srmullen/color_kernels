{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/gpu.js/dist/gpu-browser.js","webpack:///./node_modules/lodash.throttle/index.js","webpack:///./node_modules/navigo/lib/navigo.min.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/dat.gui/build/dat.gui.module.js","webpack:///./src/utils.js","webpack:///./src/index.js","webpack:///./src/kernels.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","e","f","u","a","Error","code","length","1","require","global","this","reservedWords","3","5","6","strict","strictBind","ecma5AndLessKeywords","keywords","keywordRelationalOperator","nonASCIIidentifierStartChars","nonASCIIidentifierChars","nonASCIIidentifierStart","RegExp","nonASCIIidentifier","astralIdentifierStartCodes","astralIdentifierCodes","isInAstralSet","set","pos","isIdentifierStart","astral","test","String","fromCharCode","isIdentifierChar","TokenType","label","conf","keyword","beforeExpr","startsExpr","isLoop","isAssign","prefix","postfix","binop","updateContext","prec","keywords$1","kw","options","types","num","regexp","string","eof","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","dot","question","arrow","template","invalidTemplate","ellipsis","backQuote","dollarBraceL","eq","assign","incDec","logicalOR","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","equality","relational","bitShift","plusMin","modulo","star","slash","starstar","_break","_case","_catch","_continue","_debugger","_default","_do","_else","_finally","_for","_function","_if","_return","_switch","_throw","_try","_var","_const","_while","_with","_new","_this","_super","_class","_extends","_export","_import","_null","_true","_false","_in","_instanceof","_typeof","_void","_delete","lineBreak","lineBreakG","source","isNewLine","ecma2019String","nonASCIIwhitespace","skipWhiteSpace","ref","toString","has","obj","propName","isArray","Array","wordsRegexp","words","replace","Position","line","col","column","offset","SourceLocation","start","end","sourceFile","getLineInfo","input","cur","lastIndex","match","exec","index","defaultOptions","ecmaVersion","sourceType","onInsertedSemicolon","onTrailingComma","allowReserved","allowReturnOutsideFunction","allowImportExportEverywhere","allowAwaitOutsideFunction","allowHashBang","locations","onToken","onComment","ranges","program","directSourceFile","preserveParens","getOptions","opts","opt","tokens","token","push","array","block","text","startLoc","endLoc","comment","type","loc","range","pushComment","functionFlags","async","generator","Parser","startPos","reserved","v","reservedStrict","reservedWordsStrict","reservedWordsStrictBind","containsEsc","lineStart","lastIndexOf","curLine","slice","split","curPosition","lastTokEndLoc","lastTokStartLoc","lastTokStart","lastTokEnd","context","initialContext","exprAllowed","inModule","strictDirective","potentialArrowAt","yieldPos","awaitPos","awaitIdentPos","labels","undefinedExports","skipLineComment","scopeStack","enterScope","regexpState","prototypeAccessors","inFunction","configurable","inGenerator","inAsync","allowSuper","allowDirectSuper","treatFunctionsAsVar","parse","node","startNode","nextToken","parseTopLevel","currentVarScope","flags","currentThisScope","treatFunctionsAsVarInScope","currentScope","inNonArrowFunction","extend","plugins","len","arguments","cls","parseExpressionAt","parser","parseExpression","tokenizer","defineProperties","pp","literal","DestructuringErrors","shorthandAssign","trailingComma","parenthesizedAssign","parenthesizedBind","doubleProto","eat","next","isContextual","eatContextual","expectContextual","unexpected","canInsertSemicolon","insertSemicolon","semicolon","afterTrailingComma","tokType","notNext","expect","raise","checkPatternErrors","refDestructuringErrors","raiseRecoverable","parens","checkExpressionErrors","andThrow","checkYieldAwaitInDefaultParams","isSimpleAssignTarget","expr","expression","pp$1","body","stmt","parseStatement","list","keys","adaptDirectivePrologue","finishNode","loopLabel","kind","switchLabel","isLet","skip","nextCh","charCodeAt","ident","isAsyncFunction","charAt","topLevel","starttype","parseBreakContinueStatement","parseDebuggerStatement","parseDoStatement","parseForStatement","parseFunctionStatement","parseClass","parseIfStatement","parseReturnStatement","parseSwitchStatement","parseThrowStatement","parseTryStatement","parseVarStatement","parseWhileStatement","parseWithStatement","parseBlock","parseEmptyStatement","parseExpressionStatement","parseImport","parseExport","maybeName","parseLabeledStatement","isBreak","parseIdent","lab","pop","parseParenExpression","awaitAt","parseFor","init$1","parseVar","declarations","await","parseForIn","init","toAssignable","checkLVal","isAsync","declarationPosition","parseFunction","FUNC_STATEMENT","FUNC_HANGING_STATEMENT","consequent","alternate","argument","discriminant","cases","sawDefault","isCase","exitScope","empty","handler","clause","param","parseBindingAtom","simple","finalizer","i$1","label$1","statementStart","indexOf","createNewLexicalScope","update","isForIn","id","left","right","parseMaybeAssign","isFor","decl","parseVarId","statement","allowExpressionBody","initFunction","oldYieldPos","oldAwaitPos","oldAwaitIdentPos","parseFunctionParams","parseFunctionBody","params","parseBindingList","isStatement","oldStrict","parseClassId","parseClassSuper","classBody","hadConstructor","element","parseClassElement","superClass","constructorAllowsSuper","this$1","method","tryContextual","k","noLineBreak","computed","startNodeAt","static","isGenerator","parsePropertyName","allowsDirectSuper","parseClassMethod","parseMethod","parseExprSubscripts","parseExprAtom","checkExport","fNode","declaration","cNode","shouldParseExportStatement","checkVariableExport","specifiers","parseExportSpecifiers","spec","checkUnreserved","local","checkLocalExport","checkPatternExport","pat","properties","prop","list$1","elements","elt","decls","nodes","first","exported","parseImportSpecifiers","node$1","node$2","imported","statements","isDirectiveCandidate","directive","raw","pp$2","isBinding","toAssignableList","operator","exprList","last","parseSpread","parseRestBinding","parseObj","close","allowEmpty","allowTrailingComma","elts","rest","parseBindingListItem","elem","parseMaybeDefault","bindingType","checkClashes","declareName","pp$3","checkPropClash","propHash","shorthand","proto","other","noIn","expressions","afterLeftParse","parseYield","ownDestructuringErrors","oldParenAssign","oldTrailingComma","parseMaybeConditional","parseExprOps","parseMaybeUnary","parseExprOp","leftStartPos","leftStartLoc","minPrec","logical","op","buildBinary","sawUnary","parseAwait","result","parseSubscripts","base","noCalls","maybeAsyncArrow","parseSubscript","parseExprList","parseArrowExpression","callee","tag","quasi","parseTemplate","isTagged","readRegexp","canBeArrow","parseLiteral","regex","pattern","parseParenAndDistinguishExpression","parseNew","parseExprImport","parseDynamicImport","errorPos","bigint","val","spreadStart","innerStartPos","innerStartLoc","lastIsComma","parseParenItem","innerEndPos","innerEndLoc","parseParenArrowList","finishNodeAt","par","item","empty$1","meta","isImport","parseTemplateElement","cooked","tail","curElt","quasis","isAsyncProp","isPattern","parseProperty","parsePropertyValue","paramCount","isArrowFunction","isMethod","isExpression","useStrict","checkParams","nonSimple","isSimpleParamList","oldLabels","allowDuplicates","nameHash","liberal","delegate","pp$4","message","err","SyntaxError","raisedAt","pp$5","Scope","var","lexical","functions","scope","redeclared","scope$2","scope$3","SCOPE_TOP","Node","pp$6","TokContext","isExpr","preserveSpace","override","types$1","b_stat","b_expr","b_tmpl","p_stat","p_expr","q_tmpl","tryReadTemplateToken","f_stat","f_expr","f_expr_gen","f_gen","pp$7","braceIsBlock","prevType","parent","curContext","inGeneratorContext","out","statementParens","allowed","ecma9BinaryProperties","ecma10BinaryProperties","unicodeBinaryProperties","9","10","11","unicodeGeneralCategoryValues","ecma9ScriptValues","ecma10ScriptValues","unicodeScriptValues","data","buildUnicodeData","binary","nonBinary","General_Category","Script","Script_Extensions","gc","sc","scx","pp$8","RegExpValidationState","validFlags","unicodeProperties","switchU","switchN","lastIntValue","lastStringValue","lastAssertionIsQuantifiable","numCapturingParens","maxBackReference","groupNames","backReferenceNames","codePointToString","ch","isSyntaxCharacter","isControlLetter","isUnicodePropertyNameCharacter","isUnicodePropertyValueCharacter","isDecimalDigit","isHexDigit","hexToInt","isOctalDigit","reset","unicode","at","nextIndex","current","lookahead","advance","validateRegExpFlags","state","flag","validateRegExpPattern","regexp_pattern","regexp_disjunction","regexp_alternative","regexp_eatQuantifier","regexp_eatTerm","regexp_eatAssertion","regexp_eatAtom","regexp_eatExtendedAtom","lookbehind","noError","regexp_eatQuantifierPrefix","regexp_eatBracedQuantifier","min","max","regexp_eatDecimalDigits","regexp_eatPatternCharacters","regexp_eatReverseSolidusAtomEscape","regexp_eatCharacterClass","regexp_eatUncapturingGroup","regexp_eatCapturingGroup","regexp_eatAtomEscape","regexp_groupSpecifier","regexp_eatInvalidBracedQuantifier","regexp_eatExtendedPatternCharacter","regexp_eatSyntaxCharacter","regexp_eatGroupName","regexp_eatRegExpIdentifierName","regexp_eatRegExpIdentifierStart","regexp_eatRegExpIdentifierPart","regexp_eatRegExpUnicodeEscapeSequence","isRegExpIdentifierStart","isRegExpIdentifierPart","regexp_eatBackReference","regexp_eatCharacterClassEscape","regexp_eatCharacterEscape","regexp_eatKGroupName","regexp_eatDecimalEscape","regexp_eatControlEscape","regexp_eatCControlLetter","regexp_eatZero","regexp_eatHexEscapeSequence","regexp_eatLegacyOctalEscapeSequence","regexp_eatIdentityEscape","regexp_eatControlLetter","regexp_eatFixedHexDigits","lead","leadSurrogateEnd","trail","regexp_eatHexDigits","isCharacterClassEscape","regexp_eatUnicodePropertyValueExpression","regexp_eatUnicodePropertyName","regexp_eatUnicodePropertyValue","regexp_validateUnicodePropertyNameAndValue","regexp_eatLoneUnicodePropertyNameOrValue","nameOrValue","regexp_validateUnicodePropertyNameOrValue","regexp_classRanges","regexp_eatClassAtom","regexp_eatClassEscape","ch$1","regexp_eatClassControlLetter","regexp_eatOctalDigit","n1","n2","Token","pp$9","codePointToString$1","ignoreEscapeSequenceInKeyword","getToken","iterator","done","skipSpace","finishToken","readToken","fullCharCodeAtPos","readWord","getTokenFromCode","skipBlockComment","startSkip","loop","readToken_dot","readNumber","next2","readToken_slash","finishOp","readToken_mult_modulo_exp","size","tokentype","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","readRadixNumber","readString","str","escaped","inClass","flagsStart","readWord1","readInt","radix","total","Infinity","BigInt","startsWithDot","octal","str$1","val$1","parseInt","parseFloat","readCodePoint","codePos","readHexChar","invalidStringToken","quote","chunkStart","readEscapedChar","INVALID_TEMPLATE_ESCAPE_ERROR","inTemplateElement","readTmplToken","readInvalidTemplateToken","position","inTemplate","octalStr","substr","word","escStart","esc","acorn","version","tokTypes","keywordTypes","tokContexts","factory","self","2","glWiretap","gl","contextName","throwGetError","useTrackablePrimitives","readPixelsFile","recording","variables","onReadPixels","onUnrecognizedArgumentLookup","proxy","Proxy","addComment","checkThrowError","readPixelsVariableName","insertVariable","setIndent","getContextVariableName","indent","getError","variableName","contextVariables","extension","getExtension","tappedExtension","glExtensionWiretap","getEntity","targetVariableName","getVariableName","constructor","argumentAsStrings","join","writePPM","readPixels","apply","argumentsToString","addVariable","drawBuffers","methodCallToString","trackablePrimitive","entityNames","imageCount","spaces","repeat","width","height","sourceVariable","imageVariable","args","getExtensionEntity","drawBuffersWEBGL","extensionEntityNames","from","map","arg","hasLines","hasSingleQuotes","hasDoubleQuotes","JSON","stringify","instantiationString","argumentToString","window","4","setupArguments","newArguments","toArray","mock1D","row","Float32Array","output","x","thread","y","z","_fn","mock2D","matrix","mock2DGraphical","mock3D","cube","apiDecorate","kernel","setOutput","setupOutput","graphical","setupGraphical","toJSON","setConstants","constants","setGraphical","setCanvas","canvas","setContext","destroy","validateSettings","Promise","resolve","reject","getPixels","flip","pixels","halfHeight","bytesPerRow","temp","Uint8ClampedArray","topOffset","bottomOffset","subarray","copyWithin","flipPixels","_imageData","color","g","b","Math","floor","_colorData","mockMethod","methods","createImageData","gpuMock","fn","settings","utils","alias","fnString","Function","getArgumentNamesFromString","getFunctionBodyFromString","FunctionNode","CPUFunctionNode","ast","retArr","isRootKernel","argumentNames","argumentName","astGeneric","returnType","getType","leadingReturnStatement","followingReturnStatement","isSubKernel","isNaN","astErrorOutput","idtNode","forNode","initArr","testArr","updateArr","bodyArr","isSafe","pushState","includes","popState","iVariableName","getInternalVariableName","whileNode","doWhileNode","assNode","getDeclaration","assignable","bNode","isState","varDecNode","info","valueType","ifNode","tNode","mNode","signature","xProperty","yProperty","zProperty","origin","getMemberExpressionDetails","removeIstanbulCoverage","markupName","isInput","constant","constantTypes","argumentSizes","dynamicArguments","functionName","astMemberExpressionUnroll","calledFunctions","isAstMathFunction","onFunctionCall","targetTypes","lookupFunctionArgumentTypes","argumentType","triggerImplyArgumentType","arrNode","arrLen","subNode","7","cpuKernelString","cpuKernel","header","thisProperties","beforeReturn","useFunctionKeyword","results","constantsToString","colorFn","flattenFunctionToString","thisLookup","propertyName","findDependency","getPixelsFn","constantKeys","argumentTypes","flattenedImageTo3DArray","_imageTo3DArray","doNotDefine","flattenedImageTo2DArray","_mediaTo2DArray","_kernelString","8","Kernel","FunctionBuilder","CPUKernel","features","freeze","kernelMap","isIntegerDivisionAccurate","combinedKernel","super","mergeSettings","_prependedString","translatedSources","document","createElement","OffscreenCanvas","getContext","argType","getVariableType","strictIntegers","getDimensions","checkOutput","subKernels","functionBuilder","fromKernel","getPrototypes","getKernelResultType","built","setupConstants","translateSource","kernelString","getKernelString","debug","console","log","run","error","buildSignature","kernelThreadString","filter","shift","_getLoopMaxString","injectedNative","_resultKernelHeader","_processConstants","_earlyThrows","_processArguments","_graphicalKernelBody","_resultKernelBody","loopMaxIterations","immutable","pipeline","arrayArguments","checks","checkSubKernels","_mapSubKernels","subKernel","media","videoWidth","videoHeight","ctx","drawImage","pixelsData","getImageData","imageArray","pixel","images","imagesArray","_mutableKernel1DResults","_mutableKernel2DResults","_mutableKernel3DResults","_resultMutableKernel1DLoop","_resultImmutableKernel1DLoop","_kernelOutput","_resultMutableKernel2DLoop","_resultImmutableKernel2DLoop","_resultMutableKernel3DLoop","_resultImmutableKernel3DLoop","_graphicalKernel2DLoop","_graphicalOutput","constructorString","_getKernelResultTypeConstructorString","removeCanvasReference","json","functionNodes","extraNodeOptions","kernelArguments","kernelConstants","argumentBitRatios","constantBitRatios","nativeFunctions","optimizeFloatMemory","precision","dynamicOutput","onIstanbulCoverageVariable","kernelConstant","needsArgumentType","assignArgumentType","lookupReturnType","requestingNode","lookupFunctionArgumentName","argumentIndex","lookupFunctionArgumentBitRatio","triggerImplyArgumentBitRatio","calleeFunctionName","assignArgumentBitRatio","trackFunctionCall","onNestedFunction","nestedFunction","nodeOptions","traceFunctionAST","addFunctionNode","rootNodeOptions","fromJSON","rootNode","subKernelNodes","functionMap","nativeFunctionNames","lookupChain","functionNodeDependencies","functionCalls","nativeFunction","functionNode","retList","functionIndex","traceFunctionCalls","dependantFunctionName","splice","getPrototypesFromFunctionNames","reverse","functionList","ret","nativeIndex","jsonFunctionNodes","jsonFunctionNode","getStringFromFunctionNames","_isNativeFunction","_lookupNativeFunctionReturnType","_isFunction","_getFunction","j","getJsAST","Boolean","_getNativeFunction","bitRatio","fnNode","calleeNode","calleeBitRatio","Set","add","subKernelNode","called","functionCallIndex","FunctionTracer","typeLookupMap","getFunctionNameFromString","identifiers","contexts","states","strictTypingChecking","fixIntegerDivisionAccuracy","literalTypes","validate","_string","_internalVariableNames","isFunctionString","firstExpression","inParser","functionAST","inForLoopInit","inForLoopTest","dependencies","getDependencies","realType","isSafeDependencies","identifier","constantName","trim","literalKey","astKey","Number","isInteger","inferArgumentTypesIfNeeded","getVariableSignature","rightType","lastType","isAstVariable","getCheckVariableType","findIdentifierOrigin","getLookupType","getConstantType","isAstMathVariable","lastReturn","findLastReturn","every","dependency","isNotSafe","details","returnRawValue","unshift","signatureString","astFunctionDeclaration","astFunctionExpression","astReturnStatement","astLiteral","astBinaryExpression","astIdentifierExpression","astAssignmentExpression","astExpressionStatement","astEmptyStatement","astBlockStatement","astIfStatement","astSwitchStatement","astBreakStatement","astContinueStatement","astForStatement","astWhileStatement","astDoWhileStatement","astVariableDeclaration","astVariableDeclarator","astThisExpression","astSequenceExpression","astUnaryExpression","astUpdateExpression","astLogicalExpression","astMemberExpression","astCallExpression","astArrayExpression","astDebuggerStatement","astConditionalExpression","debugString","getAstString","splitLines","lineBefore","isChildFunction","astFunction","esNode","eNode","brNode","crNode","iVarDecNode","variableSignature","sNode","sequenceResult","isIstanbulAST","expressionResult","uNode","checkAndUpconvertBitwiseUnary","logNode","astToFind","stack","atNode","separator","runningContexts","functionContexts","returnStatements","trackedIdentifiers","newFunctionContext","scan","newContext","currentContext","currentFunctionContext","functionContext","useFunctionContext","suggestedType","normalizeDeclarations","hasState","testIdentifiers","getIdentifiers","12","toStringWithoutUtils","getRenderString","targetName","readBackValue","getToArrayString","kernelResult","textureName","isDeclaration","findKernelValue","kernelValues","values","uploadedValues","HTMLImageElement","kernelValue","uploadValue","variableIndex","variable","glKernelString","originKernel","setupContextString","destroyContextString","build","postResult","subKernelsResultVariableSetup","subKernelsResultIndex","tactic","checkContext","forEach","kernelArgument","imageIndex","texture","flattenTo","flatten2dArrayTo","flatten3dArrayTo","flatten4dArrayTo","renderOutput","renderTexture","formatValues","varName","renderKernels","getStringValueHandler","mappedTextures","subKernelResult","subKernelTextureName","rendered","getGetPixelsString","constantsUpload","13","GLTextureArray2Float","GLTextureArray2Float2D","GLTextureArray2Float3D","GLTextureArray3Float","GLTextureArray3Float2D","GLTextureArray3Float3D","GLTextureArray4Float","GLTextureArray4Float2D","GLTextureArray4Float3D","GLTextureFloat","GLTextureFloat2D","GLTextureFloat3D","GLTextureMemoryOptimized","GLTextureMemoryOptimized2D","GLTextureMemoryOptimized3D","GLTextureUnsigned","GLTextureUnsigned2D","GLTextureUnsigned3D","GLTextureGraphical","typeMap","int","float","vec2","vec3","vec4","GLKernel","testContext","testCanvas","v1","v2","round","isDrawBuffers","getIsDrawBuffers","isFloatRead","getIsFloatRead","getIsIntegerDivisionAccurate","isSpeedTacticSupported","getIsSpeedTacticSupported","isTextureFloat","getIsTextureFloat","channelCount","getChannelCount","maxTextureSize","getMaxTextureSize","lowIntPrecision","getShaderPrecisionFormat","FRAGMENT_SHADER","LOW_INT","lowFloatPrecision","LOW_FLOAT","mediumIntPrecision","MEDIUM_INT","mediumFloatPrecision","MEDIUM_FLOAT","highIntPrecision","HIGH_INT","highFloatPrecision","HIGH_FLOAT","getVariablePrecisionString","fix","warnDeprecated","floatTextures","isStartingVariableName","isVariableChar","char","nextChar","lastKernel","texSize","threadDim","w","h","ceil","RGBA","FLOAT","bytes","Uint8Array","UNSIGNED_BYTE","buffer","splitArray","transferValues","TextureConstructor","renderRawOutput","translatedSource","compiledFragmentShader","compiledVertexShader","switchingKernels","_textureSwitched","_mappedTextureSwitched","readPackedPixelsToUint8Array","readPackedPixelsToFloat32Array","renderKernelsToTextures","requestFallback","renderKernelsToArrays","renderValues","erect3DPackedFloat","erect2DPackedFloat","erectPackedFloat","readFloatPixelsToFloat32Array","erectMemoryOptimized3DFloat","erectMemoryOptimized2DFloat","erectMemoryOptimizedFloat","erect3DArray2","erect2DArray2","erectArray2","erect3DArray3","erect2DArray3","erectArray3","erect3DArray4","erect2DArray4","erectArray4","erect3DFloat","erect2DFloat","erectFloat","getMainResultNumberTexture","getMainResultArray2Texture","getMainResultArray3Texture","getMainResultArray4Texture","getMainResultGraphical","getMainResultMemoryOptimizedFloats","getMainResultTexture","getMainResultPackedPixels","linesToString","getMainResultKernelNumberTexture","getMainResultSubKernelNumberTexture","getMainResultKernelArray2Texture","getMainResultSubKernelArray2Texture","getMainResultKernelArray3Texture","getMainResultSubKernelArray3Texture","getMainResultKernelArray4Texture","getMainResultSubKernelArray4Texture","clone","existingValue","newOutput","toKernelOutput","newThreadDim","newTexSize","getKernelTextureSize","oldTexSize","oldPrecision","newPrecision","warn","switchKernels","needed","bindFramebuffer","FRAMEBUFFER","framebuffer","updateMaxTexSize","viewport","maxTexSize","delete","_setupOutputTexture","_setupSubOutputTextures","reason","textureSize","isInt","low","medium","high","requiredSize","log2","rangeMax","prevArg","_refs","mappedTexture","previousKernel","14","15","16","17","18","19","20","21","22","23","24","25","GLTexture","framebufferTexture2D","COLOR_ATTACHMENT0","TEXTURE_2D","_deleted","26","27","Texture","selectTexture","activeTexture","TEXTURE15","bindTexture","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","newTexture","target","createTexture","texImage2D","internalFormat","textureFormat","textureType","copyTexSubImage2D","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","deleteTexture","_framebuffer","deleteFramebuffer","createFramebuffer","28","29","30","31","32","33","34","WebGLKernel","isSupported","testExtensions","HeadlessGLKernel","setupFeatureChecks","preserveDrawingBuffer","STACKGL_resize_drawingbuffer","STACKGL_destroy_context","OES_texture_float","OES_texture_float_linear","OES_element_index_uint","WEBGL_draw_buffers","WEBGL_color_buffer_float","getFeatures","getParameter","RENDERER","MAX_DRAW_BUFFERS_WEBGL","MAX_TEXTURE_SIZE","extensions","fallbackRequested","resize","35","KernelValue","onRequestContextHandle","onUpdateValueMismatch","contextHandle","forceUploadEachRun","36","Input","useLegacyEncoder","onRequestFallback","forceUploadKernelConstants","gpu","addFunction","addNativeFunction","initCanvas","initContext","initPlugins","functionToIGPUFunction","argumentTypesObject","splitArgumentTypes","nativeFunctionArguments","nativeFunctionReturnType","Int32Array","getBitRatio","needsConstantTypes","setDynamicOutput","setDynamicArguments","removeCanvasReferences","Int8Array","Uint16Array","Int16Array","argumentsTypes","pluginNames","plugin","Constructor","getSignature","getArgumentTypes","sourceString","37","fragmentShader","E","38","operatorMap","WebGLFunctionNode","consequentType","alternateType","sanitizeName","castLiteralToFloat","castValueToInteger","castLiteralToInteger","checkAndUpconvertOperator","castValueToFloat","leftType","literalResult","bitwiseResult","checkAndUpconvertBitwiseOperators","foundOperator","initString","initNeedsSemiColon","declarationSets","declarationSet","actualType","markupType","declarationResult","fallingThrough","defaultResult","movingDefaultToEnd","pastFirstIf","cleanName","memberExpressionPropertyMarkup","memberExpressionXYZ","isMathFunction","functionMatch","functionReplace","targetType","39","WebGLKernelValueBoolean","WebGLKernelValueFloat","WebGLKernelValueInteger","WebGLKernelValueHTMLImage","WebGLKernelValueDynamicHTMLImage","WebGLKernelValueHTMLVideo","WebGLKernelValueDynamicHTMLVideo","WebGLKernelValueSingleInput","WebGLKernelValueDynamicSingleInput","WebGLKernelValueUnsignedInput","WebGLKernelValueDynamicUnsignedInput","WebGLKernelValueMemoryOptimizedNumberTexture","WebGLKernelValueDynamicMemoryOptimizedNumberTexture","WebGLKernelValueNumberTexture","WebGLKernelValueDynamicNumberTexture","WebGLKernelValueSingleArray","WebGLKernelValueDynamicSingleArray","WebGLKernelValueSingleArray1DI","WebGLKernelValueDynamicSingleArray1DI","WebGLKernelValueSingleArray2DI","WebGLKernelValueDynamicSingleArray2DI","WebGLKernelValueSingleArray3DI","WebGLKernelValueDynamicSingleArray3DI","WebGLKernelValueSingleArray2","WebGLKernelValueSingleArray3","WebGLKernelValueSingleArray4","WebGLKernelValueUnsignedArray","WebGLKernelValueDynamicUnsignedArray","kernelValueMaps","unsigned","dynamic","single","lookupKernelValueType","undefined","40","WebGLKernelValue","WebGLKernelArray","requestTexture","setupTexture","defineTexture","onRequestTexture","onRequestIndex","dimensionsId","sizeId","41","setUniform1i","42","checkSize","dimensions","setUniform3iv","setUniform2iv","updateValue","43","44","inputTexture","45","46","getMemoryOptimizedFloatTextureSize","uploadArrayLength","47","setShape","48","49","50","51","getMemoryOptimizedPackedTextureSize","Type","getTransferArrayType","preUploadValue","52","53","setUniform1f","54","inputImage","initialValueConstructor","pixelStorei","UNPACK_FLIP_Y_WEBGL","55","56","Uint32Array","Float64Array","57","58","sameError","updateTextureArgumentRefs","59","60","61","valueDimensions","62","setUniform2fv","63","64","setUniform3fv","65","66","setUniform4fv","67","68","TranserArrayType","69","70","mrud","vertexShader","canvases","maxTexSizes","isContextMatch","WebGLRenderingContext","endianness","systemEndianness","argumentTextureCount","constantTextureCount","fragShader","vertShader","drawBuffersMap","onRequestSwitchKernel","textureCache","programUniformLocationCache","uniform1fCache","uniform1iCache","uniform2fCache","uniform2fvCache","uniform2ivCache","uniform3fvCache","uniform3ivCache","uniform4fvCache","uniform4ivCache","alpha","depth","antialias","pluginsToUse","some","pluginName","checkTextureSize","canvasIndex","needsArgumentTypes","textureIndexes","TEXTURE0","setup","initExtensions","failureResult","pickRenderStrategy","enable","SCISSOR_TEST","getVertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getFragmentShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","createProgram","attachShader","linkProgram","vertices","texCoords","texCoordOffset","byteLength","bindBuffer","ARRAY_BUFFER","createBuffer","bufferData","STATIC_DRAW","bufferSubData","aPosLoc","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","aTexCoordLoc","useProgram","getPrototypeString","setupReturnTypes","getSubKernelResultType","scissor","setUniform2f","onBeforeRun","bindRenderbuffer","RENDERBUFFER","_replaceOutputTexture","drawArrays","TRIANGLE_STRIP","_replaceSubOutputTextures","getInternalFormat","beforeMutate","format","getTextureFormat","getUniformLocation","uniform1f","uniform1i","value1","value2","cache","uniform2f","uniform2fv","uniform2iv","uniform3fv","uniform3iv","uniform4fv","uniform4iv","HEADER","_getHeaderString","LOOP_MAX","PLUGINS","_getPluginsString","CONSTANTS","_getConstantsString","DECODE32_ENDIANNESS","_getDecode32EndiannessString","ENCODE32_ENDIANNESS","_getEncode32EndiannessString","DIVIDE_WITH_INTEGER_CHECK","_getDivideWithIntegerCheckString","INJECTED_NATIVE","_getInjectedNative","MAIN_CONSTANTS","_getMainConstantsString","MAIN_ARGUMENTS","_getMainArgumentsString","KERNEL","MAIN_RESULT","getMainResultString","FLOAT_TACTIC_DECLARATION","getFloatTacticDeclaration","INT_TACTIC_DECLARATION","getIntTacticDeclaration","SAMPLER_2D_TACTIC_DECLARATION","getSampler2DTacticDeclaration","SAMPLER_2D_ARRAY_TACTIC_DECLARATION","getSampler2DArrayTacticDeclaration","getSource","getKernelResultDeclaration","getMainResultKernelPackedPixels","getMainResultSubKernelPackedPixels","channels","channel","getMainResultKernelMemoryOptimizedFloats","getMainResultSubKernelMemoryOptimizedFloats","src","artifact","replaceArtifacts","_getFragShaderArtifactMap","_getVertShaderArtifactMap","deleteBuffer","deleteShader","deleteProgram","textureCacheIndex","idx","destroyExtensions","kernels","loseContext","71","72","73","WebGL2FunctionNode","74","WebGL2KernelValueBoolean","WebGL2KernelValueFloat","WebGL2KernelValueInteger","WebGL2KernelValueHTMLImage","WebGL2KernelValueDynamicHTMLImage","WebGL2KernelValueHTMLImageArray","WebGL2KernelValueDynamicHTMLImageArray","WebGL2KernelValueHTMLVideo","WebGL2KernelValueDynamicHTMLVideo","WebGL2KernelValueSingleInput","WebGL2KernelValueDynamicSingleInput","WebGL2KernelValueUnsignedInput","WebGL2KernelValueDynamicUnsignedInput","WebGL2KernelValueMemoryOptimizedNumberTexture","WebGL2KernelValueDynamicMemoryOptimizedNumberTexture","WebGL2KernelValueNumberTexture","WebGL2KernelValueDynamicNumberTexture","WebGL2KernelValueSingleArray","WebGL2KernelValueDynamicSingleArray","WebGL2KernelValueSingleArray1DI","WebGL2KernelValueDynamicSingleArray1DI","WebGL2KernelValueSingleArray2DI","WebGL2KernelValueDynamicSingleArray2DI","WebGL2KernelValueSingleArray3DI","WebGL2KernelValueDynamicSingleArray3DI","WebGL2KernelValueSingleArray2","WebGL2KernelValueSingleArray3","WebGL2KernelValueSingleArray4","WebGL2KernelValueUnsignedArray","WebGL2KernelValueDynamicUnsignedArray","75","76","variablePrecision","77","78","79","80","81","82","83","84","85","86","87","88","89","TEXTURE_2D_ARRAY","texImage3D","xOffset","yOffset","imageDepth","texSubImage3D","90","91","92","93","94","95","RGBA32F","96","97","98","99","100","101","102","103","104","105","WebGL2Kernel","EXT_color_buffer_float","WebGL2RenderingContext","MAX_DRAW_BUFFERS","R32F","RED","RG32F","RG","REPEAT","texStorage2D","106","107","lib","GPU","bindTo","108","kernelRunShortcut","kernelOrder","kernelTypes","internalKernels","upgradeDeprecatedCreateKernelSettings","upgradedSettings","floatOutput","outputToTexture","outputImmutable","Worker","importScripts","HTMLCanvasElement","chooseKernel","ExternalKernel","isFunction","devKernel","switchableKernels","settingsCopy","fallbackKernel","kernelRun","dynamicArgument","replaceKernel","mergedSettings","reasons","_kernel","existingKernel","onActivate","newKernel","argument2Type","createKernel","firstKernel","setPipeline","setTimeout","destroyContext","109","webGLKernelValueMaps","webGL2KernelValueMaps","mathRandom","110","111","bindKernelToShortcut","shortcut","allPropertiesOf","substring","__defineGetter__","__defineSetter__","resetSwitchingKernels","accept","replacementKernel","112","random","functionReturnType","113","114","FUNCTION_NAME","STRIP_COMMENTS","ARGUMENT_NAMES","_systemEndianness","ArrayBuffer","funcObj","toLowerCase","funcStr","fnStr","isActiveClone","nodeName","texelCount","closestSquareDimensions","sqrt","roundTo","pad","dim","part","byteOffset","lines","props","getOwnPropertyNames","getPrototypeOf","oldName","newName","yResults","xStart","xEnd","zResults","xResults","xResultsMax","XResultsMax","flattened","functionDependencies","flatten","flat","foundSource","flattenedFunctionDependencies","functionDependency","normalizedDeclarations","declarationIndex","propertyIndex","subPropertyIndex","subProperty","elementIndex","splitHTMLImageToRGB","image","rKernel","gKernel","bKernel","aKernel","splitRGBAToCanvases","rgba","visualKernelR","visualKernelG","visualKernelB","visualKernelA","getMinifySafeName","dollarSign","doubleUnderscore","singleUnderscore","getSystemEndianness","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","root","objectToString","nativeMax","nativeMin","now","Date","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","toNumber","isObject","cancel","clearTimeout","flush","isObjectLike","isSymbol","valueOf","isBinary","history","_routes","_useHash","_hash","_paused","_destroyed","_lastRouteResolved","_notFoundHandler","_defaultHandler","_usePushState","_onLocationChange","_genericHooks","_historyAPIUpdateMethod","_cLoc","_listen","updatePageLinks","PARAMETER_REGEXP","REPLACE_VARIABLE_REGEXP","WILDCARD_REGEXP","REPLACE_WILDCARD","FOLLOWED_BY_SLASH_REGEXP","MATCH_REGEXP_FLAGS","paramNames","route","reduce","decodeURIComponent","before","after","helpers","clean","getOnlyURL","navigate","_getRoot","location","href","on","hooks","uses","_add","sort","off","notFound","url","query","already","_callLeave","_listeningInterval","removeEventListener","_findLinks","hasListenerAttached","addEventListener","ctrlKey","metaKey","tagName","getLinkPath","preventDefault","generate","link","pause","resume","historyAPIUpdateMethod","disableIfAPINotAvailable","lastRouteResolved","getAttribute","encodeURI","as","__NAVIGO_WINDOW_LOCATION_MOCK__","querySelectorAll","leave","colorToString","forceCSSHex","colorFormat","__state","conversionName","toFixed","hex","ARR_EACH","ARR_SLICE","Common","BREAK","each","isUndefined","defaults","compose","toCall","itr","_key","defer","fnc","threshold","callImmediately","timeout","delayed","callNow","isNull","_isNaN","_x","isNumber","isString","isBoolean","INTERPRETATIONS","litmus","conversions","THREE_CHAR_HEX","read","original","space","write","SIX_CHAR_HEX","CSS_RGB","CSS_RGBA","HEX","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","toReturn","interpret","family","conversion","tmpComponent","ColorMath","hsv_to_rgb","hi","q","rgb_to_hsv","delta","NaN","rgb_to_hex","hex_with_component","component_from_hex","componentIndex","classCallCheck","instance","createClass","descriptor","writable","protoProps","staticProps","receiver","desc","getOwnPropertyDescriptor","inherits","subClass","setPrototypeOf","__proto__","possibleConstructorReturn","ReferenceError","Color","defineRGBComponent","component","componentHexIndex","recalculateRGB","defineHSVComponent","recalculateHSV","COMPONENTS","Controller","initialValue","domElement","__onChange","__onFinishChange","newValue","updateDisplay","getValue","EVENT_MAP_INV","HTMLEvents","MouseEvents","KeyboardEvents","CSS_VALUE_PIXELS","cssValueToPixels","dom","makeSelectable","selectable","style","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","hor","vert","vertical","horizontal","top","bottom","fakeEvent","eventType","pars","aux","className","evt","createEvent","clientX","clientY","initMouseEvent","bubbles","cancelable","clickCount","initKeyboardEvent","initKeyEvent","altKey","shiftKey","keyCode","charCode","initEvent","dispatchEvent","event","newBool","bool","attachEvent","unbind","detachEvent","addClass","classes","removeClass","removeAttribute","hasClass","getWidth","getComputedStyle","getHeight","getOffset","el","offsetParent","offsetLeft","offsetTop","isActive","activeElement","BooleanController","_Controller","_this2","__prev","__checkbox","setAttribute","setValue","appendChild","checked","OptionController","__select","innerHTML","desiredValue","selectedIndex","StringController","onChange","__input","blur","numDecimals","NumberController","_params","__min","__max","__step","step","__impliedStep","pow","abs","LN10","__precision","_v","minValue","maxValue","stepValue","NumberControllerBox","_NumberController","__truncationSuspended","prevY","onFinish","onMouseDrag","diff","onMouseUp","attempted","decimals","tenTo","roundToDecimal","i1","i2","o1","o2","NumberControllerSlider","bgRect","__background","getBoundingClientRect","onTouchMove","touches","onTouchEnd","__foreground","pct","FunctionController","__button","fire","ColorController","__color","__temp","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","onBlur","valueField","fieldDown","setSV","fieldUpSV","fieldDownH","setH","fieldUpH","toOriginal","fieldRect","_ref","padding","backgroundColor","boxShadow","border","borderRadius","zIndex","borderRight","marginRight","display","cursor","background","linearGradient","cssText","outline","textAlign","fontWeight","textShadow","mismatch","_flip","marginLeft","marginTop","toHexString","vendors","vendor","css","cssContent","indoc","doc","injected","head","getElementsByTagName","saveDialogContents","ControllerFactory","requestAnimationFrame$1","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","CenteredDiv","backgroundElement","opacity","WebkitTransition","transition","hide","webkitTransform","layout","innerWidth","innerHeight","___$insertStyle","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","closeOnTop","autoPlace","DEFAULT_WIDTH","resizable","hideable","load","preset","scrollable","useLocalStorage","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","getRoot","gui","__preset_select","setPresetSelectIndex","revert","setWidth","closed","CLASS_CLOSED","onResize","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","addResizeHandle","getSaveObject","saveToLocalStorageIfPossible","newDom","liBefore","li","removeListeners","markPresetModified","modified","recallSavedValue","controller","matchedIndex","controllerMap","remembered","presetMap","factoryArgs","concat","__li","container","CLASS_CONTROLLER_ROW","__gui","_options","nextSibling","nextElementSibling","remove","_nextSibling","_name","firstElementChild","listen","box","pc","pb","returned","wasListening","newController","stopPropagation","borderLeftColor","isModified","augmentController","addPresetOption","setSelected","showHideExplain","explain","addSaveMenu","div","__save_row","firstChild","gears","button","button2","button3","select","getElementById","localStorageCheckBox","newConstructorTextArea","which","show","focus","save","presetName","prompt","saveAs","pmouseX","drag","dragStop","CLASS_DRAG","dragStart","__resize_handle","getCurrentPreset","useInitialValues","savedValues","toggleHide","CLASS_TOO_TALL","_keydownHandler","addColor","removeChild","subfolder","removeFolder","addFolder","newGuiParams","folders","folder","parentElement","open","offsetHeight","remember","updateDisplays","controllerArray","math","controllers","createCanvas","hidden","randomImage","crossOrigin","onload","loadImage","RGB","setupKernel","canvasContainer","setupRGBKernel","setupHSVKernel","setupCMYKKernel","setupGui","dat","throttle","red","green","blue","fns","setupRGBGui","hue","saturation","setupHSVGui","cyan","magenta","yellow","setupCMYKGui","router","Navigo","rgbParams","hsvParams","cmykParams","setImage","img","onKernelChange","parentNode","getParams","colorMode","activateLink","rgb","hsv","cmyk","classList","onerror","querySelector","files","URL","createObjectURL","onclick","toDataURL","click","saveImage"],"mappings":"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GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,EAAE,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,KAAK,KAAK,KAAK,IAAI,KAAK,IAAI,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,KAAK,EAAE,IAAI,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,KAAK,GAAG,GAAG,EAAE,GAAG,EAAE,IAAI,GAAG,KAAK,IAAI,GAAG,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,KAAK,MAAM,GAAG,KAAK,GAAG,IAAI,EAAE,KAAK,GAAG,KAAK,KAAK,KAEpuCC,EAAwB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,GAAG,IAAI,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,IAAI,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,E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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","/**\n * gpu.js\n * http://gpu.rocks/\n *\n * GPU Accelerated JavaScript\n *\n * @version 2.9.3\n * @date Wed Apr 01 2020 07:53:27 GMT-0400 (Eastern Daylight Time)\n *\n * @license MIT\n * The MIT License\n *\n * Copyright (c) 2020 gpu.js Team\n */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GPU = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.acorn = {}));\n}(this, function (exports) { 'use strict';\n\n\n  var reservedWords = {\n    3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n    5: \"class enum extends super const export import\",\n    6: \"enum\",\n    strict: \"implements interface let package private protected public static yield\",\n    strictBind: \"eval arguments\"\n  };\n\n\n  var ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\n  var keywords = {\n    5: ecma5AndLessKeywords,\n    \"5module\": ecma5AndLessKeywords + \" export import\",\n    6: ecma5AndLessKeywords + \" const class extends export import super\"\n  };\n\n  var keywordRelationalOperator = /^in(stanceof)?$/;\n\n\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u08a0-\\u08b4\\u08b6-\\u08bd\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fef\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7bf\\ua7c2-\\ua7c6\\ua7f7-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab67\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08d3-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1df9\\u1dfb-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  nonASCIIidentifierStartChars = nonASCIIidentifierChars = null;\n\n\n  var astralIdentifierStartCodes = [0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541];\n\n  var astralIdentifierCodes = [509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];\n\n  function isInAstralSet(code, set) {\n    var pos = 0x10000;\n    for (var i = 0; i < set.length; i += 2) {\n      pos += set[i];\n      if (pos > code) { return false }\n      pos += set[i + 1];\n      if (pos >= code) { return true }\n    }\n  }\n\n\n  function isIdentifierStart(code, astral) {\n    if (code < 65) { return code === 36 }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes)\n  }\n\n\n  function isIdentifierChar(code, astral) {\n    if (code < 48) { return code === 36 }\n    if (code < 58) { return true }\n    if (code < 65) { return false }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\n  }\n\n\n\n\n\n  var TokenType = function TokenType(label, conf) {\n    if ( conf === void 0 ) conf = {};\n\n    this.label = label;\n    this.keyword = conf.keyword;\n    this.beforeExpr = !!conf.beforeExpr;\n    this.startsExpr = !!conf.startsExpr;\n    this.isLoop = !!conf.isLoop;\n    this.isAssign = !!conf.isAssign;\n    this.prefix = !!conf.prefix;\n    this.postfix = !!conf.postfix;\n    this.binop = conf.binop || null;\n    this.updateContext = null;\n  };\n\n  function binop(name, prec) {\n    return new TokenType(name, {beforeExpr: true, binop: prec})\n  }\n  var beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\n\n\n  var keywords$1 = {};\n\n  function kw(name, options) {\n    if ( options === void 0 ) options = {};\n\n    options.keyword = name;\n    return keywords$1[name] = new TokenType(name, options)\n  }\n\n  var types = {\n    num: new TokenType(\"num\", startsExpr),\n    regexp: new TokenType(\"regexp\", startsExpr),\n    string: new TokenType(\"string\", startsExpr),\n    name: new TokenType(\"name\", startsExpr),\n    eof: new TokenType(\"eof\"),\n\n    bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\n    bracketR: new TokenType(\"]\"),\n    braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\n    braceR: new TokenType(\"}\"),\n    parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\n    parenR: new TokenType(\")\"),\n    comma: new TokenType(\",\", beforeExpr),\n    semi: new TokenType(\";\", beforeExpr),\n    colon: new TokenType(\":\", beforeExpr),\n    dot: new TokenType(\".\"),\n    question: new TokenType(\"?\", beforeExpr),\n    arrow: new TokenType(\"=>\", beforeExpr),\n    template: new TokenType(\"template\"),\n    invalidTemplate: new TokenType(\"invalidTemplate\"),\n    ellipsis: new TokenType(\"...\", beforeExpr),\n    backQuote: new TokenType(\"`\", startsExpr),\n    dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\n\n\n    eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\n    assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\n    incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\n    prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    logicalOR: binop(\"||\", 1),\n    logicalAND: binop(\"&&\", 2),\n    bitwiseOR: binop(\"|\", 3),\n    bitwiseXOR: binop(\"^\", 4),\n    bitwiseAND: binop(\"&\", 5),\n    equality: binop(\"==/!=/===/!==\", 6),\n    relational: binop(\"</>/<=/>=\", 7),\n    bitShift: binop(\"<</>>/>>>\", 8),\n    plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\n    modulo: binop(\"%\", 10),\n    star: binop(\"*\", 10),\n    slash: binop(\"/\", 10),\n    starstar: new TokenType(\"**\", {beforeExpr: true}),\n\n    _break: kw(\"break\"),\n    _case: kw(\"case\", beforeExpr),\n    _catch: kw(\"catch\"),\n    _continue: kw(\"continue\"),\n    _debugger: kw(\"debugger\"),\n    _default: kw(\"default\", beforeExpr),\n    _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\n    _else: kw(\"else\", beforeExpr),\n    _finally: kw(\"finally\"),\n    _for: kw(\"for\", {isLoop: true}),\n    _function: kw(\"function\", startsExpr),\n    _if: kw(\"if\"),\n    _return: kw(\"return\", beforeExpr),\n    _switch: kw(\"switch\"),\n    _throw: kw(\"throw\", beforeExpr),\n    _try: kw(\"try\"),\n    _var: kw(\"var\"),\n    _const: kw(\"const\"),\n    _while: kw(\"while\", {isLoop: true}),\n    _with: kw(\"with\"),\n    _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\n    _this: kw(\"this\", startsExpr),\n    _super: kw(\"super\", startsExpr),\n    _class: kw(\"class\", startsExpr),\n    _extends: kw(\"extends\", beforeExpr),\n    _export: kw(\"export\"),\n    _import: kw(\"import\", startsExpr),\n    _null: kw(\"null\", startsExpr),\n    _true: kw(\"true\", startsExpr),\n    _false: kw(\"false\", startsExpr),\n    _in: kw(\"in\", {beforeExpr: true, binop: 7}),\n    _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\n    _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\n  };\n\n\n  var lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\n  var lineBreakG = new RegExp(lineBreak.source, \"g\");\n\n  function isNewLine(code, ecma2019String) {\n    return code === 10 || code === 13 || (!ecma2019String && (code === 0x2028 || code === 0x2029))\n  }\n\n  var nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n\n  var skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n\n  var ref = Object.prototype;\n  var hasOwnProperty = ref.hasOwnProperty;\n  var toString = ref.toString;\n\n\n  function has(obj, propName) {\n    return hasOwnProperty.call(obj, propName)\n  }\n\n  var isArray = Array.isArray || (function (obj) { return (\n    toString.call(obj) === \"[object Array]\"\n  ); });\n\n  function wordsRegexp(words) {\n    return new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\")\n  }\n\n\n  var Position = function Position(line, col) {\n    this.line = line;\n    this.column = col;\n  };\n\n  Position.prototype.offset = function offset (n) {\n    return new Position(this.line, this.column + n)\n  };\n\n  var SourceLocation = function SourceLocation(p, start, end) {\n    this.start = start;\n    this.end = end;\n    if (p.sourceFile !== null) { this.source = p.sourceFile; }\n  };\n\n\n  function getLineInfo(input, offset) {\n    for (var line = 1, cur = 0;;) {\n      lineBreakG.lastIndex = cur;\n      var match = lineBreakG.exec(input);\n      if (match && match.index < offset) {\n        ++line;\n        cur = match.index + match[0].length;\n      } else {\n        return new Position(line, offset - cur)\n      }\n    }\n  }\n\n\n  var defaultOptions = {\n    ecmaVersion: 10,\n    sourceType: \"script\",\n    onInsertedSemicolon: null,\n    onTrailingComma: null,\n    allowReserved: null,\n    allowReturnOutsideFunction: false,\n    allowImportExportEverywhere: false,\n    allowAwaitOutsideFunction: false,\n    allowHashBang: false,\n    locations: false,\n    onToken: null,\n    onComment: null,\n    ranges: false,\n    program: null,\n    sourceFile: null,\n    directSourceFile: null,\n    preserveParens: false\n  };\n\n\n  function getOptions(opts) {\n    var options = {};\n\n    for (var opt in defaultOptions)\n      { options[opt] = opts && has(opts, opt) ? opts[opt] : defaultOptions[opt]; }\n\n    if (options.ecmaVersion >= 2015)\n      { options.ecmaVersion -= 2009; }\n\n    if (options.allowReserved == null)\n      { options.allowReserved = options.ecmaVersion < 5; }\n\n    if (isArray(options.onToken)) {\n      var tokens = options.onToken;\n      options.onToken = function (token) { return tokens.push(token); };\n    }\n    if (isArray(options.onComment))\n      { options.onComment = pushComment(options, options.onComment); }\n\n    return options\n  }\n\n  function pushComment(options, array) {\n    return function(block, text, start, end, startLoc, endLoc) {\n      var comment = {\n        type: block ? \"Block\" : \"Line\",\n        value: text,\n        start: start,\n        end: end\n      };\n      if (options.locations)\n        { comment.loc = new SourceLocation(this, startLoc, endLoc); }\n      if (options.ranges)\n        { comment.range = [start, end]; }\n      array.push(comment);\n    }\n  }\n\n  var\n      SCOPE_TOP = 1,\n      SCOPE_FUNCTION = 2,\n      SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION,\n      SCOPE_ASYNC = 4,\n      SCOPE_GENERATOR = 8,\n      SCOPE_ARROW = 16,\n      SCOPE_SIMPLE_CATCH = 32,\n      SCOPE_SUPER = 64,\n      SCOPE_DIRECT_SUPER = 128;\n\n  function functionFlags(async, generator) {\n    return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\n  }\n\n  var\n      BIND_NONE = 0, \n      BIND_VAR = 1, \n      BIND_LEXICAL = 2, \n      BIND_FUNCTION = 3, \n      BIND_SIMPLE_CATCH = 4, \n      BIND_OUTSIDE = 5; \n\n  var Parser = function Parser(options, input, startPos) {\n    this.options = options = getOptions(options);\n    this.sourceFile = options.sourceFile;\n    this.keywords = wordsRegexp(keywords[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n    var reserved = \"\";\n    if (options.allowReserved !== true) {\n      for (var v = options.ecmaVersion;; v--)\n        { if (reserved = reservedWords[v]) { break } }\n      if (options.sourceType === \"module\") { reserved += \" await\"; }\n    }\n    this.reservedWords = wordsRegexp(reserved);\n    var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n    this.reservedWordsStrict = wordsRegexp(reservedStrict);\n    this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n    this.input = String(input);\n\n    this.containsEsc = false;\n\n\n    if (startPos) {\n      this.pos = startPos;\n      this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n      this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n    } else {\n      this.pos = this.lineStart = 0;\n      this.curLine = 1;\n    }\n\n    this.type = types.eof;\n    this.value = null;\n    this.start = this.end = this.pos;\n    this.startLoc = this.endLoc = this.curPosition();\n\n    this.lastTokEndLoc = this.lastTokStartLoc = null;\n    this.lastTokStart = this.lastTokEnd = this.pos;\n\n    this.context = this.initialContext();\n    this.exprAllowed = true;\n\n    this.inModule = options.sourceType === \"module\";\n    this.strict = this.inModule || this.strictDirective(this.pos);\n\n    this.potentialArrowAt = -1;\n\n    this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\n    this.labels = [];\n    this.undefinedExports = {};\n\n    if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\n      { this.skipLineComment(2); }\n\n    this.scopeStack = [];\n    this.enterScope(SCOPE_TOP);\n\n    this.regexpState = null;\n  };\n\n  var prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true } };\n\n  Parser.prototype.parse = function parse () {\n    var node = this.options.program || this.startNode();\n    this.nextToken();\n    return this.parseTopLevel(node)\n  };\n\n  prototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\n  prototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 };\n  prototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 };\n  prototypeAccessors.allowSuper.get = function () { return (this.currentThisScope().flags & SCOPE_SUPER) > 0 };\n  prototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\n  prototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\n\n  Parser.prototype.inNonArrowFunction = function inNonArrowFunction () { return (this.currentThisScope().flags & SCOPE_FUNCTION) > 0 };\n\n  Parser.extend = function extend () {\n      var plugins = [], len = arguments.length;\n      while ( len-- ) plugins[ len ] = arguments[ len ];\n\n    var cls = this;\n    for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\n    return cls\n  };\n\n  Parser.parse = function parse (input, options) {\n    return new this(options, input).parse()\n  };\n\n  Parser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\n    var parser = new this(options, input, pos);\n    parser.nextToken();\n    return parser.parseExpression()\n  };\n\n  Parser.tokenizer = function tokenizer (input, options) {\n    return new this(options, input)\n  };\n\n  Object.defineProperties( Parser.prototype, prototypeAccessors );\n\n  var pp = Parser.prototype;\n\n\n  var literal = /^(?:'((?:\\\\.|[^'])*?)'|\"((?:\\\\.|[^\"])*?)\")/;\n  pp.strictDirective = function(start) {\n    for (;;) {\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      var match = literal.exec(this.input.slice(start));\n      if (!match) { return false }\n      if ((match[1] || match[2]) === \"use strict\") { return true }\n      start += match[0].length;\n\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      if (this.input[start] === \";\")\n        { start++; }\n    }\n  };\n\n\n  pp.eat = function(type) {\n    if (this.type === type) {\n      this.next();\n      return true\n    } else {\n      return false\n    }\n  };\n\n\n  pp.isContextual = function(name) {\n    return this.type === types.name && this.value === name && !this.containsEsc\n  };\n\n\n  pp.eatContextual = function(name) {\n    if (!this.isContextual(name)) { return false }\n    this.next();\n    return true\n  };\n\n\n  pp.expectContextual = function(name) {\n    if (!this.eatContextual(name)) { this.unexpected(); }\n  };\n\n\n  pp.canInsertSemicolon = function() {\n    return this.type === types.eof ||\n      this.type === types.braceR ||\n      lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n  pp.insertSemicolon = function() {\n    if (this.canInsertSemicolon()) {\n      if (this.options.onInsertedSemicolon)\n        { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\n      return true\n    }\n  };\n\n\n  pp.semicolon = function() {\n    if (!this.eat(types.semi) && !this.insertSemicolon()) { this.unexpected(); }\n  };\n\n  pp.afterTrailingComma = function(tokType, notNext) {\n    if (this.type === tokType) {\n      if (this.options.onTrailingComma)\n        { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\n      if (!notNext)\n        { this.next(); }\n      return true\n    }\n  };\n\n\n  pp.expect = function(type) {\n    this.eat(type) || this.unexpected();\n  };\n\n\n  pp.unexpected = function(pos) {\n    this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n  };\n\n  function DestructuringErrors() {\n    this.shorthandAssign =\n    this.trailingComma =\n    this.parenthesizedAssign =\n    this.parenthesizedBind =\n    this.doubleProto =\n      -1;\n  }\n\n  pp.checkPatternErrors = function(refDestructuringErrors, isAssign) {\n    if (!refDestructuringErrors) { return }\n    if (refDestructuringErrors.trailingComma > -1)\n      { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\n    var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n    if (parens > -1) { this.raiseRecoverable(parens, \"Parenthesized pattern\"); }\n  };\n\n  pp.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\n    if (!refDestructuringErrors) { return false }\n    var shorthandAssign = refDestructuringErrors.shorthandAssign;\n    var doubleProto = refDestructuringErrors.doubleProto;\n    if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\n    if (shorthandAssign >= 0)\n      { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\n    if (doubleProto >= 0)\n      { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\n  };\n\n  pp.checkYieldAwaitInDefaultParams = function() {\n    if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\n      { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\n    if (this.awaitPos)\n      { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\n  };\n\n  pp.isSimpleAssignTarget = function(expr) {\n    if (expr.type === \"ParenthesizedExpression\")\n      { return this.isSimpleAssignTarget(expr.expression) }\n    return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\n  };\n\n  var pp$1 = Parser.prototype;\n\n\n\n  pp$1.parseTopLevel = function(node) {\n    var exports = {};\n    if (!node.body) { node.body = []; }\n    while (this.type !== types.eof) {\n      var stmt = this.parseStatement(null, true, exports);\n      node.body.push(stmt);\n    }\n    if (this.inModule)\n      { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\n        {\n          var name = list[i];\n\n          this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\n        } }\n    this.adaptDirectivePrologue(node.body);\n    this.next();\n    node.sourceType = this.options.sourceType;\n    return this.finishNode(node, \"Program\")\n  };\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  pp$1.isLet = function(context) {\n    if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n    if (nextCh === 91) { return true } \n    if (context) { return false }\n\n    if (nextCh === 123) { return true } \n    if (isIdentifierStart(nextCh, true)) {\n      var pos = next + 1;\n      while (isIdentifierChar(this.input.charCodeAt(pos), true)) { ++pos; }\n      var ident = this.input.slice(next, pos);\n      if (!keywordRelationalOperator.test(ident)) { return true }\n    }\n    return false\n  };\n\n  pp$1.isAsyncFunction = function() {\n    if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\n      { return false }\n\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length;\n    return !lineBreak.test(this.input.slice(this.pos, next)) &&\n      this.input.slice(next, next + 8) === \"function\" &&\n      (next + 8 === this.input.length || !isIdentifierChar(this.input.charAt(next + 8)))\n  };\n\n\n  pp$1.parseStatement = function(context, topLevel, exports) {\n    var starttype = this.type, node = this.startNode(), kind;\n\n    if (this.isLet(context)) {\n      starttype = types._var;\n      kind = \"let\";\n    }\n\n\n    switch (starttype) {\n    case types._break: case types._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\n    case types._debugger: return this.parseDebuggerStatement(node)\n    case types._do: return this.parseDoStatement(node)\n    case types._for: return this.parseForStatement(node)\n    case types._function:\n      if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\n      return this.parseFunctionStatement(node, false, !context)\n    case types._class:\n      if (context) { this.unexpected(); }\n      return this.parseClass(node, true)\n    case types._if: return this.parseIfStatement(node)\n    case types._return: return this.parseReturnStatement(node)\n    case types._switch: return this.parseSwitchStatement(node)\n    case types._throw: return this.parseThrowStatement(node)\n    case types._try: return this.parseTryStatement(node)\n    case types._const: case types._var:\n      kind = kind || this.value;\n      if (context && kind !== \"var\") { this.unexpected(); }\n      return this.parseVarStatement(node, kind)\n    case types._while: return this.parseWhileStatement(node)\n    case types._with: return this.parseWithStatement(node)\n    case types.braceL: return this.parseBlock(true, node)\n    case types.semi: return this.parseEmptyStatement(node)\n    case types._export:\n    case types._import:\n      if (this.options.ecmaVersion > 10 && starttype === types._import) {\n        skipWhiteSpace.lastIndex = this.pos;\n        var skip = skipWhiteSpace.exec(this.input);\n        var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n        if (nextCh === 40) \n          { return this.parseExpressionStatement(node, this.parseExpression()) }\n      }\n\n      if (!this.options.allowImportExportEverywhere) {\n        if (!topLevel)\n          { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\n        if (!this.inModule)\n          { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\n      }\n      return starttype === types._import ? this.parseImport(node) : this.parseExport(node, exports)\n\n    default:\n      if (this.isAsyncFunction()) {\n        if (context) { this.unexpected(); }\n        this.next();\n        return this.parseFunctionStatement(node, true, !context)\n      }\n\n      var maybeName = this.value, expr = this.parseExpression();\n      if (starttype === types.name && expr.type === \"Identifier\" && this.eat(types.colon))\n        { return this.parseLabeledStatement(node, maybeName, expr, context) }\n      else { return this.parseExpressionStatement(node, expr) }\n    }\n  };\n\n  pp$1.parseBreakContinueStatement = function(node, keyword) {\n    var isBreak = keyword === \"break\";\n    this.next();\n    if (this.eat(types.semi) || this.insertSemicolon()) { node.label = null; }\n    else if (this.type !== types.name) { this.unexpected(); }\n    else {\n      node.label = this.parseIdent();\n      this.semicolon();\n    }\n\n    var i = 0;\n    for (; i < this.labels.length; ++i) {\n      var lab = this.labels[i];\n      if (node.label == null || lab.name === node.label.name) {\n        if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\n        if (node.label && isBreak) { break }\n      }\n    }\n    if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\n    return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\n  };\n\n  pp$1.parseDebuggerStatement = function(node) {\n    this.next();\n    this.semicolon();\n    return this.finishNode(node, \"DebuggerStatement\")\n  };\n\n  pp$1.parseDoStatement = function(node) {\n    this.next();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"do\");\n    this.labels.pop();\n    this.expect(types._while);\n    node.test = this.parseParenExpression();\n    if (this.options.ecmaVersion >= 6)\n      { this.eat(types.semi); }\n    else\n      { this.semicolon(); }\n    return this.finishNode(node, \"DoWhileStatement\")\n  };\n\n\n  pp$1.parseForStatement = function(node) {\n    this.next();\n    var awaitAt = (this.options.ecmaVersion >= 9 && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction)) && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\n    this.labels.push(loopLabel);\n    this.enterScope(0);\n    this.expect(types.parenL);\n    if (this.type === types.semi) {\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, null)\n    }\n    var isLet = this.isLet();\n    if (this.type === types._var || this.type === types._const || isLet) {\n      var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\n      this.next();\n      this.parseVar(init$1, true, kind);\n      this.finishNode(init$1, \"VariableDeclaration\");\n      if ((this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\n        if (this.options.ecmaVersion >= 9) {\n          if (this.type === types._in) {\n            if (awaitAt > -1) { this.unexpected(awaitAt); }\n          } else { node.await = awaitAt > -1; }\n        }\n        return this.parseForIn(node, init$1)\n      }\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, init$1)\n    }\n    var refDestructuringErrors = new DestructuringErrors;\n    var init = this.parseExpression(true, refDestructuringErrors);\n    if (this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n      if (this.options.ecmaVersion >= 9) {\n        if (this.type === types._in) {\n          if (awaitAt > -1) { this.unexpected(awaitAt); }\n        } else { node.await = awaitAt > -1; }\n      }\n      this.toAssignable(init, false, refDestructuringErrors);\n      this.checkLVal(init);\n      return this.parseForIn(node, init)\n    } else {\n      this.checkExpressionErrors(refDestructuringErrors, true);\n    }\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, init)\n  };\n\n  pp$1.parseFunctionStatement = function(node, isAsync, declarationPosition) {\n    this.next();\n    return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\n  };\n\n  pp$1.parseIfStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    node.consequent = this.parseStatement(\"if\");\n    node.alternate = this.eat(types._else) ? this.parseStatement(\"if\") : null;\n    return this.finishNode(node, \"IfStatement\")\n  };\n\n  pp$1.parseReturnStatement = function(node) {\n    if (!this.inFunction && !this.options.allowReturnOutsideFunction)\n      { this.raise(this.start, \"'return' outside of function\"); }\n    this.next();\n\n\n    if (this.eat(types.semi) || this.insertSemicolon()) { node.argument = null; }\n    else { node.argument = this.parseExpression(); this.semicolon(); }\n    return this.finishNode(node, \"ReturnStatement\")\n  };\n\n  pp$1.parseSwitchStatement = function(node) {\n    this.next();\n    node.discriminant = this.parseParenExpression();\n    node.cases = [];\n    this.expect(types.braceL);\n    this.labels.push(switchLabel);\n    this.enterScope(0);\n\n\n    var cur;\n    for (var sawDefault = false; this.type !== types.braceR;) {\n      if (this.type === types._case || this.type === types._default) {\n        var isCase = this.type === types._case;\n        if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n        node.cases.push(cur = this.startNode());\n        cur.consequent = [];\n        this.next();\n        if (isCase) {\n          cur.test = this.parseExpression();\n        } else {\n          if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\n          sawDefault = true;\n          cur.test = null;\n        }\n        this.expect(types.colon);\n      } else {\n        if (!cur) { this.unexpected(); }\n        cur.consequent.push(this.parseStatement(null));\n      }\n    }\n    this.exitScope();\n    if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n    this.next(); \n    this.labels.pop();\n    return this.finishNode(node, \"SwitchStatement\")\n  };\n\n  pp$1.parseThrowStatement = function(node) {\n    this.next();\n    if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\n      { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\n    node.argument = this.parseExpression();\n    this.semicolon();\n    return this.finishNode(node, \"ThrowStatement\")\n  };\n\n\n  var empty = [];\n\n  pp$1.parseTryStatement = function(node) {\n    this.next();\n    node.block = this.parseBlock();\n    node.handler = null;\n    if (this.type === types._catch) {\n      var clause = this.startNode();\n      this.next();\n      if (this.eat(types.parenL)) {\n        clause.param = this.parseBindingAtom();\n        var simple = clause.param.type === \"Identifier\";\n        this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n        this.checkLVal(clause.param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n        this.expect(types.parenR);\n      } else {\n        if (this.options.ecmaVersion < 10) { this.unexpected(); }\n        clause.param = null;\n        this.enterScope(0);\n      }\n      clause.body = this.parseBlock(false);\n      this.exitScope();\n      node.handler = this.finishNode(clause, \"CatchClause\");\n    }\n    node.finalizer = this.eat(types._finally) ? this.parseBlock() : null;\n    if (!node.handler && !node.finalizer)\n      { this.raise(node.start, \"Missing catch or finally clause\"); }\n    return this.finishNode(node, \"TryStatement\")\n  };\n\n  pp$1.parseVarStatement = function(node, kind) {\n    this.next();\n    this.parseVar(node, false, kind);\n    this.semicolon();\n    return this.finishNode(node, \"VariableDeclaration\")\n  };\n\n  pp$1.parseWhileStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"while\");\n    this.labels.pop();\n    return this.finishNode(node, \"WhileStatement\")\n  };\n\n  pp$1.parseWithStatement = function(node) {\n    if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\n    this.next();\n    node.object = this.parseParenExpression();\n    node.body = this.parseStatement(\"with\");\n    return this.finishNode(node, \"WithStatement\")\n  };\n\n  pp$1.parseEmptyStatement = function(node) {\n    this.next();\n    return this.finishNode(node, \"EmptyStatement\")\n  };\n\n  pp$1.parseLabeledStatement = function(node, maybeName, expr, context) {\n    for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\n      {\n      var label = list[i$1];\n\n      if (label.name === maybeName)\n        { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n    } }\n    var kind = this.type.isLoop ? \"loop\" : this.type === types._switch ? \"switch\" : null;\n    for (var i = this.labels.length - 1; i >= 0; i--) {\n      var label$1 = this.labels[i];\n      if (label$1.statementStart === node.start) {\n        label$1.statementStart = this.start;\n        label$1.kind = kind;\n      } else { break }\n    }\n    this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\n    node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n    this.labels.pop();\n    node.label = expr;\n    return this.finishNode(node, \"LabeledStatement\")\n  };\n\n  pp$1.parseExpressionStatement = function(node, expr) {\n    node.expression = expr;\n    this.semicolon();\n    return this.finishNode(node, \"ExpressionStatement\")\n  };\n\n\n  pp$1.parseBlock = function(createNewLexicalScope, node) {\n    if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\n    if ( node === void 0 ) node = this.startNode();\n\n    node.body = [];\n    this.expect(types.braceL);\n    if (createNewLexicalScope) { this.enterScope(0); }\n    while (!this.eat(types.braceR)) {\n      var stmt = this.parseStatement(null);\n      node.body.push(stmt);\n    }\n    if (createNewLexicalScope) { this.exitScope(); }\n    return this.finishNode(node, \"BlockStatement\")\n  };\n\n\n  pp$1.parseFor = function(node, init) {\n    node.init = init;\n    this.expect(types.semi);\n    node.test = this.type === types.semi ? null : this.parseExpression();\n    this.expect(types.semi);\n    node.update = this.type === types.parenR ? null : this.parseExpression();\n    this.expect(types.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, \"ForStatement\")\n  };\n\n\n  pp$1.parseForIn = function(node, init) {\n    var isForIn = this.type === types._in;\n    this.next();\n\n    if (\n      init.type === \"VariableDeclaration\" &&\n      init.declarations[0].init != null &&\n      (\n        !isForIn ||\n        this.options.ecmaVersion < 8 ||\n        this.strict ||\n        init.kind !== \"var\" ||\n        init.declarations[0].id.type !== \"Identifier\"\n      )\n    ) {\n      this.raise(\n        init.start,\n        ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\n      );\n    } else if (init.type === \"AssignmentPattern\") {\n      this.raise(init.start, \"Invalid left-hand side in for-loop\");\n    }\n    node.left = init;\n    node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n    this.expect(types.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\n  };\n\n\n  pp$1.parseVar = function(node, isFor, kind) {\n    node.declarations = [];\n    node.kind = kind;\n    for (;;) {\n      var decl = this.startNode();\n      this.parseVarId(decl, kind);\n      if (this.eat(types.eq)) {\n        decl.init = this.parseMaybeAssign(isFor);\n      } else if (kind === \"const\" && !(this.type === types._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\n        this.unexpected();\n      } else if (decl.id.type !== \"Identifier\" && !(isFor && (this.type === types._in || this.isContextual(\"of\")))) {\n        this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n      } else {\n        decl.init = null;\n      }\n      node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n      if (!this.eat(types.comma)) { break }\n    }\n    return node\n  };\n\n  pp$1.parseVarId = function(decl, kind) {\n    decl.id = this.parseBindingAtom();\n    this.checkLVal(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n  };\n\n  var FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\n\n\n  pp$1.parseFunction = function(node, statement, allowExpressionBody, isAsync) {\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n      if (this.type === types.star && (statement & FUNC_HANGING_STATEMENT))\n        { this.unexpected(); }\n      node.generator = this.eat(types.star);\n    }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    if (statement & FUNC_STATEMENT) {\n      node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types.name ? null : this.parseIdent();\n      if (node.id && !(statement & FUNC_HANGING_STATEMENT))\n        { this.checkLVal(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\n    }\n\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(node.async, node.generator));\n\n    if (!(statement & FUNC_STATEMENT))\n      { node.id = this.type === types.name ? this.parseIdent() : null; }\n\n    this.parseFunctionParams(node);\n    this.parseFunctionBody(node, allowExpressionBody, false);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\n  };\n\n  pp$1.parseFunctionParams = function(node) {\n    this.expect(types.parenL);\n    node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n  };\n\n\n  pp$1.parseClass = function(node, isStatement) {\n    this.next();\n\n    var oldStrict = this.strict;\n    this.strict = true;\n\n    this.parseClassId(node, isStatement);\n    this.parseClassSuper(node);\n    var classBody = this.startNode();\n    var hadConstructor = false;\n    classBody.body = [];\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      var element = this.parseClassElement(node.superClass !== null);\n      if (element) {\n        classBody.body.push(element);\n        if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n          if (hadConstructor) { this.raise(element.start, \"Duplicate constructor in the same class\"); }\n          hadConstructor = true;\n        }\n      }\n    }\n    node.body = this.finishNode(classBody, \"ClassBody\");\n    this.strict = oldStrict;\n    return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\n  };\n\n  pp$1.parseClassElement = function(constructorAllowsSuper) {\n    var this$1 = this;\n\n    if (this.eat(types.semi)) { return null }\n\n    var method = this.startNode();\n    var tryContextual = function (k, noLineBreak) {\n      if ( noLineBreak === void 0 ) noLineBreak = false;\n\n      var start = this$1.start, startLoc = this$1.startLoc;\n      if (!this$1.eatContextual(k)) { return false }\n      if (this$1.type !== types.parenL && (!noLineBreak || !this$1.canInsertSemicolon())) { return true }\n      if (method.key) { this$1.unexpected(); }\n      method.computed = false;\n      method.key = this$1.startNodeAt(start, startLoc);\n      method.key.name = k;\n      this$1.finishNode(method.key, \"Identifier\");\n      return false\n    };\n\n    method.kind = \"method\";\n    method.static = tryContextual(\"static\");\n    var isGenerator = this.eat(types.star);\n    var isAsync = false;\n    if (!isGenerator) {\n      if (this.options.ecmaVersion >= 8 && tryContextual(\"async\", true)) {\n        isAsync = true;\n        isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n      } else if (tryContextual(\"get\")) {\n        method.kind = \"get\";\n      } else if (tryContextual(\"set\")) {\n        method.kind = \"set\";\n      }\n    }\n    if (!method.key) { this.parsePropertyName(method); }\n    var key = method.key;\n    var allowsDirectSuper = false;\n    if (!method.computed && !method.static && (key.type === \"Identifier\" && key.name === \"constructor\" ||\n        key.type === \"Literal\" && key.value === \"constructor\")) {\n      if (method.kind !== \"method\") { this.raise(key.start, \"Constructor can't have get/set modifier\"); }\n      if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\n      if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\n      method.kind = \"constructor\";\n      allowsDirectSuper = constructorAllowsSuper;\n    } else if (method.static && key.type === \"Identifier\" && key.name === \"prototype\") {\n      this.raise(key.start, \"Classes may not have a static property named prototype\");\n    }\n    this.parseClassMethod(method, isGenerator, isAsync, allowsDirectSuper);\n    if (method.kind === \"get\" && method.value.params.length !== 0)\n      { this.raiseRecoverable(method.value.start, \"getter should have no params\"); }\n    if (method.kind === \"set\" && method.value.params.length !== 1)\n      { this.raiseRecoverable(method.value.start, \"setter should have exactly one param\"); }\n    if (method.kind === \"set\" && method.value.params[0].type === \"RestElement\")\n      { this.raiseRecoverable(method.value.params[0].start, \"Setter cannot use rest params\"); }\n    return method\n  };\n\n  pp$1.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\n    method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n    return this.finishNode(method, \"MethodDefinition\")\n  };\n\n  pp$1.parseClassId = function(node, isStatement) {\n    if (this.type === types.name) {\n      node.id = this.parseIdent();\n      if (isStatement)\n        { this.checkLVal(node.id, BIND_LEXICAL, false); }\n    } else {\n      if (isStatement === true)\n        { this.unexpected(); }\n      node.id = null;\n    }\n  };\n\n  pp$1.parseClassSuper = function(node) {\n    node.superClass = this.eat(types._extends) ? this.parseExprSubscripts() : null;\n  };\n\n\n  pp$1.parseExport = function(node, exports) {\n    this.next();\n    if (this.eat(types.star)) {\n      this.expectContextual(\"from\");\n      if (this.type !== types.string) { this.unexpected(); }\n      node.source = this.parseExprAtom();\n      this.semicolon();\n      return this.finishNode(node, \"ExportAllDeclaration\")\n    }\n    if (this.eat(types._default)) { \n      this.checkExport(exports, \"default\", this.lastTokStart);\n      var isAsync;\n      if (this.type === types._function || (isAsync = this.isAsyncFunction())) {\n        var fNode = this.startNode();\n        this.next();\n        if (isAsync) { this.next(); }\n        node.declaration = this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync);\n      } else if (this.type === types._class) {\n        var cNode = this.startNode();\n        node.declaration = this.parseClass(cNode, \"nullableID\");\n      } else {\n        node.declaration = this.parseMaybeAssign();\n        this.semicolon();\n      }\n      return this.finishNode(node, \"ExportDefaultDeclaration\")\n    }\n    if (this.shouldParseExportStatement()) {\n      node.declaration = this.parseStatement(null);\n      if (node.declaration.type === \"VariableDeclaration\")\n        { this.checkVariableExport(exports, node.declaration.declarations); }\n      else\n        { this.checkExport(exports, node.declaration.id.name, node.declaration.id.start); }\n      node.specifiers = [];\n      node.source = null;\n    } else { \n      node.declaration = null;\n      node.specifiers = this.parseExportSpecifiers(exports);\n      if (this.eatContextual(\"from\")) {\n        if (this.type !== types.string) { this.unexpected(); }\n        node.source = this.parseExprAtom();\n      } else {\n        for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n          var spec = list[i];\n\n          this.checkUnreserved(spec.local);\n          this.checkLocalExport(spec.local);\n        }\n\n        node.source = null;\n      }\n      this.semicolon();\n    }\n    return this.finishNode(node, \"ExportNamedDeclaration\")\n  };\n\n  pp$1.checkExport = function(exports, name, pos) {\n    if (!exports) { return }\n    if (has(exports, name))\n      { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\n    exports[name] = true;\n  };\n\n  pp$1.checkPatternExport = function(exports, pat) {\n    var type = pat.type;\n    if (type === \"Identifier\")\n      { this.checkExport(exports, pat.name, pat.start); }\n    else if (type === \"ObjectPattern\")\n      { for (var i = 0, list = pat.properties; i < list.length; i += 1)\n        {\n          var prop = list[i];\n\n          this.checkPatternExport(exports, prop);\n        } }\n    else if (type === \"ArrayPattern\")\n      { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n        var elt = list$1[i$1];\n\n          if (elt) { this.checkPatternExport(exports, elt); }\n      } }\n    else if (type === \"Property\")\n      { this.checkPatternExport(exports, pat.value); }\n    else if (type === \"AssignmentPattern\")\n      { this.checkPatternExport(exports, pat.left); }\n    else if (type === \"RestElement\")\n      { this.checkPatternExport(exports, pat.argument); }\n    else if (type === \"ParenthesizedExpression\")\n      { this.checkPatternExport(exports, pat.expression); }\n  };\n\n  pp$1.checkVariableExport = function(exports, decls) {\n    if (!exports) { return }\n    for (var i = 0, list = decls; i < list.length; i += 1)\n      {\n      var decl = list[i];\n\n      this.checkPatternExport(exports, decl.id);\n    }\n  };\n\n  pp$1.shouldParseExportStatement = function() {\n    return this.type.keyword === \"var\" ||\n      this.type.keyword === \"const\" ||\n      this.type.keyword === \"class\" ||\n      this.type.keyword === \"function\" ||\n      this.isLet() ||\n      this.isAsyncFunction()\n  };\n\n\n  pp$1.parseExportSpecifiers = function(exports) {\n    var nodes = [], first = true;\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var node = this.startNode();\n      node.local = this.parseIdent(true);\n      node.exported = this.eatContextual(\"as\") ? this.parseIdent(true) : node.local;\n      this.checkExport(exports, node.exported.name, node.exported.start);\n      nodes.push(this.finishNode(node, \"ExportSpecifier\"));\n    }\n    return nodes\n  };\n\n\n  pp$1.parseImport = function(node) {\n    this.next();\n    if (this.type === types.string) {\n      node.specifiers = empty;\n      node.source = this.parseExprAtom();\n    } else {\n      node.specifiers = this.parseImportSpecifiers();\n      this.expectContextual(\"from\");\n      node.source = this.type === types.string ? this.parseExprAtom() : this.unexpected();\n    }\n    this.semicolon();\n    return this.finishNode(node, \"ImportDeclaration\")\n  };\n\n\n  pp$1.parseImportSpecifiers = function() {\n    var nodes = [], first = true;\n    if (this.type === types.name) {\n      var node = this.startNode();\n      node.local = this.parseIdent();\n      this.checkLVal(node.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node, \"ImportDefaultSpecifier\"));\n      if (!this.eat(types.comma)) { return nodes }\n    }\n    if (this.type === types.star) {\n      var node$1 = this.startNode();\n      this.next();\n      this.expectContextual(\"as\");\n      node$1.local = this.parseIdent();\n      this.checkLVal(node$1.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$1, \"ImportNamespaceSpecifier\"));\n      return nodes\n    }\n    this.expect(types.braceL);\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var node$2 = this.startNode();\n      node$2.imported = this.parseIdent(true);\n      if (this.eatContextual(\"as\")) {\n        node$2.local = this.parseIdent();\n      } else {\n        this.checkUnreserved(node$2.imported);\n        node$2.local = node$2.imported;\n      }\n      this.checkLVal(node$2.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$2, \"ImportSpecifier\"));\n    }\n    return nodes\n  };\n\n  pp$1.adaptDirectivePrologue = function(statements) {\n    for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n      statements[i].directive = statements[i].expression.raw.slice(1, -1);\n    }\n  };\n  pp$1.isDirectiveCandidate = function(statement) {\n    return (\n      statement.type === \"ExpressionStatement\" &&\n      statement.expression.type === \"Literal\" &&\n      typeof statement.expression.value === \"string\" &&\n      (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\n    )\n  };\n\n  var pp$2 = Parser.prototype;\n\n\n  pp$2.toAssignable = function(node, isBinding, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 6 && node) {\n      switch (node.type) {\n      case \"Identifier\":\n        if (this.inAsync && node.name === \"await\")\n          { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\n        break\n\n      case \"ObjectPattern\":\n      case \"ArrayPattern\":\n      case \"RestElement\":\n        break\n\n      case \"ObjectExpression\":\n        node.type = \"ObjectPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        for (var i = 0, list = node.properties; i < list.length; i += 1) {\n          var prop = list[i];\n\n        this.toAssignable(prop, isBinding);\n          if (\n            prop.type === \"RestElement\" &&\n            (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\n          ) {\n            this.raise(prop.argument.start, \"Unexpected token\");\n          }\n        }\n        break\n\n      case \"Property\":\n        if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\n        this.toAssignable(node.value, isBinding);\n        break\n\n      case \"ArrayExpression\":\n        node.type = \"ArrayPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        this.toAssignableList(node.elements, isBinding);\n        break\n\n      case \"SpreadElement\":\n        node.type = \"RestElement\";\n        this.toAssignable(node.argument, isBinding);\n        if (node.argument.type === \"AssignmentPattern\")\n          { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\n        break\n\n      case \"AssignmentExpression\":\n        if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\n        node.type = \"AssignmentPattern\";\n        delete node.operator;\n        this.toAssignable(node.left, isBinding);\n\n      case \"AssignmentPattern\":\n        break\n\n      case \"ParenthesizedExpression\":\n        this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n        break\n\n      case \"MemberExpression\":\n        if (!isBinding) { break }\n\n      default:\n        this.raise(node.start, \"Assigning to rvalue\");\n      }\n    } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n    return node\n  };\n\n\n  pp$2.toAssignableList = function(exprList, isBinding) {\n    var end = exprList.length;\n    for (var i = 0; i < end; i++) {\n      var elt = exprList[i];\n      if (elt) { this.toAssignable(elt, isBinding); }\n    }\n    if (end) {\n      var last = exprList[end - 1];\n      if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\n        { this.unexpected(last.argument.start); }\n    }\n    return exprList\n  };\n\n\n  pp$2.parseSpread = function(refDestructuringErrors) {\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    return this.finishNode(node, \"SpreadElement\")\n  };\n\n  pp$2.parseRestBinding = function() {\n    var node = this.startNode();\n    this.next();\n\n    if (this.options.ecmaVersion === 6 && this.type !== types.name)\n      { this.unexpected(); }\n\n    node.argument = this.parseBindingAtom();\n\n    return this.finishNode(node, \"RestElement\")\n  };\n\n\n  pp$2.parseBindingAtom = function() {\n    if (this.options.ecmaVersion >= 6) {\n      switch (this.type) {\n      case types.bracketL:\n        var node = this.startNode();\n        this.next();\n        node.elements = this.parseBindingList(types.bracketR, true, true);\n        return this.finishNode(node, \"ArrayPattern\")\n\n      case types.braceL:\n        return this.parseObj(true)\n      }\n    }\n    return this.parseIdent()\n  };\n\n  pp$2.parseBindingList = function(close, allowEmpty, allowTrailingComma) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (first) { first = false; }\n      else { this.expect(types.comma); }\n      if (allowEmpty && this.type === types.comma) {\n        elts.push(null);\n      } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n        break\n      } else if (this.type === types.ellipsis) {\n        var rest = this.parseRestBinding();\n        this.parseBindingListItem(rest);\n        elts.push(rest);\n        if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n        this.expect(close);\n        break\n      } else {\n        var elem = this.parseMaybeDefault(this.start, this.startLoc);\n        this.parseBindingListItem(elem);\n        elts.push(elem);\n      }\n    }\n    return elts\n  };\n\n  pp$2.parseBindingListItem = function(param) {\n    return param\n  };\n\n\n  pp$2.parseMaybeDefault = function(startPos, startLoc, left) {\n    left = left || this.parseBindingAtom();\n    if (this.options.ecmaVersion < 6 || !this.eat(types.eq)) { return left }\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.right = this.parseMaybeAssign();\n    return this.finishNode(node, \"AssignmentPattern\")\n  };\n\n\n  pp$2.checkLVal = function(expr, bindingType, checkClashes) {\n    if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n    switch (expr.type) {\n    case \"Identifier\":\n      if (bindingType === BIND_LEXICAL && expr.name === \"let\")\n        { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\n      if (this.strict && this.reservedWordsStrictBind.test(expr.name))\n        { this.raiseRecoverable(expr.start, (bindingType ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\n      if (checkClashes) {\n        if (has(checkClashes, expr.name))\n          { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\n        checkClashes[expr.name] = true;\n      }\n      if (bindingType !== BIND_NONE && bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\n      break\n\n    case \"MemberExpression\":\n      if (bindingType) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\n      break\n\n    case \"ObjectPattern\":\n      for (var i = 0, list = expr.properties; i < list.length; i += 1)\n        {\n      var prop = list[i];\n\n      this.checkLVal(prop, bindingType, checkClashes);\n    }\n      break\n\n    case \"Property\":\n      this.checkLVal(expr.value, bindingType, checkClashes);\n      break\n\n    case \"ArrayPattern\":\n      for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n        var elem = list$1[i$1];\n\n      if (elem) { this.checkLVal(elem, bindingType, checkClashes); }\n      }\n      break\n\n    case \"AssignmentPattern\":\n      this.checkLVal(expr.left, bindingType, checkClashes);\n      break\n\n    case \"RestElement\":\n      this.checkLVal(expr.argument, bindingType, checkClashes);\n      break\n\n    case \"ParenthesizedExpression\":\n      this.checkLVal(expr.expression, bindingType, checkClashes);\n      break\n\n    default:\n      this.raise(expr.start, (bindingType ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n    }\n  };\n\n\n  var pp$3 = Parser.prototype;\n\n\n  pp$3.checkPropClash = function(prop, propHash, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\n      { return }\n    if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\n      { return }\n    var key = prop.key;\n    var name;\n    switch (key.type) {\n    case \"Identifier\": name = key.name; break\n    case \"Literal\": name = String(key.value); break\n    default: return\n    }\n    var kind = prop.kind;\n    if (this.options.ecmaVersion >= 6) {\n      if (name === \"__proto__\" && kind === \"init\") {\n        if (propHash.proto) {\n          if (refDestructuringErrors) {\n            if (refDestructuringErrors.doubleProto < 0)\n              { refDestructuringErrors.doubleProto = key.start; }\n          } else { this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\"); }\n        }\n        propHash.proto = true;\n      }\n      return\n    }\n    name = \"$\" + name;\n    var other = propHash[name];\n    if (other) {\n      var redefinition;\n      if (kind === \"init\") {\n        redefinition = this.strict && other.init || other.get || other.set;\n      } else {\n        redefinition = other.init || other[kind];\n      }\n      if (redefinition)\n        { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\n    } else {\n      other = propHash[name] = {\n        init: false,\n        get: false,\n        set: false\n      };\n    }\n    other[kind] = true;\n  };\n\n\n\n\n  pp$3.parseExpression = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeAssign(noIn, refDestructuringErrors);\n    if (this.type === types.comma) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.expressions = [expr];\n      while (this.eat(types.comma)) { node.expressions.push(this.parseMaybeAssign(noIn, refDestructuringErrors)); }\n      return this.finishNode(node, \"SequenceExpression\")\n    }\n    return expr\n  };\n\n\n  pp$3.parseMaybeAssign = function(noIn, refDestructuringErrors, afterLeftParse) {\n    if (this.isContextual(\"yield\")) {\n      if (this.inGenerator) { return this.parseYield(noIn) }\n      else { this.exprAllowed = false; }\n    }\n\n    var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1;\n    if (refDestructuringErrors) {\n      oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n      oldTrailingComma = refDestructuringErrors.trailingComma;\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = -1;\n    } else {\n      refDestructuringErrors = new DestructuringErrors;\n      ownDestructuringErrors = true;\n    }\n\n    var startPos = this.start, startLoc = this.startLoc;\n    if (this.type === types.parenL || this.type === types.name)\n      { this.potentialArrowAt = this.start; }\n    var left = this.parseMaybeConditional(noIn, refDestructuringErrors);\n    if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\n    if (this.type.isAssign) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.operator = this.value;\n      node.left = this.type === types.eq ? this.toAssignable(left, false, refDestructuringErrors) : left;\n      if (!ownDestructuringErrors) {\n        refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.doubleProto = -1;\n      }\n      if (refDestructuringErrors.shorthandAssign >= node.left.start)\n        { refDestructuringErrors.shorthandAssign = -1; } \n      this.checkLVal(left);\n      this.next();\n      node.right = this.parseMaybeAssign(noIn);\n      return this.finishNode(node, \"AssignmentExpression\")\n    } else {\n      if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\n    }\n    if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\n    if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\n    return left\n  };\n\n\n  pp$3.parseMaybeConditional = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprOps(noIn, refDestructuringErrors);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    if (this.eat(types.question)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.test = expr;\n      node.consequent = this.parseMaybeAssign();\n      this.expect(types.colon);\n      node.alternate = this.parseMaybeAssign(noIn);\n      return this.finishNode(node, \"ConditionalExpression\")\n    }\n    return expr\n  };\n\n\n  pp$3.parseExprOps = function(noIn, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeUnary(refDestructuringErrors, false);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, noIn)\n  };\n\n\n  pp$3.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, noIn) {\n    var prec = this.type.binop;\n    if (prec != null && (!noIn || this.type !== types._in)) {\n      if (prec > minPrec) {\n        var logical = this.type === types.logicalOR || this.type === types.logicalAND;\n        var op = this.value;\n        this.next();\n        var startPos = this.start, startLoc = this.startLoc;\n        var right = this.parseExprOp(this.parseMaybeUnary(null, false), startPos, startLoc, prec, noIn);\n        var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical);\n        return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, noIn)\n      }\n    }\n    return left\n  };\n\n  pp$3.buildBinary = function(startPos, startLoc, left, right, op, logical) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.operator = op;\n    node.right = right;\n    return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\n  };\n\n\n  pp$3.parseMaybeUnary = function(refDestructuringErrors, sawUnary) {\n    var startPos = this.start, startLoc = this.startLoc, expr;\n    if (this.isContextual(\"await\") && (this.inAsync || (!this.inFunction && this.options.allowAwaitOutsideFunction))) {\n      expr = this.parseAwait();\n      sawUnary = true;\n    } else if (this.type.prefix) {\n      var node = this.startNode(), update = this.type === types.incDec;\n      node.operator = this.value;\n      node.prefix = true;\n      this.next();\n      node.argument = this.parseMaybeUnary(null, true);\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      if (update) { this.checkLVal(node.argument); }\n      else if (this.strict && node.operator === \"delete\" &&\n               node.argument.type === \"Identifier\")\n        { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\n      else { sawUnary = true; }\n      expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n    } else {\n      expr = this.parseExprSubscripts(refDestructuringErrors);\n      if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n      while (this.type.postfix && !this.canInsertSemicolon()) {\n        var node$1 = this.startNodeAt(startPos, startLoc);\n        node$1.operator = this.value;\n        node$1.prefix = false;\n        node$1.argument = expr;\n        this.checkLVal(expr);\n        this.next();\n        expr = this.finishNode(node$1, \"UpdateExpression\");\n      }\n    }\n\n    if (!sawUnary && this.eat(types.starstar))\n      { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false), \"**\", false) }\n    else\n      { return expr }\n  };\n\n\n  pp$3.parseExprSubscripts = function(refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprAtom(refDestructuringErrors);\n    if (expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\")\n      { return expr }\n    var result = this.parseSubscripts(expr, startPos, startLoc);\n    if (refDestructuringErrors && result.type === \"MemberExpression\") {\n      if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\n      if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\n    }\n    return result\n  };\n\n  pp$3.parseSubscripts = function(base, startPos, startLoc, noCalls) {\n    var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\n        this.lastTokEnd === base.end && !this.canInsertSemicolon() && this.input.slice(base.start, base.end) === \"async\";\n    while (true) {\n      var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow);\n      if (element === base || element.type === \"ArrowFunctionExpression\") { return element }\n      base = element;\n    }\n  };\n\n  pp$3.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow) {\n    var computed = this.eat(types.bracketL);\n    if (computed || this.eat(types.dot)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.object = base;\n      node.property = computed ? this.parseExpression() : this.parseIdent(this.options.allowReserved !== \"never\");\n      node.computed = !!computed;\n      if (computed) { this.expect(types.bracketR); }\n      base = this.finishNode(node, \"MemberExpression\");\n    } else if (!noCalls && this.eat(types.parenL)) {\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      this.awaitIdentPos = 0;\n      var exprList = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\n      if (maybeAsyncArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        if (this.awaitIdentPos > 0)\n          { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        this.awaitIdentPos = oldAwaitIdentPos;\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true)\n      }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.callee = base;\n      node$1.arguments = exprList;\n      base = this.finishNode(node$1, \"CallExpression\");\n    } else if (this.type === types.backQuote) {\n      var node$2 = this.startNodeAt(startPos, startLoc);\n      node$2.tag = base;\n      node$2.quasi = this.parseTemplate({isTagged: true});\n      base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n    }\n    return base\n  };\n\n\n  pp$3.parseExprAtom = function(refDestructuringErrors) {\n    if (this.type === types.slash) { this.readRegexp(); }\n\n    var node, canBeArrow = this.potentialArrowAt === this.start;\n    switch (this.type) {\n    case types._super:\n      if (!this.allowSuper)\n        { this.raise(this.start, \"'super' keyword outside a method\"); }\n      node = this.startNode();\n      this.next();\n      if (this.type === types.parenL && !this.allowDirectSuper)\n        { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\n      if (this.type !== types.dot && this.type !== types.bracketL && this.type !== types.parenL)\n        { this.unexpected(); }\n      return this.finishNode(node, \"Super\")\n\n    case types._this:\n      node = this.startNode();\n      this.next();\n      return this.finishNode(node, \"ThisExpression\")\n\n    case types.name:\n      var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\n      var id = this.parseIdent(false);\n      if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types._function))\n        { return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true) }\n      if (canBeArrow && !this.canInsertSemicolon()) {\n        if (this.eat(types.arrow))\n          { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false) }\n        if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types.name && !containsEsc) {\n          id = this.parseIdent(false);\n          if (this.canInsertSemicolon() || !this.eat(types.arrow))\n            { this.unexpected(); }\n          return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true)\n        }\n      }\n      return id\n\n    case types.regexp:\n      var value = this.value;\n      node = this.parseLiteral(value.value);\n      node.regex = {pattern: value.pattern, flags: value.flags};\n      return node\n\n    case types.num: case types.string:\n      return this.parseLiteral(this.value)\n\n    case types._null: case types._true: case types._false:\n      node = this.startNode();\n      node.value = this.type === types._null ? null : this.type === types._true;\n      node.raw = this.type.keyword;\n      this.next();\n      return this.finishNode(node, \"Literal\")\n\n    case types.parenL:\n      var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow);\n      if (refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\n          { refDestructuringErrors.parenthesizedAssign = start; }\n        if (refDestructuringErrors.parenthesizedBind < 0)\n          { refDestructuringErrors.parenthesizedBind = start; }\n      }\n      return expr\n\n    case types.bracketL:\n      node = this.startNode();\n      this.next();\n      node.elements = this.parseExprList(types.bracketR, true, true, refDestructuringErrors);\n      return this.finishNode(node, \"ArrayExpression\")\n\n    case types.braceL:\n      return this.parseObj(false, refDestructuringErrors)\n\n    case types._function:\n      node = this.startNode();\n      this.next();\n      return this.parseFunction(node, 0)\n\n    case types._class:\n      return this.parseClass(this.startNode(), false)\n\n    case types._new:\n      return this.parseNew()\n\n    case types.backQuote:\n      return this.parseTemplate()\n\n    case types._import:\n      if (this.options.ecmaVersion >= 11) {\n        return this.parseExprImport()\n      } else {\n        return this.unexpected()\n      }\n\n    default:\n      this.unexpected();\n    }\n  };\n\n  pp$3.parseExprImport = function() {\n    var node = this.startNode();\n    this.next(); \n    switch (this.type) {\n    case types.parenL:\n      return this.parseDynamicImport(node)\n    default:\n      this.unexpected();\n    }\n  };\n\n  pp$3.parseDynamicImport = function(node) {\n    this.next(); \n\n    node.source = this.parseMaybeAssign();\n\n    if (!this.eat(types.parenR)) {\n      var errorPos = this.start;\n      if (this.eat(types.comma) && this.eat(types.parenR)) {\n        this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\n      } else {\n        this.unexpected(errorPos);\n      }\n    }\n\n    return this.finishNode(node, \"ImportExpression\")\n  };\n\n  pp$3.parseLiteral = function(value) {\n    var node = this.startNode();\n    node.value = value;\n    node.raw = this.input.slice(this.start, this.end);\n    if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1); }\n    this.next();\n    return this.finishNode(node, \"Literal\")\n  };\n\n  pp$3.parseParenExpression = function() {\n    this.expect(types.parenL);\n    var val = this.parseExpression();\n    this.expect(types.parenR);\n    return val\n  };\n\n  pp$3.parseParenAndDistinguishExpression = function(canBeArrow) {\n    var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\n    if (this.options.ecmaVersion >= 6) {\n      this.next();\n\n      var innerStartPos = this.start, innerStartLoc = this.startLoc;\n      var exprList = [], first = true, lastIsComma = false;\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      while (this.type !== types.parenR) {\n        first ? first = false : this.expect(types.comma);\n        if (allowTrailingComma && this.afterTrailingComma(types.parenR, true)) {\n          lastIsComma = true;\n          break\n        } else if (this.type === types.ellipsis) {\n          spreadStart = this.start;\n          exprList.push(this.parseParenItem(this.parseRestBinding()));\n          if (this.type === types.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n          break\n        } else {\n          exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n        }\n      }\n      var innerEndPos = this.start, innerEndLoc = this.startLoc;\n      this.expect(types.parenR);\n\n      if (canBeArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        return this.parseParenArrowList(startPos, startLoc, exprList)\n      }\n\n      if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\n      if (spreadStart) { this.unexpected(spreadStart); }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n\n      if (exprList.length > 1) {\n        val = this.startNodeAt(innerStartPos, innerStartLoc);\n        val.expressions = exprList;\n        this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n      } else {\n        val = exprList[0];\n      }\n    } else {\n      val = this.parseParenExpression();\n    }\n\n    if (this.options.preserveParens) {\n      var par = this.startNodeAt(startPos, startLoc);\n      par.expression = val;\n      return this.finishNode(par, \"ParenthesizedExpression\")\n    } else {\n      return val\n    }\n  };\n\n  pp$3.parseParenItem = function(item) {\n    return item\n  };\n\n  pp$3.parseParenArrowList = function(startPos, startLoc, exprList) {\n    return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList)\n  };\n\n\n  var empty$1 = [];\n\n  pp$3.parseNew = function() {\n    if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword new\"); }\n    var node = this.startNode();\n    var meta = this.parseIdent(true);\n    if (this.options.ecmaVersion >= 6 && this.eat(types.dot)) {\n      node.meta = meta;\n      var containsEsc = this.containsEsc;\n      node.property = this.parseIdent(true);\n      if (node.property.name !== \"target\" || containsEsc)\n        { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is new.target\"); }\n      if (!this.inNonArrowFunction())\n        { this.raiseRecoverable(node.start, \"new.target can only be used in functions\"); }\n      return this.finishNode(node, \"MetaProperty\")\n    }\n    var startPos = this.start, startLoc = this.startLoc, isImport = this.type === types._import;\n    node.callee = this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true);\n    if (isImport && node.callee.type === \"ImportExpression\") {\n      this.raise(startPos, \"Cannot use new with import()\");\n    }\n    if (this.eat(types.parenL)) { node.arguments = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false); }\n    else { node.arguments = empty$1; }\n    return this.finishNode(node, \"NewExpression\")\n  };\n\n\n  pp$3.parseTemplateElement = function(ref) {\n    var isTagged = ref.isTagged;\n\n    var elem = this.startNode();\n    if (this.type === types.invalidTemplate) {\n      if (!isTagged) {\n        this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n      }\n      elem.value = {\n        raw: this.value,\n        cooked: null\n      };\n    } else {\n      elem.value = {\n        raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n        cooked: this.value\n      };\n    }\n    this.next();\n    elem.tail = this.type === types.backQuote;\n    return this.finishNode(elem, \"TemplateElement\")\n  };\n\n  pp$3.parseTemplate = function(ref) {\n    if ( ref === void 0 ) ref = {};\n    var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\n\n    var node = this.startNode();\n    this.next();\n    node.expressions = [];\n    var curElt = this.parseTemplateElement({isTagged: isTagged});\n    node.quasis = [curElt];\n    while (!curElt.tail) {\n      if (this.type === types.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\n      this.expect(types.dollarBraceL);\n      node.expressions.push(this.parseExpression());\n      this.expect(types.braceR);\n      node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\n    }\n    this.next();\n    return this.finishNode(node, \"TemplateLiteral\")\n  };\n\n  pp$3.isAsyncProp = function(prop) {\n    return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\n      (this.type === types.name || this.type === types.num || this.type === types.string || this.type === types.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types.star)) &&\n      !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n\n  pp$3.parseObj = function(isPattern, refDestructuringErrors) {\n    var node = this.startNode(), first = true, propHash = {};\n    node.properties = [];\n    this.next();\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (this.options.ecmaVersion >= 5 && this.afterTrailingComma(types.braceR)) { break }\n      } else { first = false; }\n\n      var prop = this.parseProperty(isPattern, refDestructuringErrors);\n      if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\n      node.properties.push(prop);\n    }\n    return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\n  };\n\n  pp$3.parseProperty = function(isPattern, refDestructuringErrors) {\n    var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\n    if (this.options.ecmaVersion >= 9 && this.eat(types.ellipsis)) {\n      if (isPattern) {\n        prop.argument = this.parseIdent(false);\n        if (this.type === types.comma) {\n          this.raise(this.start, \"Comma is not permitted after the rest element\");\n        }\n        return this.finishNode(prop, \"RestElement\")\n      }\n      if (this.type === types.parenL && refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0) {\n          refDestructuringErrors.parenthesizedAssign = this.start;\n        }\n        if (refDestructuringErrors.parenthesizedBind < 0) {\n          refDestructuringErrors.parenthesizedBind = this.start;\n        }\n      }\n      prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n      if (this.type === types.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n        refDestructuringErrors.trailingComma = this.start;\n      }\n      return this.finishNode(prop, \"SpreadElement\")\n    }\n    if (this.options.ecmaVersion >= 6) {\n      prop.method = false;\n      prop.shorthand = false;\n      if (isPattern || refDestructuringErrors) {\n        startPos = this.start;\n        startLoc = this.startLoc;\n      }\n      if (!isPattern)\n        { isGenerator = this.eat(types.star); }\n    }\n    var containsEsc = this.containsEsc;\n    this.parsePropertyName(prop);\n    if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n      isAsync = true;\n      isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n      this.parsePropertyName(prop, refDestructuringErrors);\n    } else {\n      isAsync = false;\n    }\n    this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n    return this.finishNode(prop, \"Property\")\n  };\n\n  pp$3.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n    if ((isGenerator || isAsync) && this.type === types.colon)\n      { this.unexpected(); }\n\n    if (this.eat(types.colon)) {\n      prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n      prop.kind = \"init\";\n    } else if (this.options.ecmaVersion >= 6 && this.type === types.parenL) {\n      if (isPattern) { this.unexpected(); }\n      prop.kind = \"init\";\n      prop.method = true;\n      prop.value = this.parseMethod(isGenerator, isAsync);\n    } else if (!isPattern && !containsEsc &&\n               this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n               (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n               (this.type !== types.comma && this.type !== types.braceR)) {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      prop.kind = prop.key.name;\n      this.parsePropertyName(prop);\n      prop.value = this.parseMethod(false);\n      var paramCount = prop.kind === \"get\" ? 0 : 1;\n      if (prop.value.params.length !== paramCount) {\n        var start = prop.value.start;\n        if (prop.kind === \"get\")\n          { this.raiseRecoverable(start, \"getter should have no params\"); }\n        else\n          { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\n      } else {\n        if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\n          { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\n      }\n    } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      this.checkUnreserved(prop.key);\n      if (prop.key.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = startPos; }\n      prop.kind = \"init\";\n      if (isPattern) {\n        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n      } else if (this.type === types.eq && refDestructuringErrors) {\n        if (refDestructuringErrors.shorthandAssign < 0)\n          { refDestructuringErrors.shorthandAssign = this.start; }\n        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n      } else {\n        prop.value = prop.key;\n      }\n      prop.shorthand = true;\n    } else { this.unexpected(); }\n  };\n\n  pp$3.parsePropertyName = function(prop) {\n    if (this.options.ecmaVersion >= 6) {\n      if (this.eat(types.bracketL)) {\n        prop.computed = true;\n        prop.key = this.parseMaybeAssign();\n        this.expect(types.bracketR);\n        return prop.key\n      } else {\n        prop.computed = false;\n      }\n    }\n    return prop.key = this.type === types.num || this.type === types.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\n  };\n\n\n  pp$3.initFunction = function(node) {\n    node.id = null;\n    if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\n    if (this.options.ecmaVersion >= 8) { node.async = false; }\n  };\n\n\n  pp$3.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\n    var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 6)\n      { node.generator = isGenerator; }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n\n    this.expect(types.parenL);\n    node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n    this.parseFunctionBody(node, false, true);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"FunctionExpression\")\n  };\n\n\n  pp$3.parseArrowExpression = function(node, params, isAsync) {\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n\n    node.params = this.toAssignableList(params, true);\n    this.parseFunctionBody(node, true, false);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"ArrowFunctionExpression\")\n  };\n\n\n  pp$3.parseFunctionBody = function(node, isArrowFunction, isMethod) {\n    var isExpression = isArrowFunction && this.type !== types.braceL;\n    var oldStrict = this.strict, useStrict = false;\n\n    if (isExpression) {\n      node.body = this.parseMaybeAssign();\n      node.expression = true;\n      this.checkParams(node, false);\n    } else {\n      var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n      if (!oldStrict || nonSimple) {\n        useStrict = this.strictDirective(this.end);\n        if (useStrict && nonSimple)\n          { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\n      }\n      var oldLabels = this.labels;\n      this.labels = [];\n      if (useStrict) { this.strict = true; }\n\n      this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n      node.body = this.parseBlock(false);\n      node.expression = false;\n      this.adaptDirectivePrologue(node.body.body);\n      this.labels = oldLabels;\n    }\n    this.exitScope();\n\n    if (this.strict && node.id) { this.checkLVal(node.id, BIND_OUTSIDE); }\n    this.strict = oldStrict;\n  };\n\n  pp$3.isSimpleParamList = function(params) {\n    for (var i = 0, list = params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      if (param.type !== \"Identifier\") { return false\n    } }\n    return true\n  };\n\n\n  pp$3.checkParams = function(node, allowDuplicates) {\n    var nameHash = {};\n    for (var i = 0, list = node.params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      this.checkLVal(param, BIND_VAR, allowDuplicates ? null : nameHash);\n    }\n  };\n\n\n  pp$3.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (!first) {\n        this.expect(types.comma);\n        if (allowTrailingComma && this.afterTrailingComma(close)) { break }\n      } else { first = false; }\n\n      var elt = (void 0);\n      if (allowEmpty && this.type === types.comma)\n        { elt = null; }\n      else if (this.type === types.ellipsis) {\n        elt = this.parseSpread(refDestructuringErrors);\n        if (refDestructuringErrors && this.type === types.comma && refDestructuringErrors.trailingComma < 0)\n          { refDestructuringErrors.trailingComma = this.start; }\n      } else {\n        elt = this.parseMaybeAssign(false, refDestructuringErrors);\n      }\n      elts.push(elt);\n    }\n    return elts\n  };\n\n  pp$3.checkUnreserved = function(ref) {\n    var start = ref.start;\n    var end = ref.end;\n    var name = ref.name;\n\n    if (this.inGenerator && name === \"yield\")\n      { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\n    if (this.inAsync && name === \"await\")\n      { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\n    if (this.keywords.test(name))\n      { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\n    if (this.options.ecmaVersion < 6 &&\n      this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\n    var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n    if (re.test(name)) {\n      if (!this.inAsync && name === \"await\")\n        { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\n      this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\n    }\n  };\n\n\n  pp$3.parseIdent = function(liberal, isBinding) {\n    var node = this.startNode();\n    if (this.type === types.name) {\n      node.name = this.value;\n    } else if (this.type.keyword) {\n      node.name = this.type.keyword;\n\n      if ((node.name === \"class\" || node.name === \"function\") &&\n          (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n        this.context.pop();\n      }\n    } else {\n      this.unexpected();\n    }\n    this.next(!!liberal);\n    this.finishNode(node, \"Identifier\");\n    if (!liberal) {\n      this.checkUnreserved(node);\n      if (node.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = node.start; }\n    }\n    return node\n  };\n\n\n  pp$3.parseYield = function(noIn) {\n    if (!this.yieldPos) { this.yieldPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    if (this.type === types.semi || this.canInsertSemicolon() || (this.type !== types.star && !this.type.startsExpr)) {\n      node.delegate = false;\n      node.argument = null;\n    } else {\n      node.delegate = this.eat(types.star);\n      node.argument = this.parseMaybeAssign(noIn);\n    }\n    return this.finishNode(node, \"YieldExpression\")\n  };\n\n  pp$3.parseAwait = function() {\n    if (!this.awaitPos) { this.awaitPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeUnary(null, false);\n    return this.finishNode(node, \"AwaitExpression\")\n  };\n\n  var pp$4 = Parser.prototype;\n\n\n  pp$4.raise = function(pos, message) {\n    var loc = getLineInfo(this.input, pos);\n    message += \" (\" + loc.line + \":\" + loc.column + \")\";\n    var err = new SyntaxError(message);\n    err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\n    throw err\n  };\n\n  pp$4.raiseRecoverable = pp$4.raise;\n\n  pp$4.curPosition = function() {\n    if (this.options.locations) {\n      return new Position(this.curLine, this.pos - this.lineStart)\n    }\n  };\n\n  var pp$5 = Parser.prototype;\n\n  var Scope = function Scope(flags) {\n    this.flags = flags;\n    this.var = [];\n    this.lexical = [];\n    this.functions = [];\n  };\n\n\n  pp$5.enterScope = function(flags) {\n    this.scopeStack.push(new Scope(flags));\n  };\n\n  pp$5.exitScope = function() {\n    this.scopeStack.pop();\n  };\n\n  pp$5.treatFunctionsAsVarInScope = function(scope) {\n    return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\n  };\n\n  pp$5.declareName = function(name, bindingType, pos) {\n    var redeclared = false;\n    if (bindingType === BIND_LEXICAL) {\n      var scope = this.currentScope();\n      redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n      scope.lexical.push(name);\n      if (this.inModule && (scope.flags & SCOPE_TOP))\n        { delete this.undefinedExports[name]; }\n    } else if (bindingType === BIND_SIMPLE_CATCH) {\n      var scope$1 = this.currentScope();\n      scope$1.lexical.push(name);\n    } else if (bindingType === BIND_FUNCTION) {\n      var scope$2 = this.currentScope();\n      if (this.treatFunctionsAsVar)\n        { redeclared = scope$2.lexical.indexOf(name) > -1; }\n      else\n        { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\n      scope$2.functions.push(name);\n    } else {\n      for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n        var scope$3 = this.scopeStack[i];\n        if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\n            !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n          redeclared = true;\n          break\n        }\n        scope$3.var.push(name);\n        if (this.inModule && (scope$3.flags & SCOPE_TOP))\n          { delete this.undefinedExports[name]; }\n        if (scope$3.flags & SCOPE_VAR) { break }\n      }\n    }\n    if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\n  };\n\n  pp$5.checkLocalExport = function(id) {\n    if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\n        this.scopeStack[0].var.indexOf(id.name) === -1) {\n      this.undefinedExports[id.name] = id;\n    }\n  };\n\n  pp$5.currentScope = function() {\n    return this.scopeStack[this.scopeStack.length - 1]\n  };\n\n  pp$5.currentVarScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR) { return scope }\n    }\n  };\n\n  pp$5.currentThisScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\n    }\n  };\n\n  var Node = function Node(parser, pos, loc) {\n    this.type = \"\";\n    this.start = pos;\n    this.end = 0;\n    if (parser.options.locations)\n      { this.loc = new SourceLocation(parser, loc); }\n    if (parser.options.directSourceFile)\n      { this.sourceFile = parser.options.directSourceFile; }\n    if (parser.options.ranges)\n      { this.range = [pos, 0]; }\n  };\n\n\n  var pp$6 = Parser.prototype;\n\n  pp$6.startNode = function() {\n    return new Node(this, this.start, this.startLoc)\n  };\n\n  pp$6.startNodeAt = function(pos, loc) {\n    return new Node(this, pos, loc)\n  };\n\n\n  function finishNodeAt(node, type, pos, loc) {\n    node.type = type;\n    node.end = pos;\n    if (this.options.locations)\n      { node.loc.end = loc; }\n    if (this.options.ranges)\n      { node.range[1] = pos; }\n    return node\n  }\n\n  pp$6.finishNode = function(node, type) {\n    return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\n  };\n\n\n  pp$6.finishNodeAt = function(node, type, pos, loc) {\n    return finishNodeAt.call(this, node, type, pos, loc)\n  };\n\n\n  var TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n    this.token = token;\n    this.isExpr = !!isExpr;\n    this.preserveSpace = !!preserveSpace;\n    this.override = override;\n    this.generator = !!generator;\n  };\n\n  var types$1 = {\n    b_stat: new TokContext(\"{\", false),\n    b_expr: new TokContext(\"{\", true),\n    b_tmpl: new TokContext(\"${\", false),\n    p_stat: new TokContext(\"(\", false),\n    p_expr: new TokContext(\"(\", true),\n    q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\n    f_stat: new TokContext(\"function\", false),\n    f_expr: new TokContext(\"function\", true),\n    f_expr_gen: new TokContext(\"function\", true, false, null, true),\n    f_gen: new TokContext(\"function\", false, false, null, true)\n  };\n\n  var pp$7 = Parser.prototype;\n\n  pp$7.initialContext = function() {\n    return [types$1.b_stat]\n  };\n\n  pp$7.braceIsBlock = function(prevType) {\n    var parent = this.curContext();\n    if (parent === types$1.f_expr || parent === types$1.f_stat)\n      { return true }\n    if (prevType === types.colon && (parent === types$1.b_stat || parent === types$1.b_expr))\n      { return !parent.isExpr }\n\n    if (prevType === types._return || prevType === types.name && this.exprAllowed)\n      { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\n    if (prevType === types._else || prevType === types.semi || prevType === types.eof || prevType === types.parenR || prevType === types.arrow)\n      { return true }\n    if (prevType === types.braceL)\n      { return parent === types$1.b_stat }\n    if (prevType === types._var || prevType === types._const || prevType === types.name)\n      { return false }\n    return !this.exprAllowed\n  };\n\n  pp$7.inGeneratorContext = function() {\n    for (var i = this.context.length - 1; i >= 1; i--) {\n      var context = this.context[i];\n      if (context.token === \"function\")\n        { return context.generator }\n    }\n    return false\n  };\n\n  pp$7.updateContext = function(prevType) {\n    var update, type = this.type;\n    if (type.keyword && prevType === types.dot)\n      { this.exprAllowed = false; }\n    else if (update = type.updateContext)\n      { update.call(this, prevType); }\n    else\n      { this.exprAllowed = type.beforeExpr; }\n  };\n\n\n  types.parenR.updateContext = types.braceR.updateContext = function() {\n    if (this.context.length === 1) {\n      this.exprAllowed = true;\n      return\n    }\n    var out = this.context.pop();\n    if (out === types$1.b_stat && this.curContext().token === \"function\") {\n      out = this.context.pop();\n    }\n    this.exprAllowed = !out.isExpr;\n  };\n\n  types.braceL.updateContext = function(prevType) {\n    this.context.push(this.braceIsBlock(prevType) ? types$1.b_stat : types$1.b_expr);\n    this.exprAllowed = true;\n  };\n\n  types.dollarBraceL.updateContext = function() {\n    this.context.push(types$1.b_tmpl);\n    this.exprAllowed = true;\n  };\n\n  types.parenL.updateContext = function(prevType) {\n    var statementParens = prevType === types._if || prevType === types._for || prevType === types._with || prevType === types._while;\n    this.context.push(statementParens ? types$1.p_stat : types$1.p_expr);\n    this.exprAllowed = true;\n  };\n\n  types.incDec.updateContext = function() {\n  };\n\n  types._function.updateContext = types._class.updateContext = function(prevType) {\n    if (prevType.beforeExpr && prevType !== types.semi && prevType !== types._else &&\n        !(prevType === types._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\n        !((prevType === types.colon || prevType === types.braceL) && this.curContext() === types$1.b_stat))\n      { this.context.push(types$1.f_expr); }\n    else\n      { this.context.push(types$1.f_stat); }\n    this.exprAllowed = false;\n  };\n\n  types.backQuote.updateContext = function() {\n    if (this.curContext() === types$1.q_tmpl)\n      { this.context.pop(); }\n    else\n      { this.context.push(types$1.q_tmpl); }\n    this.exprAllowed = false;\n  };\n\n  types.star.updateContext = function(prevType) {\n    if (prevType === types._function) {\n      var index = this.context.length - 1;\n      if (this.context[index] === types$1.f_expr)\n        { this.context[index] = types$1.f_expr_gen; }\n      else\n        { this.context[index] = types$1.f_gen; }\n    }\n    this.exprAllowed = true;\n  };\n\n  types.name.updateContext = function(prevType) {\n    var allowed = false;\n    if (this.options.ecmaVersion >= 6 && prevType !== types.dot) {\n      if (this.value === \"of\" && !this.exprAllowed ||\n          this.value === \"yield\" && this.inGeneratorContext())\n        { allowed = true; }\n    }\n    this.exprAllowed = allowed;\n  };\n\n\n  var ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\n  var ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\n  var ecma11BinaryProperties = ecma10BinaryProperties;\n  var unicodeBinaryProperties = {\n    9: ecma9BinaryProperties,\n    10: ecma10BinaryProperties,\n    11: ecma11BinaryProperties\n  };\n\n  var unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\n\n  var ecma9ScriptValues = \"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\n  var ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\n  var ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\n  var unicodeScriptValues = {\n    9: ecma9ScriptValues,\n    10: ecma10ScriptValues,\n    11: ecma11ScriptValues\n  };\n\n  var data = {};\n  function buildUnicodeData(ecmaVersion) {\n    var d = data[ecmaVersion] = {\n      binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n      nonBinary: {\n        General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n        Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n      }\n    };\n    d.nonBinary.Script_Extensions = d.nonBinary.Script;\n\n    d.nonBinary.gc = d.nonBinary.General_Category;\n    d.nonBinary.sc = d.nonBinary.Script;\n    d.nonBinary.scx = d.nonBinary.Script_Extensions;\n  }\n  buildUnicodeData(9);\n  buildUnicodeData(10);\n  buildUnicodeData(11);\n\n  var pp$8 = Parser.prototype;\n\n  var RegExpValidationState = function RegExpValidationState(parser) {\n    this.parser = parser;\n    this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\");\n    this.unicodeProperties = data[parser.options.ecmaVersion >= 11 ? 11 : parser.options.ecmaVersion];\n    this.source = \"\";\n    this.flags = \"\";\n    this.start = 0;\n    this.switchU = false;\n    this.switchN = false;\n    this.pos = 0;\n    this.lastIntValue = 0;\n    this.lastStringValue = \"\";\n    this.lastAssertionIsQuantifiable = false;\n    this.numCapturingParens = 0;\n    this.maxBackReference = 0;\n    this.groupNames = [];\n    this.backReferenceNames = [];\n  };\n\n  RegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\n    var unicode = flags.indexOf(\"u\") !== -1;\n    this.start = start | 0;\n    this.source = pattern + \"\";\n    this.flags = flags;\n    this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n    this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n  };\n\n  RegExpValidationState.prototype.raise = function raise (message) {\n    this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\n  };\n\n  RegExpValidationState.prototype.at = function at (i) {\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return -1\n    }\n    var c = s.charCodeAt(i);\n    if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n      return c\n    }\n    var next = s.charCodeAt(i + 1);\n    return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\n  };\n\n  RegExpValidationState.prototype.nextIndex = function nextIndex (i) {\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return l\n    }\n    var c = s.charCodeAt(i), next;\n    if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\n        (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\n      return i + 1\n    }\n    return i + 2\n  };\n\n  RegExpValidationState.prototype.current = function current () {\n    return this.at(this.pos)\n  };\n\n  RegExpValidationState.prototype.lookahead = function lookahead () {\n    return this.at(this.nextIndex(this.pos))\n  };\n\n  RegExpValidationState.prototype.advance = function advance () {\n    this.pos = this.nextIndex(this.pos);\n  };\n\n  RegExpValidationState.prototype.eat = function eat (ch) {\n    if (this.current() === ch) {\n      this.advance();\n      return true\n    }\n    return false\n  };\n\n  function codePointToString(ch) {\n    if (ch <= 0xFFFF) { return String.fromCharCode(ch) }\n    ch -= 0x10000;\n    return String.fromCharCode((ch >> 10) + 0xD800, (ch & 0x03FF) + 0xDC00)\n  }\n\n  pp$8.validateRegExpFlags = function(state) {\n    var validFlags = state.validFlags;\n    var flags = state.flags;\n\n    for (var i = 0; i < flags.length; i++) {\n      var flag = flags.charAt(i);\n      if (validFlags.indexOf(flag) === -1) {\n        this.raise(state.start, \"Invalid regular expression flag\");\n      }\n      if (flags.indexOf(flag, i + 1) > -1) {\n        this.raise(state.start, \"Duplicate regular expression flag\");\n      }\n    }\n  };\n\n  pp$8.validateRegExpPattern = function(state) {\n    this.regexp_pattern(state);\n\n    if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\n      state.switchN = true;\n      this.regexp_pattern(state);\n    }\n  };\n\n  pp$8.regexp_pattern = function(state) {\n    state.pos = 0;\n    state.lastIntValue = 0;\n    state.lastStringValue = \"\";\n    state.lastAssertionIsQuantifiable = false;\n    state.numCapturingParens = 0;\n    state.maxBackReference = 0;\n    state.groupNames.length = 0;\n    state.backReferenceNames.length = 0;\n\n    this.regexp_disjunction(state);\n\n    if (state.pos !== state.source.length) {\n      if (state.eat(0x29 )) {\n        state.raise(\"Unmatched ')'\");\n      }\n      if (state.eat(0x5D ) || state.eat(0x7D )) {\n        state.raise(\"Lone quantifier brackets\");\n      }\n    }\n    if (state.maxBackReference > state.numCapturingParens) {\n      state.raise(\"Invalid escape\");\n    }\n    for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n      var name = list[i];\n\n      if (state.groupNames.indexOf(name) === -1) {\n        state.raise(\"Invalid named capture referenced\");\n      }\n    }\n  };\n\n  pp$8.regexp_disjunction = function(state) {\n    this.regexp_alternative(state);\n    while (state.eat(0x7C )) {\n      this.regexp_alternative(state);\n    }\n\n    if (this.regexp_eatQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    if (state.eat(0x7B )) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  };\n\n  pp$8.regexp_alternative = function(state) {\n    while (state.pos < state.source.length && this.regexp_eatTerm(state))\n      { }\n  };\n\n  pp$8.regexp_eatTerm = function(state) {\n    if (this.regexp_eatAssertion(state)) {\n      if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n        if (state.switchU) {\n          state.raise(\"Invalid quantifier\");\n        }\n      }\n      return true\n    }\n\n    if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n      this.regexp_eatQuantifier(state);\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatAssertion = function(state) {\n    var start = state.pos;\n    state.lastAssertionIsQuantifiable = false;\n\n    if (state.eat(0x5E ) || state.eat(0x24 )) {\n      return true\n    }\n\n    if (state.eat(0x5C )) {\n      if (state.eat(0x42 ) || state.eat(0x62 )) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    if (state.eat(0x28 ) && state.eat(0x3F )) {\n      var lookbehind = false;\n      if (this.options.ecmaVersion >= 9) {\n        lookbehind = state.eat(0x3C );\n      }\n      if (state.eat(0x3D ) || state.eat(0x21 )) {\n        this.regexp_disjunction(state);\n        if (!state.eat(0x29 )) {\n          state.raise(\"Unterminated group\");\n        }\n        state.lastAssertionIsQuantifiable = !lookbehind;\n        return true\n      }\n    }\n\n    state.pos = start;\n    return false\n  };\n\n  pp$8.regexp_eatQuantifier = function(state, noError) {\n    if ( noError === void 0 ) noError = false;\n\n    if (this.regexp_eatQuantifierPrefix(state, noError)) {\n      state.eat(0x3F );\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatQuantifierPrefix = function(state, noError) {\n    return (\n      state.eat(0x2A ) ||\n      state.eat(0x2B ) ||\n      state.eat(0x3F ) ||\n      this.regexp_eatBracedQuantifier(state, noError)\n    )\n  };\n  pp$8.regexp_eatBracedQuantifier = function(state, noError) {\n    var start = state.pos;\n    if (state.eat(0x7B )) {\n      var min = 0, max = -1;\n      if (this.regexp_eatDecimalDigits(state)) {\n        min = state.lastIntValue;\n        if (state.eat(0x2C ) && this.regexp_eatDecimalDigits(state)) {\n          max = state.lastIntValue;\n        }\n        if (state.eat(0x7D )) {\n          if (max !== -1 && max < min && !noError) {\n            state.raise(\"numbers out of order in {} quantifier\");\n          }\n          return true\n        }\n      }\n      if (state.switchU && !noError) {\n        state.raise(\"Incomplete quantifier\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  pp$8.regexp_eatAtom = function(state) {\n    return (\n      this.regexp_eatPatternCharacters(state) ||\n      state.eat(0x2E ) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state)\n    )\n  };\n  pp$8.regexp_eatReverseSolidusAtomEscape = function(state) {\n    var start = state.pos;\n    if (state.eat(0x5C )) {\n      if (this.regexp_eatAtomEscape(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatUncapturingGroup = function(state) {\n    var start = state.pos;\n    if (state.eat(0x28 )) {\n      if (state.eat(0x3F ) && state.eat(0x3A )) {\n        this.regexp_disjunction(state);\n        if (state.eat(0x29 )) {\n          return true\n        }\n        state.raise(\"Unterminated group\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatCapturingGroup = function(state) {\n    if (state.eat(0x28 )) {\n      if (this.options.ecmaVersion >= 9) {\n        this.regexp_groupSpecifier(state);\n      } else if (state.current() === 0x3F ) {\n        state.raise(\"Invalid group\");\n      }\n      this.regexp_disjunction(state);\n      if (state.eat(0x29 )) {\n        state.numCapturingParens += 1;\n        return true\n      }\n      state.raise(\"Unterminated group\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatExtendedAtom = function(state) {\n    return (\n      state.eat(0x2E ) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state) ||\n      this.regexp_eatInvalidBracedQuantifier(state) ||\n      this.regexp_eatExtendedPatternCharacter(state)\n    )\n  };\n\n  pp$8.regexp_eatInvalidBracedQuantifier = function(state) {\n    if (this.regexp_eatBracedQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatSyntaxCharacter = function(state) {\n    var ch = state.current();\n    if (isSyntaxCharacter(ch)) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isSyntaxCharacter(ch) {\n    return (\n      ch === 0x24  ||\n      ch >= 0x28  && ch <= 0x2B  ||\n      ch === 0x2E  ||\n      ch === 0x3F  ||\n      ch >= 0x5B  && ch <= 0x5E  ||\n      ch >= 0x7B  && ch <= 0x7D \n    )\n  }\n\n  pp$8.regexp_eatPatternCharacters = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n      state.advance();\n    }\n    return state.pos !== start\n  };\n\n  pp$8.regexp_eatExtendedPatternCharacter = function(state) {\n    var ch = state.current();\n    if (\n      ch !== -1 &&\n      ch !== 0x24  &&\n      !(ch >= 0x28  && ch <= 0x2B ) &&\n      ch !== 0x2E  &&\n      ch !== 0x3F  &&\n      ch !== 0x5B  &&\n      ch !== 0x5E  &&\n      ch !== 0x7C \n    ) {\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_groupSpecifier = function(state) {\n    if (state.eat(0x3F )) {\n      if (this.regexp_eatGroupName(state)) {\n        if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\n          state.raise(\"Duplicate capture group name\");\n        }\n        state.groupNames.push(state.lastStringValue);\n        return\n      }\n      state.raise(\"Invalid group\");\n    }\n  };\n\n  pp$8.regexp_eatGroupName = function(state) {\n    state.lastStringValue = \"\";\n    if (state.eat(0x3C )) {\n      if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E )) {\n        return true\n      }\n      state.raise(\"Invalid capture group name\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatRegExpIdentifierName = function(state) {\n    state.lastStringValue = \"\";\n    if (this.regexp_eatRegExpIdentifierStart(state)) {\n      state.lastStringValue += codePointToString(state.lastIntValue);\n      while (this.regexp_eatRegExpIdentifierPart(state)) {\n        state.lastStringValue += codePointToString(state.lastIntValue);\n      }\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatRegExpIdentifierStart = function(state) {\n    var start = state.pos;\n    var ch = state.current();\n    state.advance();\n\n    if (ch === 0x5C  && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierStart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierStart(ch) {\n    return isIdentifierStart(ch, true) || ch === 0x24  || ch === 0x5F \n  }\n\n  pp$8.regexp_eatRegExpIdentifierPart = function(state) {\n    var start = state.pos;\n    var ch = state.current();\n    state.advance();\n\n    if (ch === 0x5C  && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierPart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierPart(ch) {\n    return isIdentifierChar(ch, true) || ch === 0x24  || ch === 0x5F  || ch === 0x200C  || ch === 0x200D \n  }\n\n  pp$8.regexp_eatAtomEscape = function(state) {\n    if (\n      this.regexp_eatBackReference(state) ||\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state) ||\n      (state.switchN && this.regexp_eatKGroupName(state))\n    ) {\n      return true\n    }\n    if (state.switchU) {\n      if (state.current() === 0x63 ) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.raise(\"Invalid escape\");\n    }\n    return false\n  };\n  pp$8.regexp_eatBackReference = function(state) {\n    var start = state.pos;\n    if (this.regexp_eatDecimalEscape(state)) {\n      var n = state.lastIntValue;\n      if (state.switchU) {\n        if (n > state.maxBackReference) {\n          state.maxBackReference = n;\n        }\n        return true\n      }\n      if (n <= state.numCapturingParens) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatKGroupName = function(state) {\n    if (state.eat(0x6B )) {\n      if (this.regexp_eatGroupName(state)) {\n        state.backReferenceNames.push(state.lastStringValue);\n        return true\n      }\n      state.raise(\"Invalid named reference\");\n    }\n    return false\n  };\n\n  pp$8.regexp_eatCharacterEscape = function(state) {\n    return (\n      this.regexp_eatControlEscape(state) ||\n      this.regexp_eatCControlLetter(state) ||\n      this.regexp_eatZero(state) ||\n      this.regexp_eatHexEscapeSequence(state) ||\n      this.regexp_eatRegExpUnicodeEscapeSequence(state) ||\n      (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\n      this.regexp_eatIdentityEscape(state)\n    )\n  };\n  pp$8.regexp_eatCControlLetter = function(state) {\n    var start = state.pos;\n    if (state.eat(0x63 )) {\n      if (this.regexp_eatControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$8.regexp_eatZero = function(state) {\n    if (state.current() === 0x30  && !isDecimalDigit(state.lookahead())) {\n      state.lastIntValue = 0;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatControlEscape = function(state) {\n    var ch = state.current();\n    if (ch === 0x74 ) {\n      state.lastIntValue = 0x09; \n      state.advance();\n      return true\n    }\n    if (ch === 0x6E ) {\n      state.lastIntValue = 0x0A; \n      state.advance();\n      return true\n    }\n    if (ch === 0x76 ) {\n      state.lastIntValue = 0x0B; \n      state.advance();\n      return true\n    }\n    if (ch === 0x66 ) {\n      state.lastIntValue = 0x0C; \n      state.advance();\n      return true\n    }\n    if (ch === 0x72 ) {\n      state.lastIntValue = 0x0D; \n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatControlLetter = function(state) {\n    var ch = state.current();\n    if (isControlLetter(ch)) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isControlLetter(ch) {\n    return (\n      (ch >= 0x41  && ch <= 0x5A ) ||\n      (ch >= 0x61  && ch <= 0x7A )\n    )\n  }\n\n  pp$8.regexp_eatRegExpUnicodeEscapeSequence = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x75 )) {\n      if (this.regexp_eatFixedHexDigits(state, 4)) {\n        var lead = state.lastIntValue;\n        if (state.switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n          var leadSurrogateEnd = state.pos;\n          if (state.eat(0x5C ) && state.eat(0x75 ) && this.regexp_eatFixedHexDigits(state, 4)) {\n            var trail = state.lastIntValue;\n            if (trail >= 0xDC00 && trail <= 0xDFFF) {\n              state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n              return true\n            }\n          }\n          state.pos = leadSurrogateEnd;\n          state.lastIntValue = lead;\n        }\n        return true\n      }\n      if (\n        state.switchU &&\n        state.eat(0x7B ) &&\n        this.regexp_eatHexDigits(state) &&\n        state.eat(0x7D ) &&\n        isValidUnicode(state.lastIntValue)\n      ) {\n        return true\n      }\n      if (state.switchU) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.pos = start;\n    }\n\n    return false\n  };\n  function isValidUnicode(ch) {\n    return ch >= 0 && ch <= 0x10FFFF\n  }\n\n  pp$8.regexp_eatIdentityEscape = function(state) {\n    if (state.switchU) {\n      if (this.regexp_eatSyntaxCharacter(state)) {\n        return true\n      }\n      if (state.eat(0x2F )) {\n        state.lastIntValue = 0x2F; \n        return true\n      }\n      return false\n    }\n\n    var ch = state.current();\n    if (ch !== 0x63  && (!state.switchN || ch !== 0x6B )) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatDecimalEscape = function(state) {\n    state.lastIntValue = 0;\n    var ch = state.current();\n    if (ch >= 0x31  && ch <= 0x39 ) {\n      do {\n        state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 );\n        state.advance();\n      } while ((ch = state.current()) >= 0x30  && ch <= 0x39 )\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatCharacterClassEscape = function(state) {\n    var ch = state.current();\n\n    if (isCharacterClassEscape(ch)) {\n      state.lastIntValue = -1;\n      state.advance();\n      return true\n    }\n\n    if (\n      state.switchU &&\n      this.options.ecmaVersion >= 9 &&\n      (ch === 0x50  || ch === 0x70 )\n    ) {\n      state.lastIntValue = -1;\n      state.advance();\n      if (\n        state.eat(0x7B ) &&\n        this.regexp_eatUnicodePropertyValueExpression(state) &&\n        state.eat(0x7D )\n      ) {\n        return true\n      }\n      state.raise(\"Invalid property name\");\n    }\n\n    return false\n  };\n  function isCharacterClassEscape(ch) {\n    return (\n      ch === 0x64  ||\n      ch === 0x44  ||\n      ch === 0x73  ||\n      ch === 0x53  ||\n      ch === 0x77  ||\n      ch === 0x57 \n    )\n  }\n\n  pp$8.regexp_eatUnicodePropertyValueExpression = function(state) {\n    var start = state.pos;\n\n    if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D )) {\n      var name = state.lastStringValue;\n      if (this.regexp_eatUnicodePropertyValue(state)) {\n        var value = state.lastStringValue;\n        this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n        return true\n      }\n    }\n    state.pos = start;\n\n    if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n      var nameOrValue = state.lastStringValue;\n      this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue);\n      return true\n    }\n    return false\n  };\n  pp$8.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\n    if (!has(state.unicodeProperties.nonBinary, name))\n      { state.raise(\"Invalid property name\"); }\n    if (!state.unicodeProperties.nonBinary[name].test(value))\n      { state.raise(\"Invalid property value\"); }\n  };\n  pp$8.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\n    if (!state.unicodeProperties.binary.test(nameOrValue))\n      { state.raise(\"Invalid property name\"); }\n  };\n\n  pp$8.regexp_eatUnicodePropertyName = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyNameCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyNameCharacter(ch) {\n    return isControlLetter(ch) || ch === 0x5F \n  }\n\n  pp$8.regexp_eatUnicodePropertyValue = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyValueCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyValueCharacter(ch) {\n    return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\n  }\n\n  pp$8.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\n    return this.regexp_eatUnicodePropertyValue(state)\n  };\n\n  pp$8.regexp_eatCharacterClass = function(state) {\n    if (state.eat(0x5B )) {\n      state.eat(0x5E );\n      this.regexp_classRanges(state);\n      if (state.eat(0x5D )) {\n        return true\n      }\n      state.raise(\"Unterminated character class\");\n    }\n    return false\n  };\n\n  pp$8.regexp_classRanges = function(state) {\n    while (this.regexp_eatClassAtom(state)) {\n      var left = state.lastIntValue;\n      if (state.eat(0x2D ) && this.regexp_eatClassAtom(state)) {\n        var right = state.lastIntValue;\n        if (state.switchU && (left === -1 || right === -1)) {\n          state.raise(\"Invalid character class\");\n        }\n        if (left !== -1 && right !== -1 && left > right) {\n          state.raise(\"Range out of order in character class\");\n        }\n      }\n    }\n  };\n\n  pp$8.regexp_eatClassAtom = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x5C )) {\n      if (this.regexp_eatClassEscape(state)) {\n        return true\n      }\n      if (state.switchU) {\n        var ch$1 = state.current();\n        if (ch$1 === 0x63  || isOctalDigit(ch$1)) {\n          state.raise(\"Invalid class escape\");\n        }\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n\n    var ch = state.current();\n    if (ch !== 0x5D ) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  pp$8.regexp_eatClassEscape = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x62 )) {\n      state.lastIntValue = 0x08; \n      return true\n    }\n\n    if (state.switchU && state.eat(0x2D )) {\n      state.lastIntValue = 0x2D; \n      return true\n    }\n\n    if (!state.switchU && state.eat(0x63 )) {\n      if (this.regexp_eatClassControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    return (\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state)\n    )\n  };\n\n  pp$8.regexp_eatClassControlLetter = function(state) {\n    var ch = state.current();\n    if (isDecimalDigit(ch) || ch === 0x5F ) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatHexEscapeSequence = function(state) {\n    var start = state.pos;\n    if (state.eat(0x78 )) {\n      if (this.regexp_eatFixedHexDigits(state, 2)) {\n        return true\n      }\n      if (state.switchU) {\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  pp$8.regexp_eatDecimalDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isDecimalDigit(ch = state.current())) {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 );\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isDecimalDigit(ch) {\n    return ch >= 0x30  && ch <= 0x39 \n  }\n\n  pp$8.regexp_eatHexDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isHexDigit(ch = state.current())) {\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isHexDigit(ch) {\n    return (\n      (ch >= 0x30  && ch <= 0x39 ) ||\n      (ch >= 0x41  && ch <= 0x46 ) ||\n      (ch >= 0x61  && ch <= 0x66 )\n    )\n  }\n  function hexToInt(ch) {\n    if (ch >= 0x41  && ch <= 0x46 ) {\n      return 10 + (ch - 0x41 )\n    }\n    if (ch >= 0x61  && ch <= 0x66 ) {\n      return 10 + (ch - 0x61 )\n    }\n    return ch - 0x30 \n  }\n\n  pp$8.regexp_eatLegacyOctalEscapeSequence = function(state) {\n    if (this.regexp_eatOctalDigit(state)) {\n      var n1 = state.lastIntValue;\n      if (this.regexp_eatOctalDigit(state)) {\n        var n2 = state.lastIntValue;\n        if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n          state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n        } else {\n          state.lastIntValue = n1 * 8 + n2;\n        }\n      } else {\n        state.lastIntValue = n1;\n      }\n      return true\n    }\n    return false\n  };\n\n  pp$8.regexp_eatOctalDigit = function(state) {\n    var ch = state.current();\n    if (isOctalDigit(ch)) {\n      state.lastIntValue = ch - 0x30; \n      state.advance();\n      return true\n    }\n    state.lastIntValue = 0;\n    return false\n  };\n  function isOctalDigit(ch) {\n    return ch >= 0x30  && ch <= 0x37 \n  }\n\n  pp$8.regexp_eatFixedHexDigits = function(state, length) {\n    var start = state.pos;\n    state.lastIntValue = 0;\n    for (var i = 0; i < length; ++i) {\n      var ch = state.current();\n      if (!isHexDigit(ch)) {\n        state.pos = start;\n        return false\n      }\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return true\n  };\n\n\n  var Token = function Token(p) {\n    this.type = p.type;\n    this.value = p.value;\n    this.start = p.start;\n    this.end = p.end;\n    if (p.options.locations)\n      { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\n    if (p.options.ranges)\n      { this.range = [p.start, p.end]; }\n  };\n\n\n  var pp$9 = Parser.prototype;\n\n\n  pp$9.next = function(ignoreEscapeSequenceInKeyword) {\n    if (!ignoreEscapeSequenceInKeyword && this.type.keyword && this.containsEsc)\n      { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + this.type.keyword); }\n    if (this.options.onToken)\n      { this.options.onToken(new Token(this)); }\n\n    this.lastTokEnd = this.end;\n    this.lastTokStart = this.start;\n    this.lastTokEndLoc = this.endLoc;\n    this.lastTokStartLoc = this.startLoc;\n    this.nextToken();\n  };\n\n  pp$9.getToken = function() {\n    this.next();\n    return new Token(this)\n  };\n\n  if (typeof Symbol !== \"undefined\")\n    { pp$9[Symbol.iterator] = function() {\n      var this$1 = this;\n\n      return {\n        next: function () {\n          var token = this$1.getToken();\n          return {\n            done: token.type === types.eof,\n            value: token\n          }\n        }\n      }\n    }; }\n\n\n  pp$9.curContext = function() {\n    return this.context[this.context.length - 1]\n  };\n\n\n  pp$9.nextToken = function() {\n    var curContext = this.curContext();\n    if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\n\n    this.start = this.pos;\n    if (this.options.locations) { this.startLoc = this.curPosition(); }\n    if (this.pos >= this.input.length) { return this.finishToken(types.eof) }\n\n    if (curContext.override) { return curContext.override(this) }\n    else { this.readToken(this.fullCharCodeAtPos()); }\n  };\n\n  pp$9.readToken = function(code) {\n    if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 )\n      { return this.readWord() }\n\n    return this.getTokenFromCode(code)\n  };\n\n  pp$9.fullCharCodeAtPos = function() {\n    var code = this.input.charCodeAt(this.pos);\n    if (code <= 0xd7ff || code >= 0xe000) { return code }\n    var next = this.input.charCodeAt(this.pos + 1);\n    return (code << 10) + next - 0x35fdc00\n  };\n\n  pp$9.skipBlockComment = function() {\n    var startLoc = this.options.onComment && this.curPosition();\n    var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\n    if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\n    this.pos = end + 2;\n    if (this.options.locations) {\n      lineBreakG.lastIndex = start;\n      var match;\n      while ((match = lineBreakG.exec(this.input)) && match.index < this.pos) {\n        ++this.curLine;\n        this.lineStart = match.index + match[0].length;\n      }\n    }\n    if (this.options.onComment)\n      { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n  pp$9.skipLineComment = function(startSkip) {\n    var start = this.pos;\n    var startLoc = this.options.onComment && this.curPosition();\n    var ch = this.input.charCodeAt(this.pos += startSkip);\n    while (this.pos < this.input.length && !isNewLine(ch)) {\n      ch = this.input.charCodeAt(++this.pos);\n    }\n    if (this.options.onComment)\n      { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n\n  pp$9.skipSpace = function() {\n    loop: while (this.pos < this.input.length) {\n      var ch = this.input.charCodeAt(this.pos);\n      switch (ch) {\n      case 32: case 160: \n        ++this.pos;\n        break\n      case 13:\n        if (this.input.charCodeAt(this.pos + 1) === 10) {\n          ++this.pos;\n        }\n      case 10: case 8232: case 8233:\n        ++this.pos;\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        break\n      case 47: \n        switch (this.input.charCodeAt(this.pos + 1)) {\n        case 42: \n          this.skipBlockComment();\n          break\n        case 47:\n          this.skipLineComment(2);\n          break\n        default:\n          break loop\n        }\n        break\n      default:\n        if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n          ++this.pos;\n        } else {\n          break loop\n        }\n      }\n    }\n  };\n\n\n  pp$9.finishToken = function(type, val) {\n    this.end = this.pos;\n    if (this.options.locations) { this.endLoc = this.curPosition(); }\n    var prevType = this.type;\n    this.type = type;\n    this.value = val;\n\n    this.updateContext(prevType);\n  };\n\n\n  pp$9.readToken_dot = function() {\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next >= 48 && next <= 57) { return this.readNumber(true) }\n    var next2 = this.input.charCodeAt(this.pos + 2);\n    if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { \n      this.pos += 3;\n      return this.finishToken(types.ellipsis)\n    } else {\n      ++this.pos;\n      return this.finishToken(types.dot)\n    }\n  };\n\n  pp$9.readToken_slash = function() { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.slash, 1)\n  };\n\n  pp$9.readToken_mult_modulo_exp = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    var tokentype = code === 42 ? types.star : types.modulo;\n\n    if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n      ++size;\n      tokentype = types.starstar;\n      next = this.input.charCodeAt(this.pos + 2);\n    }\n\n    if (next === 61) { return this.finishOp(types.assign, size + 1) }\n    return this.finishOp(tokentype, size)\n  };\n\n  pp$9.readToken_pipe_amp = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) { return this.finishOp(code === 124 ? types.logicalOR : types.logicalAND, 2) }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(code === 124 ? types.bitwiseOR : types.bitwiseAND, 1)\n  };\n\n  pp$9.readToken_caret = function() { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.bitwiseXOR, 1)\n  };\n\n  pp$9.readToken_plus_min = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) {\n      if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\n          (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n        this.skipLineComment(3);\n        this.skipSpace();\n        return this.nextToken()\n      }\n      return this.finishOp(types.incDec, 2)\n    }\n    if (next === 61) { return this.finishOp(types.assign, 2) }\n    return this.finishOp(types.plusMin, 1)\n  };\n\n  pp$9.readToken_lt_gt = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    if (next === code) {\n      size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n      if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types.assign, size + 1) }\n      return this.finishOp(types.bitShift, size)\n    }\n    if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\n        this.input.charCodeAt(this.pos + 3) === 45) {\n      this.skipLineComment(4);\n      this.skipSpace();\n      return this.nextToken()\n    }\n    if (next === 61) { size = 2; }\n    return this.finishOp(types.relational, size)\n  };\n\n  pp$9.readToken_eq_excl = function(code) { \n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\n    if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { \n      this.pos += 2;\n      return this.finishToken(types.arrow)\n    }\n    return this.finishOp(code === 61 ? types.eq : types.prefix, 1)\n  };\n\n  pp$9.getTokenFromCode = function(code) {\n    switch (code) {\n    case 46: \n      return this.readToken_dot()\n\n    case 40: ++this.pos; return this.finishToken(types.parenL)\n    case 41: ++this.pos; return this.finishToken(types.parenR)\n    case 59: ++this.pos; return this.finishToken(types.semi)\n    case 44: ++this.pos; return this.finishToken(types.comma)\n    case 91: ++this.pos; return this.finishToken(types.bracketL)\n    case 93: ++this.pos; return this.finishToken(types.bracketR)\n    case 123: ++this.pos; return this.finishToken(types.braceL)\n    case 125: ++this.pos; return this.finishToken(types.braceR)\n    case 58: ++this.pos; return this.finishToken(types.colon)\n    case 63: ++this.pos; return this.finishToken(types.question)\n\n    case 96: \n      if (this.options.ecmaVersion < 6) { break }\n      ++this.pos;\n      return this.finishToken(types.backQuote)\n\n    case 48: \n      var next = this.input.charCodeAt(this.pos + 1);\n      if (next === 120 || next === 88) { return this.readRadixNumber(16) } \n      if (this.options.ecmaVersion >= 6) {\n        if (next === 111 || next === 79) { return this.readRadixNumber(8) } \n        if (next === 98 || next === 66) { return this.readRadixNumber(2) } \n      }\n\n    case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: \n      return this.readNumber(false)\n\n    case 34: case 39: \n      return this.readString(code)\n\n\n    case 47: \n      return this.readToken_slash()\n\n    case 37: case 42: \n      return this.readToken_mult_modulo_exp(code)\n\n    case 124: case 38: \n      return this.readToken_pipe_amp(code)\n\n    case 94: \n      return this.readToken_caret()\n\n    case 43: case 45: \n      return this.readToken_plus_min(code)\n\n    case 60: case 62: \n      return this.readToken_lt_gt(code)\n\n    case 61: case 33: \n      return this.readToken_eq_excl(code)\n\n    case 126: \n      return this.finishOp(types.prefix, 1)\n    }\n\n    this.raise(this.pos, \"Unexpected character '\" + codePointToString$1(code) + \"'\");\n  };\n\n  pp$9.finishOp = function(type, size) {\n    var str = this.input.slice(this.pos, this.pos + size);\n    this.pos += size;\n    return this.finishToken(type, str)\n  };\n\n  pp$9.readRegexp = function() {\n    var escaped, inClass, start = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\n      var ch = this.input.charAt(this.pos);\n      if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\n      if (!escaped) {\n        if (ch === \"[\") { inClass = true; }\n        else if (ch === \"]\" && inClass) { inClass = false; }\n        else if (ch === \"/\" && !inClass) { break }\n        escaped = ch === \"\\\\\";\n      } else { escaped = false; }\n      ++this.pos;\n    }\n    var pattern = this.input.slice(start, this.pos);\n    ++this.pos;\n    var flagsStart = this.pos;\n    var flags = this.readWord1();\n    if (this.containsEsc) { this.unexpected(flagsStart); }\n\n    var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n    state.reset(start, pattern, flags);\n    this.validateRegExpFlags(state);\n    this.validateRegExpPattern(state);\n\n    var value = null;\n    try {\n      value = new RegExp(pattern, flags);\n    } catch (e) {\n    }\n\n    return this.finishToken(types.regexp, {pattern: pattern, flags: flags, value: value})\n  };\n\n\n  pp$9.readInt = function(radix, len) {\n    var start = this.pos, total = 0;\n    for (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n      var code = this.input.charCodeAt(this.pos), val = (void 0);\n      if (code >= 97) { val = code - 97 + 10; } \n      else if (code >= 65) { val = code - 65 + 10; } \n      else if (code >= 48 && code <= 57) { val = code - 48; } \n      else { val = Infinity; }\n      if (val >= radix) { break }\n      ++this.pos;\n      total = total * radix + val;\n    }\n    if (this.pos === start || len != null && this.pos - start !== len) { return null }\n\n    return total\n  };\n\n  pp$9.readRadixNumber = function(radix) {\n    var start = this.pos;\n    this.pos += 2; \n    var val = this.readInt(radix);\n    if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\n    if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n      val = typeof BigInt !== \"undefined\" ? BigInt(this.input.slice(start, this.pos)) : null;\n      ++this.pos;\n    } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n    return this.finishToken(types.num, val)\n  };\n\n\n  pp$9.readNumber = function(startsWithDot) {\n    var start = this.pos;\n    if (!startsWithDot && this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n    var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n    if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\n    var next = this.input.charCodeAt(this.pos);\n    if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n      var str$1 = this.input.slice(start, this.pos);\n      var val$1 = typeof BigInt !== \"undefined\" ? BigInt(str$1) : null;\n      ++this.pos;\n      if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n      return this.finishToken(types.num, val$1)\n    }\n    if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\n    if (next === 46 && !octal) { \n      ++this.pos;\n      this.readInt(10);\n      next = this.input.charCodeAt(this.pos);\n    }\n    if ((next === 69 || next === 101) && !octal) { \n      next = this.input.charCodeAt(++this.pos);\n      if (next === 43 || next === 45) { ++this.pos; } \n      if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n    }\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n\n    var str = this.input.slice(start, this.pos);\n    var val = octal ? parseInt(str, 8) : parseFloat(str);\n    return this.finishToken(types.num, val)\n  };\n\n\n  pp$9.readCodePoint = function() {\n    var ch = this.input.charCodeAt(this.pos), code;\n\n    if (ch === 123) { \n      if (this.options.ecmaVersion < 6) { this.unexpected(); }\n      var codePos = ++this.pos;\n      code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n      ++this.pos;\n      if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\n    } else {\n      code = this.readHexChar(4);\n    }\n    return code\n  };\n\n  function codePointToString$1(code) {\n    if (code <= 0xFFFF) { return String.fromCharCode(code) }\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n  }\n\n  pp$9.readString = function(quote) {\n    var out = \"\", chunkStart = ++this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === quote) { break }\n      if (ch === 92) { \n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(false);\n        chunkStart = this.pos;\n      } else {\n        if (isNewLine(ch, this.options.ecmaVersion >= 10)) { this.raise(this.start, \"Unterminated string constant\"); }\n        ++this.pos;\n      }\n    }\n    out += this.input.slice(chunkStart, this.pos++);\n    return this.finishToken(types.string, out)\n  };\n\n\n  var INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\n  pp$9.tryReadTemplateToken = function() {\n    this.inTemplateElement = true;\n    try {\n      this.readTmplToken();\n    } catch (err) {\n      if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n        this.readInvalidTemplateToken();\n      } else {\n        throw err\n      }\n    }\n\n    this.inTemplateElement = false;\n  };\n\n  pp$9.invalidStringToken = function(position, message) {\n    if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n      throw INVALID_TEMPLATE_ESCAPE_ERROR\n    } else {\n      this.raise(position, message);\n    }\n  };\n\n  pp$9.readTmplToken = function() {\n    var out = \"\", chunkStart = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { \n        if (this.pos === this.start && (this.type === types.template || this.type === types.invalidTemplate)) {\n          if (ch === 36) {\n            this.pos += 2;\n            return this.finishToken(types.dollarBraceL)\n          } else {\n            ++this.pos;\n            return this.finishToken(types.backQuote)\n          }\n        }\n        out += this.input.slice(chunkStart, this.pos);\n        return this.finishToken(types.template, out)\n      }\n      if (ch === 92) { \n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(true);\n        chunkStart = this.pos;\n      } else if (isNewLine(ch)) {\n        out += this.input.slice(chunkStart, this.pos);\n        ++this.pos;\n        switch (ch) {\n        case 13:\n          if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\n        case 10:\n          out += \"\\n\";\n          break\n        default:\n          out += String.fromCharCode(ch);\n          break\n        }\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        chunkStart = this.pos;\n      } else {\n        ++this.pos;\n      }\n    }\n  };\n\n  pp$9.readInvalidTemplateToken = function() {\n    for (; this.pos < this.input.length; this.pos++) {\n      switch (this.input[this.pos]) {\n      case \"\\\\\":\n        ++this.pos;\n        break\n\n      case \"$\":\n        if (this.input[this.pos + 1] !== \"{\") {\n          break\n        }\n\n      case \"`\":\n        return this.finishToken(types.invalidTemplate, this.input.slice(this.start, this.pos))\n\n      }\n    }\n    this.raise(this.start, \"Unterminated template\");\n  };\n\n\n  pp$9.readEscapedChar = function(inTemplate) {\n    var ch = this.input.charCodeAt(++this.pos);\n    ++this.pos;\n    switch (ch) {\n    case 110: return \"\\n\" \n    case 114: return \"\\r\" \n    case 120: return String.fromCharCode(this.readHexChar(2)) \n    case 117: return codePointToString$1(this.readCodePoint()) \n    case 116: return \"\\t\" \n    case 98: return \"\\b\" \n    case 118: return \"\\u000b\" \n    case 102: return \"\\f\" \n    case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } \n    case 10: \n      if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n      return \"\"\n    case 56:\n    case 57:\n      if (inTemplate) {\n        var codePos = this.pos - 1;\n\n        this.invalidStringToken(\n          codePos,\n          \"Invalid escape sequence in template string\"\n        );\n\n        return null\n      }\n    default:\n      if (ch >= 48 && ch <= 55) {\n        var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n        var octal = parseInt(octalStr, 8);\n        if (octal > 255) {\n          octalStr = octalStr.slice(0, -1);\n          octal = parseInt(octalStr, 8);\n        }\n        this.pos += octalStr.length - 1;\n        ch = this.input.charCodeAt(this.pos);\n        if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n          this.invalidStringToken(\n            this.pos - 1 - octalStr.length,\n            inTemplate\n              ? \"Octal literal in template string\"\n              : \"Octal literal in strict mode\"\n          );\n        }\n        return String.fromCharCode(octal)\n      }\n      if (isNewLine(ch)) {\n        return \"\"\n      }\n      return String.fromCharCode(ch)\n    }\n  };\n\n\n  pp$9.readHexChar = function(len) {\n    var codePos = this.pos;\n    var n = this.readInt(16, len);\n    if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\n    return n\n  };\n\n\n  pp$9.readWord1 = function() {\n    this.containsEsc = false;\n    var word = \"\", first = true, chunkStart = this.pos;\n    var astral = this.options.ecmaVersion >= 6;\n    while (this.pos < this.input.length) {\n      var ch = this.fullCharCodeAtPos();\n      if (isIdentifierChar(ch, astral)) {\n        this.pos += ch <= 0xffff ? 1 : 2;\n      } else if (ch === 92) { \n        this.containsEsc = true;\n        word += this.input.slice(chunkStart, this.pos);\n        var escStart = this.pos;\n        if (this.input.charCodeAt(++this.pos) !== 117) \n          { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\n        ++this.pos;\n        var esc = this.readCodePoint();\n        if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n          { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\n        word += codePointToString$1(esc);\n        chunkStart = this.pos;\n      } else {\n        break\n      }\n      first = false;\n    }\n    return word + this.input.slice(chunkStart, this.pos)\n  };\n\n\n  pp$9.readWord = function() {\n    var word = this.readWord1();\n    var type = types.name;\n    if (this.keywords.test(word)) {\n      type = keywords$1[word];\n    }\n    return this.finishToken(type, word)\n  };\n\n\n  var version = \"7.1.0\";\n\n  Parser.acorn = {\n    Parser: Parser,\n    version: version,\n    defaultOptions: defaultOptions,\n    Position: Position,\n    SourceLocation: SourceLocation,\n    getLineInfo: getLineInfo,\n    Node: Node,\n    TokenType: TokenType,\n    tokTypes: types,\n    keywordTypes: keywords$1,\n    TokContext: TokContext,\n    tokContexts: types$1,\n    isIdentifierChar: isIdentifierChar,\n    isIdentifierStart: isIdentifierStart,\n    Token: Token,\n    isNewLine: isNewLine,\n    lineBreak: lineBreak,\n    lineBreakG: lineBreakG,\n    nonASCIIwhitespace: nonASCIIwhitespace\n  };\n\n\n  function parse(input, options) {\n    return Parser.parse(input, options)\n  }\n\n\n  function parseExpressionAt(input, pos, options) {\n    return Parser.parseExpressionAt(input, pos, options)\n  }\n\n\n  function tokenizer(input, options) {\n    return Parser.tokenizer(input, options)\n  }\n\n  exports.Node = Node;\n  exports.Parser = Parser;\n  exports.Position = Position;\n  exports.SourceLocation = SourceLocation;\n  exports.TokContext = TokContext;\n  exports.Token = Token;\n  exports.TokenType = TokenType;\n  exports.defaultOptions = defaultOptions;\n  exports.getLineInfo = getLineInfo;\n  exports.isIdentifierChar = isIdentifierChar;\n  exports.isIdentifierStart = isIdentifierStart;\n  exports.isNewLine = isNewLine;\n  exports.keywordTypes = keywords$1;\n  exports.lineBreak = lineBreak;\n  exports.lineBreakG = lineBreakG;\n  exports.nonASCIIwhitespace = nonASCIIwhitespace;\n  exports.parse = parse;\n  exports.parseExpressionAt = parseExpressionAt;\n  exports.tokContexts = types$1;\n  exports.tokTypes = types;\n  exports.tokenizer = tokenizer;\n  exports.version = version;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n\n},{}],2:[function(require,module,exports){\n\n},{}],3:[function(require,module,exports){\nfunction glWiretap(gl, options = {}) {\n  const {\n    contextName = 'gl',\n    throwGetError,\n    useTrackablePrimitives,\n    readPixelsFile,\n    recording = [],\n    variables = {},\n    onReadPixels,\n    onUnrecognizedArgumentLookup,\n  } = options;\n  const proxy = new Proxy(gl, { get: listen });\n  const contextVariables = [];\n  const entityNames = {};\n  let imageCount = 0;\n  let indent = '';\n  let readPixelsVariableName;\n  return proxy;\n  function listen(obj, property) {\n    switch (property) {\n      case 'addComment': return addComment;\n      case 'checkThrowError': return checkThrowError;\n      case 'getReadPixelsVariableName': return readPixelsVariableName;\n      case 'insertVariable': return insertVariable;\n      case 'reset': return reset;\n      case 'setIndent': return setIndent;\n      case 'toString': return toString;\n      case 'getContextVariableName': return getContextVariableName;\n    }\n    if (typeof gl[property] === 'function') {\n      return function() { \n        switch (property) {\n          case 'getError':\n            if (throwGetError) {\n              recording.push(`${indent}if (${contextName}.getError() !== ${contextName}.NONE) throw new Error('error');`);\n            } else {\n              recording.push(`${indent}${contextName}.getError();`); \n            }\n            return gl.getError();\n          case 'getExtension': {\n            const variableName = `${contextName}Variables${contextVariables.length}`;\n            recording.push(`${indent}const ${variableName} = ${contextName}.getExtension('${arguments[0]}');`);\n            const extension = gl.getExtension(arguments[0]);\n            if (extension && typeof extension === 'object') {\n              const tappedExtension = glExtensionWiretap(extension, {\n                getEntity,\n                useTrackablePrimitives,\n                recording,\n                contextName: variableName,\n                contextVariables,\n                variables,\n                indent,\n                onUnrecognizedArgumentLookup,\n              });\n              contextVariables.push(tappedExtension);\n              return tappedExtension;\n            } else {\n              contextVariables.push(null);\n            }\n            return extension;\n          }\n          case 'readPixels':\n            const i = contextVariables.indexOf(arguments[6]);\n            let targetVariableName;\n            if (i === -1) {\n              const variableName = getVariableName(arguments[6]);\n              if (variableName) {\n                targetVariableName = variableName;\n                recording.push(`${indent}${variableName}`);\n              } else {\n                targetVariableName = `${contextName}Variable${contextVariables.length}`;\n                contextVariables.push(arguments[6]);\n                recording.push(`${indent}const ${targetVariableName} = new ${arguments[6].constructor.name}(${arguments[6].length});`);\n              }\n            } else {\n              targetVariableName = `${contextName}Variable${i}`;\n            }\n            readPixelsVariableName = targetVariableName;\n            const argumentAsStrings = [\n              arguments[0],\n              arguments[1],\n              arguments[2],\n              arguments[3],\n              getEntity(arguments[4]),\n              getEntity(arguments[5]),\n              targetVariableName\n            ];\n            recording.push(`${indent}${contextName}.readPixels(${argumentAsStrings.join(', ')});`);\n            if (readPixelsFile) {\n              writePPM(arguments[2], arguments[3]);\n            }\n            if (onReadPixels) {\n              onReadPixels(targetVariableName, argumentAsStrings);\n            }\n            return gl.readPixels.apply(gl, arguments);\n          case 'drawBuffers':\n            recording.push(`${indent}${contextName}.drawBuffers([${argumentsToString(arguments[0], { contextName, contextVariables, getEntity, addVariable, variables, onUnrecognizedArgumentLookup } )}]);`);\n            return gl.drawBuffers(arguments[0]);\n        }\n        let result = gl[property].apply(gl, arguments);\n        switch (typeof result) {\n          case 'undefined':\n            recording.push(`${indent}${methodCallToString(property, arguments)};`);\n            return;\n          case 'number':\n          case 'boolean':\n            if (useTrackablePrimitives && contextVariables.indexOf(trackablePrimitive(result)) === -1) {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result = trackablePrimitive(result));\n              break;\n            }\n          default:\n            if (result === null) {\n              recording.push(`${methodCallToString(property, arguments)};`);\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n            }\n\n            contextVariables.push(result);\n        }\n        return result;\n      }\n    }\n    entityNames[gl[property]] = property;\n    return gl[property];\n  }\n  function toString() {\n    return recording.join('\\n');\n  }\n  function reset() {\n    while (recording.length > 0) {\n      recording.pop();\n    }\n  }\n  function insertVariable(name, value) {\n    variables[name] = value;\n  }\n  function getEntity(value) {\n    const name = entityNames[value];\n    if (name) {\n      return contextName + '.' + name;\n    }\n    return value;\n  }\n  function setIndent(spaces) {\n    indent = ' '.repeat(spaces);\n  }\n  function addVariable(value, source) {\n    const variableName = `${contextName}Variable${contextVariables.length}`;\n    recording.push(`${indent}const ${variableName} = ${source};`);\n    contextVariables.push(value);\n    return variableName;\n  }\n  function writePPM(width, height) {\n    const sourceVariable = `${contextName}Variable${contextVariables.length}`;\n    const imageVariable = `imageDatum${imageCount}`;\n    recording.push(`${indent}let ${imageVariable} = [\"P3\\\\n# ${readPixelsFile}.ppm\\\\n\", ${width}, ' ', ${height}, \"\\\\n255\\\\n\"].join(\"\");`);\n    recording.push(`${indent}for (let i = 0; i < ${imageVariable}.length; i += 4) {`);\n    recording.push(`${indent}  ${imageVariable} += ${sourceVariable}[i] + ' ' + ${sourceVariable}[i + 1] + ' ' + ${sourceVariable}[i + 2] + ' ';`);\n    recording.push(`${indent}}`);\n    recording.push(`${indent}if (typeof require !== \"undefined\") {`);\n    recording.push(`${indent}  require('fs').writeFileSync('./${readPixelsFile}.ppm', ${imageVariable});`);\n    recording.push(`${indent}}`);\n    imageCount++;\n  }\n  function addComment(value) {\n    recording.push(`${indent}// ${value}`);\n  }\n  function checkThrowError() {\n    recording.push(`${indent}(() => {\n${indent}const error = ${contextName}.getError();\n${indent}if (error !== ${contextName}.NONE) {\n${indent}  const names = Object.getOwnPropertyNames(gl);\n${indent}  for (let i = 0; i < names.length; i++) {\n${indent}    const name = names[i];\n${indent}    if (${contextName}[name] === error) {\n${indent}      throw new Error('${contextName} threw ' + name);\n${indent}    }\n${indent}  }\n${indent}}\n${indent}})();`);\n  }\n  function methodCallToString(method, args) {\n    return `${contextName}.${method}(${argumentsToString(args, { contextName, contextVariables, getEntity, addVariable, variables, onUnrecognizedArgumentLookup })})`;\n  }\n\n  function getVariableName(value) {\n    if (variables) {\n      for (const name in variables) {\n        if (variables[name] === value) {\n          return name;\n        }\n      }\n    }\n    return null;\n  }\n\n  function getContextVariableName(value) {\n    const i = contextVariables.indexOf(value);\n    if (i !== -1) {\n      return `${contextName}Variable${i}`;\n    }\n    return null;\n  }\n}\n\nfunction glExtensionWiretap(extension, options) {\n  const proxy = new Proxy(extension, { get: listen });\n  const extensionEntityNames = {};\n  const {\n    contextName,\n    contextVariables,\n    getEntity,\n    useTrackablePrimitives,\n    recording,\n    variables,\n    indent,\n    onUnrecognizedArgumentLookup,\n  } = options;\n  return proxy;\n  function listen(obj, property) {\n    if (typeof obj[property] === 'function') {\n      return function() {\n        switch (property) {\n          case 'drawBuffersWEBGL':\n            recording.push(`${indent}${contextName}.drawBuffersWEBGL([${argumentsToString(arguments[0], { contextName, contextVariables, getEntity: getExtensionEntity, addVariable, variables, onUnrecognizedArgumentLookup })}]);`);\n            return extension.drawBuffersWEBGL(arguments[0]);\n        }\n        let result = extension[property].apply(extension, arguments);\n        switch (typeof result) {\n          case 'undefined':\n            recording.push(`${indent}${methodCallToString(property, arguments)};`);\n            return;\n          case 'number':\n          case 'boolean':\n            if (useTrackablePrimitives && contextVariables.indexOf(trackablePrimitive(result)) === -1) {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result = trackablePrimitive(result));\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n              contextVariables.push(result);\n            }\n            break;\n          default:\n            if (result === null) {\n              recording.push(`${methodCallToString(property, arguments)};`);\n            } else {\n              recording.push(`${indent}const ${contextName}Variable${contextVariables.length} = ${methodCallToString(property, arguments)};`);\n            }\n            contextVariables.push(result);\n        }\n        return result;\n      };\n    }\n    extensionEntityNames[extension[property]] = property;\n    return extension[property];\n  }\n\n  function getExtensionEntity(value) {\n    if (extensionEntityNames.hasOwnProperty(value)) {\n      return `${contextName}.${extensionEntityNames[value]}`;\n    }\n    return getEntity(value);\n  }\n\n  function methodCallToString(method, args) {\n    return `${contextName}.${method}(${argumentsToString(args, { contextName, contextVariables, getEntity: getExtensionEntity, addVariable, variables, onUnrecognizedArgumentLookup })})`;\n  }\n\n  function addVariable(value, source) {\n    const variableName = `${contextName}Variable${contextVariables.length}`;\n    contextVariables.push(value);\n    recording.push(`${indent}const ${variableName} = ${source};`);\n    return variableName;\n  }\n}\n\nfunction argumentsToString(args, options) {\n  const { variables, onUnrecognizedArgumentLookup } = options;\n  return (Array.from(args).map((arg) => {\n    const variableName = getVariableName(arg);\n    if (variableName) {\n      return variableName;\n    }\n    return argumentToString(arg, options);\n  }).join(', '));\n\n  function getVariableName(value) {\n    if (variables) {\n      for (const name in variables) {\n        if (!variables.hasOwnProperty(name)) continue;\n        if (variables[name] === value) {\n          return name;\n        }\n      }\n    }\n    if (onUnrecognizedArgumentLookup) {\n      return onUnrecognizedArgumentLookup(value);\n    }\n    return null;\n  }\n}\n\nfunction argumentToString(arg, options) {\n  const { contextName, contextVariables, getEntity, addVariable, onUnrecognizedArgumentLookup } = options;\n  if (typeof arg === 'undefined') {\n    return 'undefined';\n  }\n  if (arg === null) {\n    return 'null';\n  }\n  const i = contextVariables.indexOf(arg);\n  if (i > -1) {\n    return `${contextName}Variable${i}`;\n  }\n  switch (arg.constructor.name) {\n    case 'String':\n      const hasLines = /\\n/.test(arg);\n      const hasSingleQuotes = /'/.test(arg);\n      const hasDoubleQuotes = /\"/.test(arg);\n      if (hasLines) {\n        return '`' + arg + '`';\n      } else if (hasSingleQuotes && !hasDoubleQuotes) {\n        return '\"' + arg + '\"';\n      } else if (!hasSingleQuotes && hasDoubleQuotes) {\n        return \"'\" + arg + \"'\";\n      } else {\n        return '\\'' + arg + '\\'';\n      }\n    case 'Number': return getEntity(arg);\n    case 'Boolean': return getEntity(arg);\n    case 'Array':\n      return addVariable(arg, `new ${arg.constructor.name}([${Array.from(arg).join(',')}])`);\n    case 'Float32Array':\n    case 'Uint8Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n      return addVariable(arg, `new ${arg.constructor.name}(${JSON.stringify(Array.from(arg))})`);\n    default:\n      if (onUnrecognizedArgumentLookup) {\n        const instantiationString = onUnrecognizedArgumentLookup(arg);\n        if (instantiationString) {\n          return instantiationString;\n        }\n      }\n      throw new Error(`unrecognized argument type ${arg.constructor.name}`);\n  }\n}\n\nfunction trackablePrimitive(value) {\n  return new value.constructor(value);\n}\n\nif (typeof module !== 'undefined') {\n  module.exports = { glWiretap, glExtensionWiretap };\n}\n\nif (typeof window !== 'undefined') {\n  glWiretap.glExtensionWiretap = glExtensionWiretap;\n  window.glWiretap = glWiretap;\n}\n\n},{}],4:[function(require,module,exports){\nfunction setupArguments(args) {\n  const newArguments = new Array(args.length);\n  for (let i = 0; i < args.length; i++) {\n    const arg = args[i];\n    if (arg.toArray) {\n      newArguments[i] = arg.toArray();\n    } else {\n      newArguments[i] = arg;\n    }\n  }\n  return newArguments;\n}\n\nfunction mock1D() {\n  const args = setupArguments(arguments);\n  const row = new Float32Array(this.output.x);\n  for (let x = 0; x < this.output.x; x++) {\n    this.thread.x = x;\n    this.thread.y = 0;\n    this.thread.z = 0;\n    row[x] = this._fn.apply(this, args);\n  }\n  return row;\n}\n\nfunction mock2D() {\n  const args = setupArguments(arguments);\n  const matrix = new Array(this.output.y);\n  for (let y = 0; y < this.output.y; y++) {\n    const row = new Float32Array(this.output.x);\n    for (let x = 0; x < this.output.x; x++) {\n      this.thread.x = x;\n      this.thread.y = y;\n      this.thread.z = 0;\n      row[x] = this._fn.apply(this, args);\n    }\n    matrix[y] = row;\n  }\n  return matrix;\n}\n\nfunction mock2DGraphical() {\n  const args = setupArguments(arguments);\n  for (let y = 0; y < this.output.y; y++) {\n    for (let x = 0; x < this.output.x; x++) {\n      this.thread.x = x;\n      this.thread.y = y;\n      this.thread.z = 0;\n      this._fn.apply(this, args);\n    }\n  }\n}\n\nfunction mock3D() {\n  const args = setupArguments(arguments);\n  const cube = new Array(this.output.z);\n  for (let z = 0; z < this.output.z; z++) {\n    const matrix = new Array(this.output.y);\n    for (let y = 0; y < this.output.y; y++) {\n      const row = new Float32Array(this.output.x);\n      for (let x = 0; x < this.output.x; x++) {\n        this.thread.x = x;\n        this.thread.y = y;\n        this.thread.z = z;\n        row[x] = this._fn.apply(this, args);\n      }\n      matrix[y] = row;\n    }\n    cube[z] = matrix;\n  }\n  return cube;\n}\n\nfunction apiDecorate(kernel) {\n  kernel.setOutput = (output) => {\n    kernel.output = setupOutput(output);\n    if (kernel.graphical) {\n      setupGraphical(kernel);\n    }\n  };\n  kernel.toJSON = () => {\n    throw new Error('Not usable with gpuMock');\n  };\n  kernel.setConstants = (flag) => {\n    kernel.constants = flag;\n    return kernel;\n  };\n  kernel.setGraphical = (flag) => {\n    kernel.graphical = flag;\n    return kernel;\n  };\n  kernel.setCanvas = (flag) => {\n    kernel.canvas = flag;\n    return kernel;\n  };\n  kernel.setContext = (flag) => {\n    kernel.context = flag;\n    return kernel;\n  };\n  kernel.destroy = () => {};\n  kernel.validateSettings = () => {};\n  if (kernel.graphical && kernel.output) {\n    setupGraphical(kernel);\n  }\n  kernel.exec = function() {\n    return new Promise((resolve, reject) => {\n      try {\n        resolve(kernel.apply(kernel, arguments));\n      } catch(e) {\n        reject(e);\n      }\n    });\n  };\n  kernel.getPixels = (flip) => {\n    const {x, y} = kernel.output;\n    return flip ? flipPixels(kernel._imageData.data, x, y) : kernel._imageData.data.slice(0);\n  };\n  kernel.color = function(r, g, b, a) {\n    if (typeof a === 'undefined') {\n      a = 1;\n    }\n\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n    a = Math.floor(a * 255);\n\n    const width = kernel.output.x;\n    const height = kernel.output.y;\n\n    const x = kernel.thread.x;\n    const y = height - kernel.thread.y - 1;\n\n    const index = x + y * width;\n\n    kernel._colorData[index * 4 + 0] = r;\n    kernel._colorData[index * 4 + 1] = g;\n    kernel._colorData[index * 4 + 2] = b;\n    kernel._colorData[index * 4 + 3] = a;\n  };\n\n  const mockMethod = () => kernel;\n  const methods = [\n    'setWarnVarUsage',\n    'setArgumentTypes',\n    'setTactic',\n    'setOptimizeFloatMemory',\n    'setDebug',\n    'setLoopMaxIterations',\n    'setConstantTypes',\n    'setFunctions',\n    'setNativeFunctions',\n    'setInjectedNative',\n    'setPipeline',\n    'setPrecision',\n    'setOutputToTexture',\n    'setImmutable',\n    'setStrictIntegers',\n    'setDynamicOutput',\n    'setHardcodeConstants',\n    'setDynamicArguments',\n    'setUseLegacyEncoder',\n    'setWarnVarUsage',\n    'addSubKernel',\n  ];\n  for (let i = 0; i < methods.length; i++) {\n    kernel[methods[i]] = mockMethod;\n  }\n  return kernel;\n}\n\nfunction setupGraphical(kernel) {\n  const {x, y} = kernel.output;\n  if (kernel.context && kernel.context.createImageData) {\n    const data = new Uint8ClampedArray(x * y * 4);\n    kernel._imageData = kernel.context.createImageData(x, y);\n    kernel._colorData = data;\n  } else {\n    const data = new Uint8ClampedArray(x * y * 4);\n    kernel._imageData = { data };\n    kernel._colorData = data;\n  }\n}\n\nfunction setupOutput(output) {\n  let result = null;\n  if (output.length) {\n    if (output.length === 3) {\n      const [x,y,z] = output;\n      result = { x, y, z };\n    } else if (output.length === 2) {\n      const [x,y] = output;\n      result = { x, y };\n    } else {\n      const [x] = output;\n      result = { x };\n    }\n  } else {\n    result = output;\n  }\n  return result;\n}\n\nfunction gpuMock(fn, settings = {}) {\n  const output = settings.output ? setupOutput(settings.output) : null;\n  function kernel() {\n    if (kernel.output.z) {\n      return mock3D.apply(kernel, arguments);\n    } else if (kernel.output.y) {\n      if (kernel.graphical) {\n        return mock2DGraphical.apply(kernel, arguments);\n      }\n      return mock2D.apply(kernel, arguments);\n    } else {\n      return mock1D.apply(kernel, arguments);\n    }\n  }\n  kernel._fn = fn;\n  kernel.constants = settings.constants || null;\n  kernel.context = settings.context || null;\n  kernel.canvas = settings.canvas || null;\n  kernel.graphical = settings.graphical || false;\n  kernel._imageData = null;\n  kernel._colorData = null;\n  kernel.output = output;\n  kernel.thread = {\n    x: 0,\n    y: 0,\n    z: 0\n  };\n  return apiDecorate(kernel);\n}\n\nfunction flipPixels(pixels, width, height) {\n  const halfHeight = height / 2 | 0; \n  const bytesPerRow = width * 4;\n  const temp = new Uint8ClampedArray(width * 4);\n  const result = pixels.slice(0);\n  for (let y = 0; y < halfHeight; ++y) {\n    const topOffset = y * bytesPerRow;\n    const bottomOffset = (height - y - 1) * bytesPerRow;\n\n    temp.set(result.subarray(topOffset, topOffset + bytesPerRow));\n\n    result.copyWithin(topOffset, bottomOffset, bottomOffset + bytesPerRow);\n\n    result.set(temp, bottomOffset);\n  }\n  return result;\n}\n\nmodule.exports = {\n  gpuMock\n};\n\n},{}],5:[function(require,module,exports){\nconst { utils } = require('./utils');\n\nfunction alias(name, source) {\n  const fnString = source.toString();\n  return new Function(`return function ${ name } (${ utils.getArgumentNamesFromString(fnString).join(', ') }) {\n  ${ utils.getFunctionBodyFromString(fnString) }\n}`)();\n}\n\nmodule.exports = {\n  alias\n};\n},{\"./utils\":114}],6:[function(require,module,exports){\nconst { FunctionNode } = require('../function-node');\n\nclass CPUFunctionNode extends FunctionNode {\n  astFunction(ast, retArr) {\n\n    if (!this.isRootKernel) {\n      retArr.push('function');\n      retArr.push(' ');\n      retArr.push(this.name);\n      retArr.push('(');\n\n      for (let i = 0; i < this.argumentNames.length; ++i) {\n        const argumentName = this.argumentNames[i];\n\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        retArr.push('user_');\n        retArr.push(argumentName);\n      }\n\n      retArr.push(') {\\n');\n    }\n\n    for (let i = 0; i < ast.body.body.length; ++i) {\n      this.astGeneric(ast.body.body[i], retArr);\n      retArr.push('\\n');\n    }\n\n    if (!this.isRootKernel) {\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astReturnStatement(ast, retArr) {\n    const type = this.returnType || this.getType(ast.argument);\n\n    if (!this.returnType) {\n      this.returnType = type;\n    }\n\n    if (this.isRootKernel) {\n      retArr.push(this.leadingReturnStatement);\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';\\n');\n      retArr.push(this.followingReturnStatement);\n      retArr.push('continue;\\n');\n    } else if (this.isSubKernel) {\n      retArr.push(`subKernelResult_${ this.name } = `);\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';');\n      retArr.push(`return subKernelResult_${ this.name };`);\n    } else {\n      retArr.push('return ');\n      this.astGeneric(ast.argument, retArr);\n      retArr.push(';');\n    }\n    return retArr;\n  }\n\n  astLiteral(ast, retArr) {\n\n    if (isNaN(ast.value)) {\n      throw this.astErrorOutput(\n        'Non-numeric literal not supported : ' + ast.value,\n        ast\n      );\n    }\n\n    retArr.push(ast.value);\n\n    return retArr;\n  }\n\n  astBinaryExpression(ast, retArr) {\n    retArr.push('(');\n    this.astGeneric(ast.left, retArr);\n    retArr.push(ast.operator);\n    this.astGeneric(ast.right, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput(\n        'IdentifierExpression - not an Identifier',\n        idtNode\n      );\n    }\n\n    switch (idtNode.name) {\n      case 'Infinity':\n        retArr.push('Infinity');\n        break;\n      default:\n        if (this.constants && this.constants.hasOwnProperty(idtNode.name)) {\n          retArr.push('constants_' + idtNode.name);\n        } else {\n          retArr.push('user_' + idtNode.name);\n        }\n    }\n\n    return retArr;\n  }\n\n  astForStatement(forNode, retArr) {\n    if (forNode.type !== 'ForStatement') {\n      throw this.astErrorOutput('Invalid for statement', forNode);\n    }\n\n    const initArr = [];\n    const testArr = [];\n    const updateArr = [];\n    const bodyArr = [];\n    let isSafe = null;\n\n    if (forNode.init) {\n      this.pushState('in-for-loop-init');\n      this.astGeneric(forNode.init, initArr);\n      for (let i = 0; i < initArr.length; i++) {\n        if (initArr[i].includes && initArr[i].includes(',')) {\n          isSafe = false;\n        }\n      }\n      this.popState('in-for-loop-init');\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.test) {\n      this.astGeneric(forNode.test, testArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.update) {\n      this.astGeneric(forNode.update, updateArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.body) {\n      this.pushState('loop-body');\n      this.astGeneric(forNode.body, bodyArr);\n      this.popState('loop-body');\n    }\n\n    if (isSafe === null) {\n      isSafe = this.isSafe(forNode.init) && this.isSafe(forNode.test);\n    }\n\n    if (isSafe) {\n      retArr.push(`for (${initArr.join('')};${testArr.join('')};${updateArr.join('')}){\\n`);\n      retArr.push(bodyArr.join(''));\n      retArr.push('}\\n');\n    } else {\n      const iVariableName = this.getInternalVariableName('safeI');\n      if (initArr.length > 0) {\n        retArr.push(initArr.join(''), ';\\n');\n      }\n      retArr.push(`for (let ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n      if (testArr.length > 0) {\n        retArr.push(`if (!${testArr.join('')}) break;\\n`);\n      }\n      retArr.push(bodyArr.join(''));\n      retArr.push(`\\n${updateArr.join('')};`);\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astWhileStatement(whileNode, retArr) {\n    if (whileNode.type !== 'WhileStatement') {\n      throw this.astErrorOutput(\n        'Invalid while statement',\n        whileNode\n      );\n    }\n\n    retArr.push('for (let i = 0; i < LOOP_MAX; i++) {');\n    retArr.push('if (');\n    this.astGeneric(whileNode.test, retArr);\n    retArr.push(') {\\n');\n    this.astGeneric(whileNode.body, retArr);\n    retArr.push('} else {\\n');\n    retArr.push('break;\\n');\n    retArr.push('}\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n  astDoWhileStatement(doWhileNode, retArr) {\n    if (doWhileNode.type !== 'DoWhileStatement') {\n      throw this.astErrorOutput(\n        'Invalid while statement',\n        doWhileNode\n      );\n    }\n\n    retArr.push('for (let i = 0; i < LOOP_MAX; i++) {');\n    this.astGeneric(doWhileNode.body, retArr);\n    retArr.push('if (!');\n    this.astGeneric(doWhileNode.test, retArr);\n    retArr.push(') {\\n');\n    retArr.push('break;\\n');\n    retArr.push('}\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n\n  }\n\n  astAssignmentExpression(assNode, retArr) {\n    const declaration = this.getDeclaration(assNode.left);\n    if (declaration && !declaration.assignable) {\n      throw this.astErrorOutput(`Variable ${assNode.left.name} is not assignable here`, assNode);\n    }\n    this.astGeneric(assNode.left, retArr);\n    retArr.push(assNode.operator);\n    this.astGeneric(assNode.right, retArr);\n    return retArr;\n  }\n\n  astBlockStatement(bNode, retArr) {\n    if (this.isState('loop-body')) {\n      this.pushState('block-body'); \n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      this.popState('block-body');\n    } else {\n      retArr.push('{\\n');\n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astVariableDeclaration(varDecNode, retArr) {\n    retArr.push(`${varDecNode.kind} `);\n    const { declarations } = varDecNode;\n    for (let i = 0; i < declarations.length; i++) {\n      if (i > 0) {\n        retArr.push(',');\n      }\n      const declaration = declarations[i];\n      const info = this.getDeclaration(declaration.id);\n      if (!info.valueType) {\n        info.valueType = this.getType(declaration.init);\n      }\n      this.astGeneric(declaration, retArr);\n    }\n    if (!this.isState('in-for-loop-init')) {\n      retArr.push(';');\n    }\n    return retArr;\n  }\n\n  astIfStatement(ifNode, retArr) {\n    retArr.push('if (');\n    this.astGeneric(ifNode.test, retArr);\n    retArr.push(')');\n    if (ifNode.consequent.type === 'BlockStatement') {\n      this.astGeneric(ifNode.consequent, retArr);\n    } else {\n      retArr.push(' {\\n');\n      this.astGeneric(ifNode.consequent, retArr);\n      retArr.push('\\n}\\n');\n    }\n\n    if (ifNode.alternate) {\n      retArr.push('else ');\n      if (ifNode.alternate.type === 'BlockStatement' || ifNode.alternate.type === 'IfStatement') {\n        this.astGeneric(ifNode.alternate, retArr);\n      } else {\n        retArr.push(' {\\n');\n        this.astGeneric(ifNode.alternate, retArr);\n        retArr.push('\\n}\\n');\n      }\n    }\n    return retArr;\n\n  }\n\n  astSwitchStatement(ast, retArr) {\n    const { discriminant, cases } = ast;\n    retArr.push('switch (');\n    this.astGeneric(discriminant, retArr);\n    retArr.push(') {\\n');\n    for (let i = 0; i < cases.length; i++) {\n      if (cases[i].test === null) {\n        retArr.push('default:\\n');\n        this.astGeneric(cases[i].consequent, retArr);\n        if (cases[i].consequent && cases[i].consequent.length > 0) {\n          retArr.push('break;\\n');\n        }\n        continue;\n      }\n      retArr.push('case ');\n      this.astGeneric(cases[i].test, retArr);\n      retArr.push(':\\n');\n      if (cases[i].consequent && cases[i].consequent.length > 0) {\n        this.astGeneric(cases[i].consequent, retArr);\n        retArr.push('break;\\n');\n      }\n    }\n    retArr.push('\\n}');\n  }\n\n  astThisExpression(tNode, retArr) {\n    retArr.push('_this');\n    return retArr;\n  }\n\n  astMemberExpression(mNode, retArr) {\n    const {\n      signature,\n      type,\n      property,\n      xProperty,\n      yProperty,\n      zProperty,\n      name,\n      origin\n    } = this.getMemberExpressionDetails(mNode);\n    switch (signature) {\n      case 'this.thread.value':\n        retArr.push(`_this.thread.${ name }`);\n        return retArr;\n      case 'this.output.value':\n        switch (name) {\n          case 'x':\n            retArr.push('outputX');\n            break;\n          case 'y':\n            retArr.push('outputY');\n            break;\n          case 'z':\n            retArr.push('outputZ');\n            break;\n          default:\n            throw this.astErrorOutput('Unexpected expression', mNode);\n        }\n        return retArr;\n      case 'value':\n        throw this.astErrorOutput('Unexpected expression', mNode);\n      case 'value[]':\n      case 'value[][]':\n      case 'value[][][]':\n      case 'value.value':\n        if (origin === 'Math') {\n          retArr.push(Math[name]);\n          return retArr;\n        }\n        switch (property) {\n          case 'r':\n            retArr.push(`user_${ name }[0]`);\n            return retArr;\n          case 'g':\n            retArr.push(`user_${ name }[1]`);\n            return retArr;\n          case 'b':\n            retArr.push(`user_${ name }[2]`);\n            return retArr;\n          case 'a':\n            retArr.push(`user_${ name }[3]`);\n            return retArr;\n        }\n        break;\n      case 'value.value[]': \n        if (this.removeIstanbulCoverage) {\n          return retArr;\n        }\n        retArr.push(`${mNode.object.object.name}.${mNode.object.property.name}[${mNode.property.value}]`);\n        return retArr;\n      case 'value.value[][]': \n        if (this.removeIstanbulCoverage) {\n          return retArr;\n        }\n        retArr.push(`${mNode.object.object.object.name}.${mNode.object.object.property.name}[${mNode.object.property.value}][${mNode.property.value}]`);\n        return retArr;\n      case 'this.constants.value':\n      case 'this.constants.value[]':\n      case 'this.constants.value[][]':\n      case 'this.constants.value[][][]':\n        break;\n      case 'fn()[]':\n        this.astGeneric(mNode.object, retArr);\n        retArr.push('[');\n        this.astGeneric(mNode.property, retArr);\n        retArr.push(']');\n        return retArr;\n      default:\n        throw this.astErrorOutput('Unexpected expression', mNode);\n    }\n\n    if (!mNode.computed) {\n      switch (type) {\n        case 'Number':\n        case 'Integer':\n        case 'Float':\n        case 'Boolean':\n          retArr.push(`${origin}_${name}`);\n          return retArr;\n      }\n    }\n\n    const markupName = `${origin}_${name}`;\n\n    switch (type) {\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'HTMLImageArray':\n      case 'ArrayTexture(1)':\n      case 'ArrayTexture(2)':\n      case 'ArrayTexture(3)':\n      case 'ArrayTexture(4)':\n      case 'HTMLImage':\n      default:\n        let size;\n        let isInput;\n        if (origin === 'constants') {\n          const constant = this.constants[name];\n          isInput = this.constantTypes[name] === 'Input';\n          size = isInput ? constant.size : null;\n        } else {\n          isInput = this.isInput(name);\n          size = isInput ? this.argumentSizes[this.argumentNames.indexOf(name)] : null;\n        }\n        retArr.push(`${ markupName }`);\n        if (zProperty && yProperty) {\n          if (isInput) {\n            retArr.push('[(');\n            this.astGeneric(zProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? '(outputY * outputX)' : size[1] * size[0] })+(`);\n            this.astGeneric(yProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? 'outputX' : size[0] })+`);\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          } else {\n            retArr.push('[');\n            this.astGeneric(zProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          }\n        } else if (yProperty) {\n          if (isInput) {\n            retArr.push('[(');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(`*${ this.dynamicArguments ? 'outputX' : size[0] })+`);\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          } else {\n            retArr.push('[');\n            this.astGeneric(yProperty, retArr);\n            retArr.push(']');\n            retArr.push('[');\n            this.astGeneric(xProperty, retArr);\n            retArr.push(']');\n          }\n        } else if (typeof xProperty !== 'undefined') {\n          retArr.push('[');\n          this.astGeneric(xProperty, retArr);\n          retArr.push(']');\n        }\n    }\n    return retArr;\n  }\n\n  astCallExpression(ast, retArr) {\n    if (ast.type !== 'CallExpression') {\n      throw this.astErrorOutput('Unknown CallExpression', ast);\n    }\n    let functionName = this.astMemberExpressionUnroll(ast.callee);\n\n    if (this.calledFunctions.indexOf(functionName) < 0) {\n      this.calledFunctions.push(functionName);\n    }\n\n    const isMathFunction = this.isAstMathFunction(ast);\n\n    if (this.onFunctionCall) {\n      this.onFunctionCall(this.name, functionName, ast.arguments);\n    }\n\n    retArr.push(functionName);\n\n    retArr.push('(');\n    const targetTypes = this.lookupFunctionArgumentTypes(functionName) || [];\n    for (let i = 0; i < ast.arguments.length; ++i) {\n      const argument = ast.arguments[i];\n\n      let argumentType = this.getType(argument);\n      if (!targetTypes[i]) {\n        this.triggerImplyArgumentType(functionName, i, argumentType, this);\n      }\n\n      if (i > 0) {\n        retArr.push(', ');\n      }\n      this.astGeneric(argument, retArr);\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  astArrayExpression(arrNode, retArr) {\n    const arrLen = arrNode.elements.length;\n\n    retArr.push('new Float32Array([');\n    for (let i = 0; i < arrLen; ++i) {\n      if (i > 0) {\n        retArr.push(', ');\n      }\n      const subNode = arrNode.elements[i];\n      this.astGeneric(subNode, retArr)\n    }\n    retArr.push('])');\n\n    return retArr;\n  }\n\n  astDebuggerStatement(arrNode, retArr) {\n    retArr.push('debugger;');\n    return retArr;\n  }\n}\n\nmodule.exports = {\n  CPUFunctionNode\n};\n},{\"../function-node\":10}],7:[function(require,module,exports){\nconst { utils } = require('../../utils');\n\nfunction constantsToString(constants, types) {\n  const results = [];\n  for (const name in types) {\n    if (!types.hasOwnProperty(name)) continue;\n    const type = types[name];\n    const constant = constants[name];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n        results.push(`${name}:${constant}`);\n        break;\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        results.push(`${name}:new ${constant.constructor.name}(${JSON.stringify(Array.from(constant))})`);\n        break;\n    }\n  }\n  return `{ ${ results.join() } }`;\n}\n\nfunction cpuKernelString(cpuKernel, name) {\n  const header = [];\n  const thisProperties = [];\n  const beforeReturn = [];\n\n  const useFunctionKeyword = !/^function/.test(cpuKernel.color.toString());\n\n  header.push(\n    '  const { context, canvas, constants: incomingConstants } = settings;',\n    `  const output = new Int32Array(${JSON.stringify(Array.from(cpuKernel.output))});`,\n    `  const _constantTypes = ${JSON.stringify(cpuKernel.constantTypes)};`,\n    `  const _constants = ${constantsToString(cpuKernel.constants, cpuKernel.constantTypes)};`,\n  );\n\n  thisProperties.push(\n    '    constants: _constants,',\n    '    context,',\n    '    output,',\n    '    thread: {x: 0, y: 0, z: 0},',\n  );\n\n  if (cpuKernel.graphical) {\n    header.push(`  const _imageData = context.createImageData(${cpuKernel.output[0]}, ${cpuKernel.output[1]});`);\n    header.push(`  const _colorData = new Uint8ClampedArray(${cpuKernel.output[0]} * ${cpuKernel.output[1]} * 4);`);\n\n    const colorFn = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel.color.toString(), {\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case '_colorData':\n            return '_colorData';\n          case '_imageData':\n            return '_imageData';\n          case 'output':\n            return 'output';\n          case 'thread':\n            return 'this.thread';\n        }\n        return JSON.stringify(cpuKernel[propertyName]);\n      },\n      findDependency: (object, name) => {\n        return null;\n      }\n    });\n\n    const getPixelsFn = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel.getPixels.toString(), {\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case '_colorData':\n            return '_colorData';\n          case '_imageData':\n            return '_imageData';\n          case 'output':\n            return 'output';\n          case 'thread':\n            return 'this.thread';\n        }\n        return JSON.stringify(cpuKernel[propertyName]);\n      },\n      findDependency: () => {\n        return null;\n      }\n    });\n\n    thisProperties.push(\n      '    _imageData,',\n      '    _colorData,',\n      `    color: ${colorFn},`,\n    );\n\n    beforeReturn.push(\n      `  kernel.getPixels = ${getPixelsFn};`\n    );\n  }\n\n  const constantTypes = [];\n  const constantKeys = Object.keys(cpuKernel.constantTypes);\n  for (let i = 0; i < constantKeys.length; i++) {\n    constantTypes.push(cpuKernel.constantTypes[constantKeys]);\n  }\n  if (cpuKernel.argumentTypes.indexOf('HTMLImageArray') !== -1 || constantTypes.indexOf('HTMLImageArray') !== -1) {\n    const flattenedImageTo3DArray = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel._imageTo3DArray.toString(), {\n      doNotDefine: ['canvas'],\n      findDependency: (object, name) => {\n        if (object === 'this') {\n          return (useFunctionKeyword ? 'function ' : '') + cpuKernel[name].toString();\n        }\n        return null;\n      },\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case 'canvas':\n            return;\n          case 'context':\n            return 'context';\n        }\n      }\n    });\n    beforeReturn.push(flattenedImageTo3DArray);\n    thisProperties.push(`    _mediaTo2DArray,`);\n    thisProperties.push(`    _imageTo3DArray,`);\n  } else if (cpuKernel.argumentTypes.indexOf('HTMLImage') !== -1 || constantTypes.indexOf('HTMLImage') !== -1) {\n    const flattenedImageTo2DArray = utils.flattenFunctionToString((useFunctionKeyword ? 'function ' : '') + cpuKernel._mediaTo2DArray.toString(), {\n      findDependency: (object, name) => {\n        return null;\n      },\n      thisLookup: (propertyName) => {\n        switch (propertyName) {\n          case 'canvas':\n            return 'settings.canvas';\n          case 'context':\n            return 'settings.context';\n        }\n        throw new Error('unhandled thisLookup');\n      }\n    });\n    beforeReturn.push(flattenedImageTo2DArray);\n    thisProperties.push(`    _mediaTo2DArray,`);\n  }\n\n  return `function(settings) {\n${ header.join('\\n') }\n  for (const p in _constantTypes) {\n    if (!_constantTypes.hasOwnProperty(p)) continue;\n    const type = _constantTypes[p];\n    switch (type) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n      case 'Boolean':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        if (incomingConstants.hasOwnProperty(p)) {\n          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');\n        }\n        continue;\n    }\n    if (!incomingConstants.hasOwnProperty(p)) {\n      throw new Error('constant ' + p + ' not found');\n    }\n    _constants[p] = incomingConstants[p];\n  }\n  const kernel = (function() {\n${cpuKernel._kernelString}\n  })\n    .apply({ ${thisProperties.join('\\n')} });\n  ${ beforeReturn.join('\\n') }\n  return kernel;\n}`;\n}\n\nmodule.exports = {\n  cpuKernelString\n};\n},{\"../../utils\":114}],8:[function(require,module,exports){\nconst { Kernel } = require('../kernel');\nconst { FunctionBuilder } = require('../function-builder');\nconst { CPUFunctionNode } = require('./function-node');\nconst { utils } = require('../../utils');\nconst { cpuKernelString } = require('./kernel-string');\n\nclass CPUKernel extends Kernel {\n  static getFeatures() {\n    return this.features;\n  }\n  static get features() {\n    return Object.freeze({\n      kernelMap: true,\n      isIntegerDivisionAccurate: true\n    });\n  }\n  static get isSupported() {\n    return true;\n  }\n  static isContextMatch(context) {\n    return false;\n  }\n  static get mode() {\n    return 'cpu';\n  }\n\n  static nativeFunctionArguments() {\n    return null;\n  }\n\n  static nativeFunctionReturnType() {\n    throw new Error(`Looking up native function return type not supported on ${this.name}`);\n  }\n\n  static combineKernels(combinedKernel) {\n    return combinedKernel;\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    return 'cpu' + (argumentTypes.length > 0 ? ':' + argumentTypes.join(',') : '');\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.mergeSettings(source.settings || settings);\n\n    this._imageData = null;\n    this._colorData = null;\n    this._kernelString = null;\n    this._prependedString = [];\n    this.thread = {\n      x: 0,\n      y: 0,\n      z: 0\n    };\n    this.translatedSources = null;\n  }\n\n  initCanvas() {\n    if (typeof document !== 'undefined') {\n      return document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      return new OffscreenCanvas(0, 0);\n    }\n  }\n\n  initContext() {\n    if (!this.canvas) return null;\n    return this.canvas.getContext('2d');\n  }\n\n  initPlugins(settings) {\n    return [];\n  }\n\n  validateSettings(args) {\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      if (argType === 'Array') {\n        this.output = utils.getDimensions(argType);\n      } else if (argType === 'NumberTexture' || argType === 'ArrayTexture(4)') {\n        this.output = args[0].output;\n      } else {\n        throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n    }\n\n    this.checkOutput();\n  }\n\n  translateSource() {\n    this.leadingReturnStatement = this.output.length > 1 ? 'resultX[x] = ' : 'result[x] = ';\n    if (this.subKernels) {\n      const followingReturnStatement = [];\n      for (let i = 0; i < this.subKernels.length; i++) {\n        const {\n          name\n        } = this.subKernels[i];\n        followingReturnStatement.push(this.output.length > 1 ? `resultX_${ name }[x] = subKernelResult_${ name };\\n` : `result_${ name }[x] = subKernelResult_${ name };\\n`);\n      }\n      this.followingReturnStatement = followingReturnStatement.join('');\n    }\n    const functionBuilder = FunctionBuilder.fromKernel(this, CPUFunctionNode);\n    this.translatedSources = functionBuilder.getPrototypes('kernel');\n    if (!this.graphical && !this.returnType) {\n      this.returnType = functionBuilder.getKernelResultType();\n    }\n  }\n\n  build() {\n    if (this.built) return;\n    this.setupConstants();\n    this.setupArguments(arguments);\n    this.validateSettings(arguments);\n    this.translateSource();\n\n    if (this.graphical) {\n      const {\n        canvas,\n        output\n      } = this;\n      if (!canvas) {\n        throw new Error('no canvas available for using graphical output');\n      }\n      const width = output[0];\n      const height = output[1] || 1;\n      canvas.width = width;\n      canvas.height = height;\n      this._imageData = this.context.createImageData(width, height);\n      this._colorData = new Uint8ClampedArray(width * height * 4);\n    }\n\n    const kernelString = this.getKernelString();\n    this.kernelString = kernelString;\n\n    if (this.debug) {\n      console.log('Function output:');\n      console.log(kernelString);\n    }\n\n    try {\n      this.run = new Function([], kernelString).bind(this)();\n    } catch (e) {\n      console.error('An error occurred compiling the javascript: ', e);\n    }\n    this.buildSignature(arguments);\n    this.built = true;\n  }\n\n  color(r, g, b, a) {\n    if (typeof a === 'undefined') {\n      a = 1;\n    }\n\n    r = Math.floor(r * 255);\n    g = Math.floor(g * 255);\n    b = Math.floor(b * 255);\n    a = Math.floor(a * 255);\n\n    const width = this.output[0];\n    const height = this.output[1];\n\n    const x = this.thread.x;\n    const y = height - this.thread.y - 1;\n\n    const index = x + y * width;\n\n    this._colorData[index * 4 + 0] = r;\n    this._colorData[index * 4 + 1] = g;\n    this._colorData[index * 4 + 2] = b;\n    this._colorData[index * 4 + 3] = a;\n  }\n\n  getKernelString() {\n    if (this._kernelString !== null) return this._kernelString;\n\n    let kernelThreadString = null;\n    let {\n      translatedSources\n    } = this;\n    if (translatedSources.length > 1) {\n      translatedSources = translatedSources.filter(fn => {\n        if (/^function/.test(fn)) return fn;\n        kernelThreadString = fn;\n        return false;\n      });\n    } else {\n      kernelThreadString = translatedSources.shift();\n    }\n    return this._kernelString = `  const LOOP_MAX = ${ this._getLoopMaxString() };\n  ${ this.injectedNative || '' }\n  const _this = this;\n  ${ this._resultKernelHeader() }\n  ${ this._processConstants() }\n  return (${ this.argumentNames.map(argumentName => 'user_' + argumentName).join(', ') }) => {\n    ${ this._prependedString.join('') }\n    ${ this._earlyThrows() }\n    ${ this._processArguments() }\n    ${ this.graphical ? this._graphicalKernelBody(kernelThreadString) : this._resultKernelBody(kernelThreadString) }\n    ${ translatedSources.length > 0 ? translatedSources.join('\\n') : '' }\n  };`;\n  }\n\n  toString() {\n    return cpuKernelString(this);\n  }\n\n  _getLoopMaxString() {\n    return (\n      this.loopMaxIterations ?\n      ` ${ parseInt(this.loopMaxIterations) };` :\n      ' 1000;'\n    );\n  }\n\n  _processConstants() {\n    if (!this.constants) return '';\n\n    const result = [];\n    for (let p in this.constants) {\n      const type = this.constantTypes[p];\n      switch (type) {\n        case 'HTMLCanvas':\n        case 'HTMLImage':\n        case 'HTMLVideo':\n          result.push(`    const constants_${p} = this._mediaTo2DArray(this.constants.${p});\\n`);\n          break;\n        case 'HTMLImageArray':\n          result.push(`    const constants_${p} = this._imageTo3DArray(this.constants.${p});\\n`);\n          break;\n        case 'Input':\n          result.push(`    const constants_${p} = this.constants.${p}.value;\\n`);\n          break;\n        default:\n          result.push(`    const constants_${p} = this.constants.${p};\\n`);\n      }\n    }\n    return result.join('');\n  }\n\n  _earlyThrows() {\n    if (this.graphical) return '';\n    if (this.immutable) return '';\n    if (!this.pipeline) return '';\n    const arrayArguments = [];\n    for (let i = 0; i < this.argumentTypes.length; i++) {\n      if (this.argumentTypes[i] === 'Array') {\n        arrayArguments.push(this.argumentNames[i]);\n      }\n    }\n    if (arrayArguments.length === 0) return '';\n    const checks = [];\n    for (let i = 0; i < arrayArguments.length; i++) {\n      const argumentName = arrayArguments[i];\n      const checkSubKernels = this._mapSubKernels(subKernel => `user_${argumentName} === result_${subKernel.name}`).join(' || ');\n      checks.push(`user_${argumentName} === result${checkSubKernels ? ` || ${checkSubKernels}` : ''}`);\n    }\n    return `if (${checks.join(' || ')}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`;\n  }\n\n  _processArguments() {\n    const result = [];\n    for (let i = 0; i < this.argumentTypes.length; i++) {\n      const variableName = `user_${this.argumentNames[i]}`;\n      switch (this.argumentTypes[i]) {\n        case 'HTMLCanvas':\n        case 'HTMLImage':\n        case 'HTMLVideo':\n          result.push(`    ${variableName} = this._mediaTo2DArray(${variableName});\\n`);\n          break;\n        case 'HTMLImageArray':\n          result.push(`    ${variableName} = this._imageTo3DArray(${variableName});\\n`);\n          break;\n        case 'Input':\n          result.push(`    ${variableName} = ${variableName}.value;\\n`);\n          break;\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n          result.push(`\n    if (${variableName}.toArray) {\n      if (!_this.textureCache) {\n        _this.textureCache = [];\n        _this.arrayCache = [];\n      }\n      const textureIndex = _this.textureCache.indexOf(${variableName});\n      if (textureIndex !== -1) {\n        ${variableName} = _this.arrayCache[textureIndex];\n      } else {\n        _this.textureCache.push(${variableName});\n        ${variableName} = ${variableName}.toArray();\n        _this.arrayCache.push(${variableName});\n      }\n    }`);\n          break;\n      }\n    }\n    return result.join('');\n  }\n\n  _mediaTo2DArray(media) {\n    const canvas = this.canvas;\n    const width = media.width > 0 ? media.width : media.videoWidth;\n    const height = media.height > 0 ? media.height : media.videoHeight;\n    if (canvas.width < width) {\n      canvas.width = width;\n    }\n    if (canvas.height < height) {\n      canvas.height = height;\n    }\n    const ctx = this.context;\n    ctx.drawImage(media, 0, 0, width, height);\n    const pixelsData = ctx.getImageData(0, 0, width, height).data;\n    const imageArray = new Array(height);\n    let index = 0;\n    for (let y = height - 1; y >= 0; y--) {\n      const row = imageArray[y] = new Array(width);\n      for (let x = 0; x < width; x++) {\n        const pixel = new Float32Array(4);\n        pixel[0] = pixelsData[index++] / 255; \n        pixel[1] = pixelsData[index++] / 255; \n        pixel[2] = pixelsData[index++] / 255; \n        pixel[3] = pixelsData[index++] / 255; \n        row[x] = pixel;\n      }\n    }\n    return imageArray;\n  }\n\n  getPixels(flip) {\n    const [width, height] = this.output;\n    return flip ? utils.flipPixels(this._imageData.data, width, height) : this._imageData.data.slice(0);\n  }\n\n  _imageTo3DArray(images) {\n    const imagesArray = new Array(images.length);\n    for (let i = 0; i < images.length; i++) {\n      imagesArray[i] = this._mediaTo2DArray(images[i]);\n    }\n    return imagesArray;\n  }\n\n  _resultKernelHeader() {\n    if (this.graphical) return '';\n    if (this.immutable) return '';\n    if (!this.pipeline) return '';\n    switch (this.output.length) {\n      case 1:\n        return this._mutableKernel1DResults();\n      case 2:\n        return this._mutableKernel2DResults();\n      case 3:\n        return this._mutableKernel3DResults();\n    }\n  }\n\n  _resultKernelBody(kernelString) {\n    switch (this.output.length) {\n      case 1:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel1DLoop(kernelString) : this._resultImmutableKernel1DLoop(kernelString)) + this._kernelOutput();\n      case 2:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel2DLoop(kernelString) : this._resultImmutableKernel2DLoop(kernelString)) + this._kernelOutput();\n      case 3:\n        return (!this.immutable && this.pipeline ? this._resultMutableKernel3DLoop(kernelString) : this._resultImmutableKernel3DLoop(kernelString)) + this._kernelOutput();\n      default:\n        throw new Error('unsupported size kernel');\n    }\n  }\n\n  _graphicalKernelBody(kernelThreadString) {\n    switch (this.output.length) {\n      case 2:\n        return this._graphicalKernel2DLoop(kernelThreadString) + this._graphicalOutput();\n      default:\n        throw new Error('unsupported size kernel');\n    }\n  }\n\n  _graphicalOutput() {\n    return `\n    this._imageData.data.set(this._colorData);\n    this.context.putImageData(this._imageData, 0, 0);\n    return;`\n  }\n\n  _getKernelResultTypeConstructorString() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return 'Float32Array';\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        return 'Array';\n      default:\n        if (this.graphical) {\n          return 'Float32Array';\n        }\n        throw new Error(`unhandled returnType ${ this.returnType }`);\n    }\n  }\n\n  _resultImmutableKernel1DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const result = new ${constructorString}(outputX);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new ${constructorString}(outputX);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${ kernelString }\n    }`;\n  }\n\n  _mutableKernel1DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const result = new ${constructorString}(outputX);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new ${constructorString}(outputX);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }`;\n  }\n\n  _resultMutableKernel1DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    for (let x = 0; x < outputX; x++) {\n      this.thread.x = x;\n      this.thread.y = 0;\n      this.thread.z = 0;\n      ${ kernelString }\n    }`;\n  }\n\n  _resultImmutableKernel2DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputY);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y] = new ${constructorString}(outputX);\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _mutableKernel2DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const result = new Array(outputY);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputY);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let y = 0; y < outputY; y++) {\n      const resultX = result[y] = new ${constructorString}(outputX);\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n    }`;\n  }\n\n  _resultMutableKernel2DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      const resultX = result[y];\n      ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = result_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('') }\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _graphicalKernel2DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    for (let y = 0; y < outputY; y++) {\n      this.thread.z = 0;\n      this.thread.y = y;\n      for (let x = 0; x < outputX; x++) {\n        this.thread.x = x;\n        ${ kernelString }\n      }\n    }`;\n  }\n\n  _resultImmutableKernel3DLoop(kernelString) {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputZ);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z] = new Array(outputY);\n      ${ this._mapSubKernels(subKernel => `const resultY_${ subKernel.name } = result_${subKernel.name}[z] = new Array(outputY);\\n`).join('      ') }\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y] = new ${constructorString}(outputX);\n        ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = resultY_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('        ') }\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${ kernelString }\n        }\n      }\n    }`;\n  }\n\n  _mutableKernel3DResults() {\n    const constructorString = this._getKernelResultTypeConstructorString();\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    const result = new Array(outputZ);\n    ${ this._mapSubKernels(subKernel => `const result_${ subKernel.name } = new Array(outputZ);\\n`).join('    ') }\n    ${ this._mapSubKernels(subKernel => `let subKernelResult_${ subKernel.name };\\n`).join('    ') }\n    for (let z = 0; z < outputZ; z++) {\n      const resultY = result[z] = new Array(outputY);\n      ${ this._mapSubKernels(subKernel => `const resultY_${ subKernel.name } = result_${subKernel.name}[z] = new Array(outputY);\\n`).join('      ') }\n      for (let y = 0; y < outputY; y++) {\n        const resultX = resultY[y] = new ${constructorString}(outputX);\n        ${ this._mapSubKernels(subKernel => `const resultX_${ subKernel.name } = resultY_${subKernel.name}[y] = new ${constructorString}(outputX);\\n`).join('        ') }\n      }\n    }`;\n  }\n\n  _resultMutableKernel3DLoop(kernelString) {\n    return `  const outputX = _this.output[0];\n    const outputY = _this.output[1];\n    const outputZ = _this.output[2];\n    for (let z = 0; z < outputZ; z++) {\n      this.thread.z = z;\n      const resultY = result[z];\n      for (let y = 0; y < outputY; y++) {\n        this.thread.y = y;\n        const resultX = resultY[y];\n        for (let x = 0; x < outputX; x++) {\n          this.thread.x = x;\n          ${ kernelString }\n        }\n      }\n    }`;\n  }\n\n  _kernelOutput() {\n    if (!this.subKernels) {\n      return '\\n    return result;';\n    }\n    return `\\n    return {\n      result: result,\n      ${ this.subKernels.map(subKernel => `${ subKernel.property }: result_${ subKernel.name }`).join(',\\n      ') }\n    };`;\n  }\n\n  _mapSubKernels(fn) {\n    return this.subKernels === null ? [''] :\n      this.subKernels.map(fn);\n  }\n\n  destroy(removeCanvasReference) {\n    if (removeCanvasReference) {\n      delete this.canvas;\n    }\n  }\n\n  static destroyContext(context) {}\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, CPUFunctionNode).toJSON();\n    return json;\n  }\n\n  setOutput(output) {\n    super.setOutput(output);\n    const [width, height] = this.output;\n    if (this.graphical) {\n      this._imageData = this.context.createImageData(width, height);\n      this._colorData = new Uint8ClampedArray(width * height * 4);\n    }\n  }\n\n  prependString(value) {\n    if (this._kernelString) throw new Error('Kernel already built');\n    this._prependedString.push(value);\n  }\n\n  hasPrependString(value) {\n    return this._prependedString.indexOf(value) > -1;\n  }\n}\n\nmodule.exports = {\n  CPUKernel\n};\n},{\"../../utils\":114,\"../function-builder\":9,\"../kernel\":36,\"./function-node\":6,\"./kernel-string\":7}],9:[function(require,module,exports){\nclass FunctionBuilder {\n  static fromKernel(kernel, FunctionNode, extraNodeOptions) {\n    const {\n      kernelArguments,\n      kernelConstants,\n      argumentNames,\n      argumentSizes,\n      argumentBitRatios,\n      constants,\n      constantBitRatios,\n      debug,\n      loopMaxIterations,\n      nativeFunctions,\n      output,\n      optimizeFloatMemory,\n      precision,\n      plugins,\n      source,\n      subKernels,\n      functions,\n      leadingReturnStatement,\n      followingReturnStatement,\n      dynamicArguments,\n      dynamicOutput,\n      onIstanbulCoverageVariable,\n      removeIstanbulCoverage,\n    } = kernel;\n\n    const argumentTypes = new Array(kernelArguments.length);\n    const constantTypes = {};\n\n    for (let i = 0; i < kernelArguments.length; i++) {\n      argumentTypes[i] = kernelArguments[i].type;\n    }\n\n    for (let i = 0; i < kernelConstants.length; i++) {\n      const kernelConstant = kernelConstants[i];\n      constantTypes[kernelConstant.name] = kernelConstant.type;\n    }\n\n    const needsArgumentType = (functionName, index) => {\n      return functionBuilder.needsArgumentType(functionName, index);\n    };\n\n    const assignArgumentType = (functionName, index, type) => {\n      functionBuilder.assignArgumentType(functionName, index, type);\n    };\n\n    const lookupReturnType = (functionName, ast, requestingNode) => {\n      return functionBuilder.lookupReturnType(functionName, ast, requestingNode);\n    };\n\n    const lookupFunctionArgumentTypes = (functionName) => {\n      return functionBuilder.lookupFunctionArgumentTypes(functionName);\n    };\n\n    const lookupFunctionArgumentName = (functionName, argumentIndex) => {\n      return functionBuilder.lookupFunctionArgumentName(functionName, argumentIndex);\n    };\n\n    const lookupFunctionArgumentBitRatio = (functionName, argumentName) => {\n      return functionBuilder.lookupFunctionArgumentBitRatio(functionName, argumentName);\n    };\n\n    const triggerImplyArgumentType = (functionName, i, argumentType, requestingNode) => {\n      functionBuilder.assignArgumentType(functionName, i, argumentType, requestingNode);\n    };\n\n    const triggerImplyArgumentBitRatio = (functionName, argumentName, calleeFunctionName, argumentIndex) => {\n      functionBuilder.assignArgumentBitRatio(functionName, argumentName, calleeFunctionName, argumentIndex);\n    };\n\n    const onFunctionCall = (functionName, calleeFunctionName, args) => {\n      functionBuilder.trackFunctionCall(functionName, calleeFunctionName, args);\n    };\n\n    const onNestedFunction = (ast, returnType) => {\n      const argumentNames = [];\n      for (let i = 0; i < ast.params.length; i++) {\n        argumentNames.push(ast.params[i].name);\n      }\n      const nestedFunction = new FunctionNode(null, Object.assign({}, nodeOptions, {\n        returnType: null,\n        ast,\n        name: ast.id.name,\n        argumentNames,\n        lookupReturnType,\n        lookupFunctionArgumentTypes,\n        lookupFunctionArgumentName,\n        lookupFunctionArgumentBitRatio,\n        needsArgumentType,\n        assignArgumentType,\n        triggerImplyArgumentType,\n        triggerImplyArgumentBitRatio,\n        onFunctionCall,\n      }));\n      nestedFunction.traceFunctionAST(ast);\n      functionBuilder.addFunctionNode(nestedFunction);\n    };\n\n    const nodeOptions = Object.assign({\n      isRootKernel: false,\n      onNestedFunction,\n      lookupReturnType,\n      lookupFunctionArgumentTypes,\n      lookupFunctionArgumentName,\n      lookupFunctionArgumentBitRatio,\n      needsArgumentType,\n      assignArgumentType,\n      triggerImplyArgumentType,\n      triggerImplyArgumentBitRatio,\n      onFunctionCall,\n      onIstanbulCoverageVariable: onIstanbulCoverageVariable ? (name) => onIstanbulCoverageVariable(name, kernel) : null,\n      removeIstanbulCoverage,\n      optimizeFloatMemory,\n      precision,\n      constants,\n      constantTypes,\n      constantBitRatios,\n      debug,\n      loopMaxIterations,\n      output,\n      plugins,\n      dynamicArguments,\n      dynamicOutput,\n    }, extraNodeOptions || {});\n\n    const rootNodeOptions = Object.assign({}, nodeOptions, {\n      isRootKernel: true,\n      name: 'kernel',\n      argumentNames,\n      argumentTypes,\n      argumentSizes,\n      argumentBitRatios,\n      leadingReturnStatement,\n      followingReturnStatement,\n    });\n\n    if (typeof source === 'object' && source.functionNodes) {\n      return new FunctionBuilder().fromJSON(source.functionNodes, FunctionNode);\n    }\n\n    const rootNode = new FunctionNode(source, rootNodeOptions);\n\n    let functionNodes = null;\n    if (functions) {\n      functionNodes = functions.map((fn) => new FunctionNode(fn.source, {\n        returnType: fn.returnType,\n        argumentTypes: fn.argumentTypes,\n        output,\n        plugins,\n        constants,\n        constantTypes,\n        constantBitRatios,\n        optimizeFloatMemory,\n        precision,\n        lookupReturnType,\n        lookupFunctionArgumentTypes,\n        lookupFunctionArgumentName,\n        lookupFunctionArgumentBitRatio,\n        needsArgumentType,\n        assignArgumentType,\n        triggerImplyArgumentType,\n        triggerImplyArgumentBitRatio,\n        onFunctionCall,\n        onNestedFunction,\n        onIstanbulCoverageVariable: onIstanbulCoverageVariable ? (name) => onIstanbulCoverageVariable(name, kernel) : null,\n        removeIstanbulCoverage,\n      }));\n    }\n\n    let subKernelNodes = null;\n    if (subKernels) {\n      subKernelNodes = subKernels.map((subKernel) => {\n        const { name, source } = subKernel;\n        return new FunctionNode(source, Object.assign({}, nodeOptions, {\n          name,\n          isSubKernel: true,\n          isRootKernel: false,\n        }));\n      });\n    }\n\n    const functionBuilder = new FunctionBuilder({\n      kernel,\n      rootNode,\n      functionNodes,\n      nativeFunctions,\n      subKernelNodes\n    });\n\n    return functionBuilder;\n  }\n\n  constructor(settings) {\n    settings = settings || {};\n    this.kernel = settings.kernel;\n    this.rootNode = settings.rootNode;\n    this.functionNodes = settings.functionNodes || [];\n    this.subKernelNodes = settings.subKernelNodes || [];\n    this.nativeFunctions = settings.nativeFunctions || [];\n    this.functionMap = {};\n    this.nativeFunctionNames = [];\n    this.lookupChain = [];\n    this.functionNodeDependencies = {};\n    this.functionCalls = {};\n\n    if (this.rootNode) {\n      this.functionMap['kernel'] = this.rootNode;\n    }\n\n    if (this.functionNodes) {\n      for (let i = 0; i < this.functionNodes.length; i++) {\n        this.functionMap[this.functionNodes[i].name] = this.functionNodes[i];\n      }\n    }\n\n    if (this.subKernelNodes) {\n      for (let i = 0; i < this.subKernelNodes.length; i++) {\n        this.functionMap[this.subKernelNodes[i].name] = this.subKernelNodes[i];\n      }\n    }\n\n    if (this.nativeFunctions) {\n      for (let i = 0; i < this.nativeFunctions.length; i++) {\n        const nativeFunction = this.nativeFunctions[i];\n        this.nativeFunctionNames.push(nativeFunction.name);\n      }\n    }\n  }\n\n  addFunctionNode(functionNode) {\n    if (!functionNode.name) throw new Error('functionNode.name needs set');\n    this.functionMap[functionNode.name] = functionNode;\n    if (functionNode.isRootKernel) {\n      this.rootNode = functionNode;\n    }\n  }\n\n  traceFunctionCalls(functionName, retList) {\n    functionName = functionName || 'kernel';\n    retList = retList || [];\n\n    if (this.nativeFunctionNames.indexOf(functionName) > -1) {\n      if (retList.indexOf(functionName) === -1) {\n        retList.push(functionName);\n      }\n      return retList;\n    }\n\n    const functionNode = this.functionMap[functionName];\n    if (functionNode) {\n      const functionIndex = retList.indexOf(functionName);\n      if (functionIndex === -1) {\n        retList.push(functionName);\n        functionNode.toString(); \n        for (let i = 0; i < functionNode.calledFunctions.length; ++i) {\n          this.traceFunctionCalls(functionNode.calledFunctions[i], retList);\n        }\n      } else {\n        const dependantFunctionName = retList.splice(functionIndex, 1)[0];\n        retList.push(dependantFunctionName);\n      }\n    }\n\n    return retList;\n  }\n\n  getPrototypeString(functionName) {\n    return this.getPrototypes(functionName).join('\\n');\n  }\n\n  getPrototypes(functionName) {\n    if (this.rootNode) {\n      this.rootNode.toString();\n    }\n    if (functionName) {\n      return this.getPrototypesFromFunctionNames(this.traceFunctionCalls(functionName, []).reverse());\n    }\n    return this.getPrototypesFromFunctionNames(Object.keys(this.functionMap));\n  }\n\n  getStringFromFunctionNames(functionList) {\n    const ret = [];\n    for (let i = 0; i < functionList.length; ++i) {\n      const node = this.functionMap[functionList[i]];\n      if (node) {\n        ret.push(this.functionMap[functionList[i]].toString());\n      }\n    }\n    return ret.join('\\n');\n  }\n\n  getPrototypesFromFunctionNames(functionList) {\n    const ret = [];\n    for (let i = 0; i < functionList.length; ++i) {\n      const functionName = functionList[i];\n      const functionIndex = this.nativeFunctionNames.indexOf(functionName);\n      if (functionIndex > -1) {\n        ret.push(this.nativeFunctions[functionIndex].source);\n        continue;\n      }\n      const node = this.functionMap[functionName];\n      if (node) {\n        ret.push(node.toString());\n      }\n    }\n    return ret;\n  }\n\n  toJSON() {\n    return this.traceFunctionCalls(this.rootNode.name).reverse().map(name => {\n      const nativeIndex = this.nativeFunctions.indexOf(name);\n      if (nativeIndex > -1) {\n        return {\n          name,\n          source: this.nativeFunctions[nativeIndex].source\n        };\n      } else if (this.functionMap[name]) {\n        return this.functionMap[name].toJSON();\n      } else {\n        throw new Error(`function ${ name } not found`);\n      }\n    });\n  }\n\n  fromJSON(jsonFunctionNodes, FunctionNode) {\n    this.functionMap = {};\n    for (let i = 0; i < jsonFunctionNodes.length; i++) {\n      const jsonFunctionNode = jsonFunctionNodes[i];\n      this.functionMap[jsonFunctionNode.settings.name] = new FunctionNode(jsonFunctionNode.ast, jsonFunctionNode.settings);\n    }\n    return this;\n  }\n\n  getString(functionName) {\n    if (functionName) {\n      return this.getStringFromFunctionNames(this.traceFunctionCalls(functionName).reverse());\n    }\n    return this.getStringFromFunctionNames(Object.keys(this.functionMap));\n  }\n\n  lookupReturnType(functionName, ast, requestingNode) {\n    if (ast.type !== 'CallExpression') {\n      throw new Error(`expected ast type of \"CallExpression\", but is ${ ast.type }`);\n    }\n    if (this._isNativeFunction(functionName)) {\n      return this._lookupNativeFunctionReturnType(functionName);\n    } else if (this._isFunction(functionName)) {\n      const node = this._getFunction(functionName);\n      if (node.returnType) {\n        return node.returnType;\n      } else {\n        for (let i = 0; i < this.lookupChain.length; i++) {\n          if (this.lookupChain[i].ast === ast) {\n            if (node.argumentTypes.length === 0 && ast.arguments.length > 0) {\n              const args = ast.arguments;\n              for (let j = 0; j < args.length; j++) {\n                this.lookupChain.push({\n                  name: requestingNode.name,\n                  ast: args[i],\n                  requestingNode\n                });\n                node.argumentTypes[j] = requestingNode.getType(args[j]);\n                this.lookupChain.pop();\n              }\n              return node.returnType = node.getType(node.getJsAST());\n            }\n\n            throw new Error('circlical logic detected!');\n          }\n        }\n        this.lookupChain.push({\n          name: requestingNode.name,\n          ast,\n          requestingNode\n        });\n        const type = node.getType(node.getJsAST());\n        this.lookupChain.pop();\n        return node.returnType = type;\n      }\n    }\n\n    return null;\n  }\n\n  _getFunction(functionName) {\n    if (!this._isFunction(functionName)) {\n      new Error(`Function ${functionName} not found`);\n    }\n    return this.functionMap[functionName];\n  }\n\n  _isFunction(functionName) {\n    return Boolean(this.functionMap[functionName]);\n  }\n\n  _getNativeFunction(functionName) {\n    for (let i = 0; i < this.nativeFunctions.length; i++) {\n      if (this.nativeFunctions[i].name === functionName) return this.nativeFunctions[i];\n    }\n    return null;\n  }\n\n  _isNativeFunction(functionName) {\n    return Boolean(this._getNativeFunction(functionName));\n  }\n\n  _lookupNativeFunctionReturnType(functionName) {\n    let nativeFunction = this._getNativeFunction(functionName);\n    if (nativeFunction) {\n      return nativeFunction.returnType;\n    }\n    throw new Error(`Native function ${ functionName } not found`);\n  }\n\n  lookupFunctionArgumentTypes(functionName) {\n    if (this._isNativeFunction(functionName)) {\n      return this._getNativeFunction(functionName).argumentTypes;\n    } else if (this._isFunction(functionName)) {\n      return this._getFunction(functionName).argumentTypes;\n    }\n    return null;\n  }\n\n  lookupFunctionArgumentName(functionName, argumentIndex) {\n    return this._getFunction(functionName).argumentNames[argumentIndex];\n  }\n\n  lookupFunctionArgumentBitRatio(functionName, argumentName) {\n    if (!this._isFunction(functionName)) {\n      throw new Error('function not found');\n    }\n    if (this.rootNode.name === functionName) {\n      const i = this.rootNode.argumentNames.indexOf(argumentName);\n      if (i !== -1) {\n        return this.rootNode.argumentBitRatios[i];\n      }\n    }\n    const node = this._getFunction(functionName);\n    const i = node.argumentNames.indexOf(argumentName);\n    if (i === -1) {\n      throw new Error('argument not found');\n    }\n    const bitRatio = node.argumentBitRatios[i];\n    if (typeof bitRatio !== 'number') {\n      throw new Error('argument bit ratio not found');\n    }\n    return bitRatio;\n  }\n\n  needsArgumentType(functionName, i) {\n    if (!this._isFunction(functionName)) return false;\n    const fnNode = this._getFunction(functionName);\n    return !fnNode.argumentTypes[i];\n  }\n\n  assignArgumentType(functionName, i, argumentType, requestingNode) {\n    if (!this._isFunction(functionName)) return;\n    const fnNode = this._getFunction(functionName);\n    if (!fnNode.argumentTypes[i]) {\n      fnNode.argumentTypes[i] = argumentType;\n    }\n  }\n\n  assignArgumentBitRatio(functionName, argumentName, calleeFunctionName, argumentIndex) {\n    const node = this._getFunction(functionName);\n    if (this._isNativeFunction(calleeFunctionName)) return null;\n    const calleeNode = this._getFunction(calleeFunctionName);\n    const i = node.argumentNames.indexOf(argumentName);\n    if (i === -1) {\n      throw new Error(`Argument ${argumentName} not found in arguments from function ${functionName}`);\n    }\n    const bitRatio = node.argumentBitRatios[i];\n    if (typeof bitRatio !== 'number') {\n      throw new Error(`Bit ratio for argument ${argumentName} not found in function ${functionName}`);\n    }\n    if (!calleeNode.argumentBitRatios) {\n      calleeNode.argumentBitRatios = new Array(calleeNode.argumentNames.length);\n    }\n    const calleeBitRatio = calleeNode.argumentBitRatios[i];\n    if (typeof calleeBitRatio === 'number') {\n      if (calleeBitRatio !== bitRatio) {\n        throw new Error(`Incompatible bit ratio found at function ${functionName} at argument ${argumentName}`);\n      }\n      return calleeBitRatio;\n    }\n    calleeNode.argumentBitRatios[i] = bitRatio;\n    return bitRatio;\n  }\n\n  trackFunctionCall(functionName, calleeFunctionName, args) {\n    if (!this.functionNodeDependencies[functionName]) {\n      this.functionNodeDependencies[functionName] = new Set();\n      this.functionCalls[functionName] = [];\n    }\n    this.functionNodeDependencies[functionName].add(calleeFunctionName);\n    this.functionCalls[functionName].push(args);\n  }\n\n  getKernelResultType() {\n    return this.rootNode.returnType || this.rootNode.getType(this.rootNode.ast);\n  }\n\n  getSubKernelResultType(index) {\n    const subKernelNode = this.subKernelNodes[index];\n    let called = false;\n    for (let functionCallIndex = 0; functionCallIndex < this.rootNode.functionCalls.length; functionCallIndex++) {\n      const functionCall = this.rootNode.functionCalls[functionCallIndex];\n      if (functionCall.ast.callee.name === subKernelNode.name) {\n        called = true;\n      }\n    }\n    if (!called) {\n      throw new Error(`SubKernel ${ subKernelNode.name } never called by kernel`);\n    }\n    return subKernelNode.returnType || subKernelNode.getType(subKernelNode.getJsAST());\n  }\n\n  getReturnTypes() {\n    const result = {\n      [this.rootNode.name]: this.rootNode.getType(this.rootNode.ast),\n    };\n    const list = this.traceFunctionCalls(this.rootNode.name);\n    for (let i = 0; i < list.length; i++) {\n      const functionName = list[i];\n      const functionNode = this.functionMap[functionName];\n      result[functionName] = functionNode.getType(functionNode.ast);\n    }\n    return result;\n  }\n}\n\nmodule.exports = {\n  FunctionBuilder\n};\n},{}],10:[function(require,module,exports){\nconst acorn = require('acorn');\nconst { utils } = require('../utils');\nconst { FunctionTracer } = require('./function-tracer');\n\nclass FunctionNode {\n  constructor(source, settings) {\n    if (!source && !settings.ast) {\n      throw new Error('source parameter is missing');\n    }\n    settings = settings || {};\n    this.source = source;\n    this.ast = null;\n    this.name = typeof source === 'string' ? settings.isRootKernel ?\n      'kernel' :\n      (settings.name || utils.getFunctionNameFromString(source)) : null;\n    this.calledFunctions = [];\n    this.constants = {};\n    this.constantTypes = {};\n    this.constantBitRatios = {};\n    this.isRootKernel = false;\n    this.isSubKernel = false;\n    this.debug = null;\n    this.functions = null;\n    this.identifiers = null;\n    this.contexts = null;\n    this.functionCalls = null;\n    this.states = [];\n    this.needsArgumentType = null;\n    this.assignArgumentType = null;\n    this.lookupReturnType = null;\n    this.lookupFunctionArgumentTypes = null;\n    this.lookupFunctionArgumentBitRatio = null;\n    this.triggerImplyArgumentType = null;\n    this.triggerImplyArgumentBitRatio = null;\n    this.onNestedFunction = null;\n    this.onFunctionCall = null;\n    this.optimizeFloatMemory = null;\n    this.precision = null;\n    this.loopMaxIterations = null;\n    this.argumentNames = (typeof this.source === 'string' ? utils.getArgumentNamesFromString(this.source) : null);\n    this.argumentTypes = [];\n    this.argumentSizes = [];\n    this.argumentBitRatios = null;\n    this.returnType = null;\n    this.output = [];\n    this.plugins = null;\n    this.leadingReturnStatement = null;\n    this.followingReturnStatement = null;\n    this.dynamicOutput = null;\n    this.dynamicArguments = null;\n    this.strictTypingChecking = false;\n    this.fixIntegerDivisionAccuracy = null;\n    this.onIstanbulCoverageVariable = null;\n    this.removeIstanbulCoverage = false;\n\n    if (settings) {\n      for (const p in settings) {\n        if (!settings.hasOwnProperty(p)) continue;\n        if (!this.hasOwnProperty(p)) continue;\n        this[p] = settings[p];\n      }\n    }\n\n    this.literalTypes = {};\n\n    this.validate();\n    this._string = null;\n    this._internalVariableNames = {};\n  }\n\n  validate() {\n    if (typeof this.source !== 'string' && !this.ast) {\n      throw new Error('this.source not a string');\n    }\n\n    if (!this.ast && !utils.isFunctionString(this.source)) {\n      throw new Error('this.source not a function string');\n    }\n\n    if (!this.name) {\n      throw new Error('this.name could not be set');\n    }\n\n    if (this.argumentTypes.length > 0 && this.argumentTypes.length !== this.argumentNames.length) {\n      throw new Error(`argumentTypes count of ${ this.argumentTypes.length } exceeds ${ this.argumentNames.length }`);\n    }\n\n    if (this.output.length < 1) {\n      throw new Error('this.output is not big enough');\n    }\n  }\n\n  isIdentifierConstant(name) {\n    if (!this.constants) return false;\n    return this.constants.hasOwnProperty(name);\n  }\n\n  isInput(argumentName) {\n    return this.argumentTypes[this.argumentNames.indexOf(argumentName)] === 'Input';\n  }\n\n  pushState(state) {\n    this.states.push(state);\n  }\n\n  popState(state) {\n    if (this.state !== state) {\n      throw new Error(`Cannot popState ${ state } when in ${ this.state }`);\n    }\n    this.states.pop();\n  }\n\n  isState(state) {\n    return this.state === state;\n  }\n\n  get state() {\n    return this.states[this.states.length - 1];\n  }\n\n  astMemberExpressionUnroll(ast) {\n    if (ast.type === 'Identifier') {\n      return ast.name;\n    } else if (ast.type === 'ThisExpression') {\n      return 'this';\n    }\n\n    if (ast.type === 'MemberExpression') {\n      if (ast.object && ast.property) {\n        if (ast.object.hasOwnProperty('name') && ast.object.name[0] === '_') {\n          return this.astMemberExpressionUnroll(ast.property);\n        }\n\n        return (\n          this.astMemberExpressionUnroll(ast.object) +\n          '.' +\n          this.astMemberExpressionUnroll(ast.property)\n        );\n      }\n    }\n\n    if (ast.hasOwnProperty('expressions')) {\n      const firstExpression = ast.expressions[0];\n      if (firstExpression.type === 'Literal' && firstExpression.value === 0 && ast.expressions.length === 2) {\n        return this.astMemberExpressionUnroll(ast.expressions[1]);\n      }\n    }\n\n    throw this.astErrorOutput('Unknown astMemberExpressionUnroll', ast);\n  }\n\n  getJsAST(inParser) {\n    if (this.ast) {\n      return this.ast;\n    }\n    if (typeof this.source === 'object') {\n      this.traceFunctionAST(this.source);\n      return this.ast = this.source;\n    }\n\n    inParser = inParser || acorn;\n    if (inParser === null) {\n      throw new Error('Missing JS to AST parser');\n    }\n\n    const ast = Object.freeze(inParser.parse(`const parser_${ this.name } = ${ this.source };`, {\n      locations: true\n    }));\n    const functionAST = ast.body[0].declarations[0].init;\n    this.traceFunctionAST(functionAST);\n\n    if (!ast) {\n      throw new Error('Failed to parse JS code');\n    }\n\n    return this.ast = functionAST;\n  }\n\n  traceFunctionAST(ast) {\n    const { contexts, declarations, functions, identifiers, functionCalls } = new FunctionTracer(ast);\n    this.contexts = contexts;\n    this.identifiers = identifiers;\n    this.functionCalls = functionCalls;\n    this.functions = functions;\n    for (let i = 0; i < declarations.length; i++) {\n      const declaration = declarations[i];\n      const { ast, inForLoopInit, inForLoopTest } = declaration;\n      const { init } = ast;\n      const dependencies = this.getDependencies(init);\n      let valueType = null;\n\n      if (inForLoopInit && inForLoopTest) {\n        valueType = 'Integer';\n      } else {\n        if (init) {\n          const realType = this.getType(init);\n          switch (realType) {\n            case 'Integer':\n            case 'Float':\n            case 'Number':\n              if (init.type === 'MemberExpression') {\n                valueType = realType;\n              } else {\n                valueType = 'Number';\n              }\n              break;\n            case 'LiteralInteger':\n              valueType = 'Number';\n              break;\n            default:\n              valueType = realType;\n          }\n        }\n      }\n      declaration.valueType = valueType;\n      declaration.dependencies = dependencies;\n      declaration.isSafe = this.isSafeDependencies(dependencies);\n    }\n\n    for (let i = 0; i < functions.length; i++) {\n      this.onNestedFunction(functions[i]);\n    }\n  }\n\n  getDeclaration(ast) {\n    for (let i = 0; i < this.identifiers.length; i++) {\n      const identifier = this.identifiers[i];\n      if (ast === identifier.ast) {\n        return identifier.declaration;\n      }\n    }\n    return null;\n  }\n\n  getVariableType(ast) {\n    if (ast.type !== 'Identifier') {\n      throw new Error(`ast of ${ast.type} not \"Identifier\"`);\n    }\n    let type = null;\n    const argumentIndex = this.argumentNames.indexOf(ast.name);\n    if (argumentIndex === -1) {\n      const declaration = this.getDeclaration(ast);\n      if (declaration) {\n        return declaration.valueType;\n      }\n    } else {\n      const argumentType = this.argumentTypes[argumentIndex];\n      if (argumentType) {\n        type = argumentType;\n      }\n    }\n    if (!type && this.strictTypingChecking) {\n      throw new Error(`Declaration of ${name} not found`);\n    }\n    return type;\n  }\n\n  getLookupType(type) {\n    if (!typeLookupMap.hasOwnProperty(type)) {\n      throw new Error(`unknown typeLookupMap ${ type }`);\n    }\n    return typeLookupMap[type];\n  }\n\n  getConstantType(constantName) {\n    if (this.constantTypes[constantName]) {\n      const type = this.constantTypes[constantName];\n      if (type === 'Float') {\n        return 'Number';\n      } else {\n        return type;\n      }\n    }\n    throw new Error(`Type for constant \"${ constantName }\" not declared`);\n  }\n\n  toString() {\n    if (this._string) return this._string;\n    return this._string = this.astGeneric(this.getJsAST(), []).join('').trim();\n  }\n\n  toJSON() {\n    const settings = {\n      source: this.source,\n      name: this.name,\n      constants: this.constants,\n      constantTypes: this.constantTypes,\n      isRootKernel: this.isRootKernel,\n      isSubKernel: this.isSubKernel,\n      debug: this.debug,\n      output: this.output,\n      loopMaxIterations: this.loopMaxIterations,\n      argumentNames: this.argumentNames,\n      argumentTypes: this.argumentTypes,\n      argumentSizes: this.argumentSizes,\n      returnType: this.returnType,\n      leadingReturnStatement: this.leadingReturnStatement,\n      followingReturnStatement: this.followingReturnStatement,\n    };\n\n    return {\n      ast: this.ast,\n      settings\n    };\n  }\n\n  getType(ast) {\n    if (Array.isArray(ast)) {\n      return this.getType(ast[ast.length - 1]);\n    }\n    switch (ast.type) {\n      case 'BlockStatement':\n        return this.getType(ast.body);\n      case 'ArrayExpression':\n        return `Array(${ ast.elements.length })`;\n      case 'Literal':\n        const literalKey = this.astKey(ast);\n        if (this.literalTypes[literalKey]) {\n          return this.literalTypes[literalKey];\n        }\n        if (Number.isInteger(ast.value)) {\n          return 'LiteralInteger';\n        } else if (ast.value === true || ast.value === false) {\n          return 'Boolean';\n        } else {\n          return 'Number';\n        }\n        case 'AssignmentExpression':\n          return this.getType(ast.left);\n        case 'CallExpression':\n          if (this.isAstMathFunction(ast)) {\n            return 'Number';\n          }\n          if (!ast.callee || !ast.callee.name) {\n            if (ast.callee.type === 'SequenceExpression' && ast.callee.expressions[ast.callee.expressions.length - 1].property.name) {\n              const functionName = ast.callee.expressions[ast.callee.expressions.length - 1].property.name;\n              this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n              return this.lookupReturnType(functionName, ast, this);\n            }\n            if (this.getVariableSignature(ast.callee, true) === 'this.color') {\n              return null;\n            }\n            throw this.astErrorOutput('Unknown call expression', ast);\n          }\n          if (ast.callee && ast.callee.name) {\n            const functionName = ast.callee.name;\n            this.inferArgumentTypesIfNeeded(functionName, ast.arguments);\n            return this.lookupReturnType(functionName, ast, this);\n          }\n          throw this.astErrorOutput(`Unhandled getType Type \"${ ast.type }\"`, ast);\n        case 'LogicalExpression':\n          return 'Boolean';\n        case 'BinaryExpression':\n          switch (ast.operator) {\n            case '%':\n            case '/':\n              if (this.fixIntegerDivisionAccuracy) {\n                return 'Number';\n              } else {\n                break;\n              }\n              case '>':\n              case '<':\n                return 'Boolean';\n              case '&':\n              case '|':\n              case '^':\n              case '<<':\n              case '>>':\n              case '>>>':\n                return 'Integer';\n          }\n          const type = this.getType(ast.left);\n          if (this.isState('skip-literal-correction')) return type;\n          if (type === 'LiteralInteger') {\n            const rightType = this.getType(ast.right);\n            if (rightType === 'LiteralInteger') {\n              if (ast.left.value % 1 === 0) {\n                return 'Integer';\n              } else {\n                return 'Float';\n              }\n            }\n            return rightType;\n          }\n          return typeLookupMap[type] || type;\n        case 'UpdateExpression':\n          return this.getType(ast.argument);\n        case 'UnaryExpression':\n          if (ast.operator === '~') {\n            return 'Integer';\n          }\n          return this.getType(ast.argument);\n        case 'VariableDeclaration': {\n          const declarations = ast.declarations;\n          let lastType;\n          for (let i = 0; i < declarations.length; i++) {\n            const declaration = declarations[i];\n            lastType = this.getType(declaration);\n          }\n          if (!lastType) {\n            throw this.astErrorOutput(`Unable to find type for declaration`, ast);\n          }\n          return lastType;\n        }\n        case 'VariableDeclarator':\n          const declaration = this.getDeclaration(ast.id);\n          if (!declaration) {\n            throw this.astErrorOutput(`Unable to find declarator`, ast);\n          }\n\n          if (!declaration.valueType) {\n            throw this.astErrorOutput(`Unable to find declarator valueType`, ast);\n          }\n\n          return declaration.valueType;\n        case 'Identifier':\n          if (ast.name === 'Infinity') {\n            return 'Number';\n          }\n          if (this.isAstVariable(ast)) {\n            const signature = this.getVariableSignature(ast);\n            if (signature === 'value') {\n              return this.getCheckVariableType(ast);\n            }\n          }\n          const origin = this.findIdentifierOrigin(ast);\n          if (origin && origin.init) {\n            return this.getType(origin.init);\n          }\n          return null;\n        case 'ReturnStatement':\n          return this.getType(ast.argument);\n        case 'MemberExpression':\n          if (this.isAstMathFunction(ast)) {\n            switch (ast.property.name) {\n              case 'ceil':\n                return 'Integer';\n              case 'floor':\n                return 'Integer';\n              case 'round':\n                return 'Integer';\n            }\n            return 'Number';\n          }\n          if (this.isAstVariable(ast)) {\n            const variableSignature = this.getVariableSignature(ast);\n            switch (variableSignature) {\n              case 'value[]':\n                return this.getLookupType(this.getCheckVariableType(ast.object));\n              case 'value[][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object));\n              case 'value[][][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object.object));\n              case 'value[][][][]':\n                return this.getLookupType(this.getCheckVariableType(ast.object.object.object.object));\n              case 'value.thread.value':\n              case 'this.thread.value':\n                return 'Integer';\n              case 'this.output.value':\n                return this.dynamicOutput ? 'Integer' : 'LiteralInteger';\n              case 'this.constants.value':\n                return this.getConstantType(ast.property.name);\n              case 'this.constants.value[]':\n                return this.getLookupType(this.getConstantType(ast.object.property.name));\n              case 'this.constants.value[][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.property.name));\n              case 'this.constants.value[][][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.object.property.name));\n              case 'this.constants.value[][][][]':\n                return this.getLookupType(this.getConstantType(ast.object.object.object.object.property.name));\n              case 'fn()[]':\n              case 'fn()[][]':\n              case 'fn()[][][]':\n                return this.getLookupType(this.getType(ast.object));\n              case 'value.value':\n                if (this.isAstMathVariable(ast)) {\n                  return 'Number';\n                }\n                switch (ast.property.name) {\n                  case 'r':\n                  case 'g':\n                  case 'b':\n                  case 'a':\n                    return this.getLookupType(this.getCheckVariableType(ast.object));\n                }\n                case '[][]':\n                  return 'Number';\n            }\n            throw this.astErrorOutput('Unhandled getType MemberExpression', ast);\n          }\n          throw this.astErrorOutput('Unhandled getType MemberExpression', ast);\n        case 'ConditionalExpression':\n          return this.getType(ast.consequent);\n        case 'FunctionDeclaration':\n        case 'FunctionExpression':\n          const lastReturn = this.findLastReturn(ast.body);\n          if (lastReturn) {\n            return this.getType(lastReturn);\n          }\n          return null;\n        case 'IfStatement':\n          return this.getType(ast.consequent);\n        case 'SequenceExpression':\n          return this.getType(ast.expressions[ast.expressions.length - 1]);\n        default:\n          throw this.astErrorOutput(`Unhandled getType Type \"${ ast.type }\"`, ast);\n    }\n  }\n\n  getCheckVariableType(ast) {\n    const type = this.getVariableType(ast);\n    if (!type) {\n      throw this.astErrorOutput(`${ast.type} is not defined`, ast);\n    }\n    return type;\n  }\n\n  inferArgumentTypesIfNeeded(functionName, args) {\n    for (let i = 0; i < args.length; i++) {\n      if (!this.needsArgumentType(functionName, i)) continue;\n      const type = this.getType(args[i]);\n      if (!type) {\n        throw this.astErrorOutput(`Unable to infer argument ${i}`, args[i]);\n      }\n      this.assignArgumentType(functionName, i, type);\n    }\n  }\n\n  isAstMathVariable(ast) {\n    const mathProperties = [\n      'E',\n      'PI',\n      'SQRT2',\n      'SQRT1_2',\n      'LN2',\n      'LN10',\n      'LOG2E',\n      'LOG10E',\n    ];\n    return ast.type === 'MemberExpression' &&\n      ast.object && ast.object.type === 'Identifier' &&\n      ast.object.name === 'Math' &&\n      ast.property &&\n      ast.property.type === 'Identifier' &&\n      mathProperties.indexOf(ast.property.name) > -1;\n  }\n\n  isAstMathFunction(ast) {\n    const mathFunctions = [\n      'abs',\n      'acos',\n      'acosh',\n      'asin',\n      'asinh',\n      'atan',\n      'atan2',\n      'atanh',\n      'cbrt',\n      'ceil',\n      'clz32',\n      'cos',\n      'cosh',\n      'expm1',\n      'exp',\n      'floor',\n      'fround',\n      'imul',\n      'log',\n      'log2',\n      'log10',\n      'log1p',\n      'max',\n      'min',\n      'pow',\n      'random',\n      'round',\n      'sign',\n      'sin',\n      'sinh',\n      'sqrt',\n      'tan',\n      'tanh',\n      'trunc',\n    ];\n    return ast.type === 'CallExpression' &&\n      ast.callee &&\n      ast.callee.type === 'MemberExpression' &&\n      ast.callee.object &&\n      ast.callee.object.type === 'Identifier' &&\n      ast.callee.object.name === 'Math' &&\n      ast.callee.property &&\n      ast.callee.property.type === 'Identifier' &&\n      mathFunctions.indexOf(ast.callee.property.name) > -1;\n  }\n\n  isAstVariable(ast) {\n    return ast.type === 'Identifier' || ast.type === 'MemberExpression';\n  }\n\n  isSafe(ast) {\n    return this.isSafeDependencies(this.getDependencies(ast));\n  }\n\n  isSafeDependencies(dependencies) {\n    return dependencies && dependencies.every ? dependencies.every(dependency => dependency.isSafe) : true;\n  }\n\n  getDependencies(ast, dependencies, isNotSafe) {\n    if (!dependencies) {\n      dependencies = [];\n    }\n    if (!ast) return null;\n    if (Array.isArray(ast)) {\n      for (let i = 0; i < ast.length; i++) {\n        this.getDependencies(ast[i], dependencies, isNotSafe);\n      }\n      return dependencies;\n    }\n    switch (ast.type) {\n      case 'AssignmentExpression':\n        this.getDependencies(ast.left, dependencies, isNotSafe);\n        this.getDependencies(ast.right, dependencies, isNotSafe);\n        return dependencies;\n      case 'ConditionalExpression':\n        this.getDependencies(ast.test, dependencies, isNotSafe);\n        this.getDependencies(ast.alternate, dependencies, isNotSafe);\n        this.getDependencies(ast.consequent, dependencies, isNotSafe);\n        return dependencies;\n      case 'Literal':\n        dependencies.push({\n          origin: 'literal',\n          value: ast.value,\n          isSafe: isNotSafe === true ? false : ast.value > -Infinity && ast.value < Infinity && !isNaN(ast.value)\n        });\n        break;\n      case 'VariableDeclarator':\n        return this.getDependencies(ast.init, dependencies, isNotSafe);\n      case 'Identifier':\n        const declaration = this.getDeclaration(ast);\n        if (declaration) {\n          dependencies.push({\n            name: ast.name,\n            origin: 'declaration',\n            isSafe: isNotSafe ? false : this.isSafeDependencies(declaration.dependencies),\n          });\n        } else if (this.argumentNames.indexOf(ast.name) > -1) {\n          dependencies.push({\n            name: ast.name,\n            origin: 'argument',\n            isSafe: false,\n          });\n        } else if (this.strictTypingChecking) {\n          throw new Error(`Cannot find identifier origin \"${ast.name}\"`);\n        }\n        break;\n      case 'FunctionDeclaration':\n        return this.getDependencies(ast.body.body[ast.body.body.length - 1], dependencies, isNotSafe);\n      case 'ReturnStatement':\n        return this.getDependencies(ast.argument, dependencies);\n      case 'BinaryExpression':\n      case 'LogicalExpression':\n        isNotSafe = (ast.operator === '/' || ast.operator === '*');\n        this.getDependencies(ast.left, dependencies, isNotSafe);\n        this.getDependencies(ast.right, dependencies, isNotSafe);\n        return dependencies;\n      case 'UnaryExpression':\n      case 'UpdateExpression':\n        return this.getDependencies(ast.argument, dependencies, isNotSafe);\n      case 'VariableDeclaration':\n        return this.getDependencies(ast.declarations, dependencies, isNotSafe);\n      case 'ArrayExpression':\n        dependencies.push({\n          origin: 'declaration',\n          isSafe: true,\n        });\n        return dependencies;\n      case 'CallExpression':\n        dependencies.push({\n          origin: 'function',\n          isSafe: true,\n        });\n        return dependencies;\n      case 'MemberExpression':\n        const details = this.getMemberExpressionDetails(ast);\n        switch (details.signature) {\n          case 'value[]':\n            this.getDependencies(ast.object, dependencies, isNotSafe);\n            break;\n          case 'value[][]':\n            this.getDependencies(ast.object.object, dependencies, isNotSafe);\n            break;\n          case 'value[][][]':\n            this.getDependencies(ast.object.object.object, dependencies, isNotSafe);\n            break;\n          case 'this.output.value':\n            if (this.dynamicOutput) {\n              dependencies.push({\n                name: details.name,\n                origin: 'output',\n                isSafe: false,\n              });\n            }\n            break;\n        }\n        if (details) {\n          if (details.property) {\n            this.getDependencies(details.property, dependencies, isNotSafe);\n          }\n          if (details.xProperty) {\n            this.getDependencies(details.xProperty, dependencies, isNotSafe);\n          }\n          if (details.yProperty) {\n            this.getDependencies(details.yProperty, dependencies, isNotSafe);\n          }\n          if (details.zProperty) {\n            this.getDependencies(details.zProperty, dependencies, isNotSafe);\n          }\n          return dependencies;\n        }\n        case 'SequenceExpression':\n          return this.getDependencies(ast.expressions, dependencies, isNotSafe);\n        default:\n          throw this.astErrorOutput(`Unhandled type ${ ast.type } in getDependencies`, ast);\n    }\n    return dependencies;\n  }\n\n  getVariableSignature(ast, returnRawValue) {\n    if (!this.isAstVariable(ast)) {\n      throw new Error(`ast of type \"${ ast.type }\" is not a variable signature`);\n    }\n    if (ast.type === 'Identifier') {\n      return 'value';\n    }\n    const signature = [];\n    while (true) {\n      if (!ast) break;\n      if (ast.computed) {\n        signature.push('[]');\n      } else if (ast.type === 'ThisExpression') {\n        signature.unshift('this');\n      } else if (ast.property && ast.property.name) {\n        if (\n          ast.property.name === 'x' ||\n          ast.property.name === 'y' ||\n          ast.property.name === 'z'\n        ) {\n          signature.unshift(returnRawValue ? '.' + ast.property.name : '.value');\n        } else if (\n          ast.property.name === 'constants' ||\n          ast.property.name === 'thread' ||\n          ast.property.name === 'output'\n        ) {\n          signature.unshift('.' + ast.property.name);\n        } else {\n          signature.unshift(returnRawValue ? '.' + ast.property.name : '.value');\n        }\n      } else if (ast.name) {\n        signature.unshift(returnRawValue ? ast.name : 'value');\n      } else if (ast.callee && ast.callee.name) {\n        signature.unshift(returnRawValue ? ast.callee.name + '()' : 'fn()');\n      } else if (ast.elements) {\n        signature.unshift('[]');\n      } else {\n        signature.unshift('unknown');\n      }\n      ast = ast.object;\n    }\n\n    const signatureString = signature.join('');\n    if (returnRawValue) {\n      return signatureString;\n    }\n\n    const allowedExpressions = [\n      'value',\n      'value[]',\n      'value[][]',\n      'value[][][]',\n      'value[][][][]',\n      'value.value',\n      'value.value[]', \n      'value.value[][]', \n      'value.thread.value',\n      'this.thread.value',\n      'this.output.value',\n      'this.constants.value',\n      'this.constants.value[]',\n      'this.constants.value[][]',\n      'this.constants.value[][][]',\n      'this.constants.value[][][][]',\n      'fn()[]',\n      'fn()[][]',\n      'fn()[][][]',\n      '[][]',\n    ];\n    if (allowedExpressions.indexOf(signatureString) > -1) {\n      return signatureString;\n    }\n    return null;\n  }\n\n  build() {\n    return this.toString().length > 0;\n  }\n\n  astGeneric(ast, retArr) {\n    if (ast === null) {\n      throw this.astErrorOutput('NULL ast', ast);\n    } else {\n      if (Array.isArray(ast)) {\n        for (let i = 0; i < ast.length; i++) {\n          this.astGeneric(ast[i], retArr);\n        }\n        return retArr;\n      }\n\n      switch (ast.type) {\n        case 'FunctionDeclaration':\n          return this.astFunctionDeclaration(ast, retArr);\n        case 'FunctionExpression':\n          return this.astFunctionExpression(ast, retArr);\n        case 'ReturnStatement':\n          return this.astReturnStatement(ast, retArr);\n        case 'Literal':\n          return this.astLiteral(ast, retArr);\n        case 'BinaryExpression':\n          return this.astBinaryExpression(ast, retArr);\n        case 'Identifier':\n          return this.astIdentifierExpression(ast, retArr);\n        case 'AssignmentExpression':\n          return this.astAssignmentExpression(ast, retArr);\n        case 'ExpressionStatement':\n          return this.astExpressionStatement(ast, retArr);\n        case 'EmptyStatement':\n          return this.astEmptyStatement(ast, retArr);\n        case 'BlockStatement':\n          return this.astBlockStatement(ast, retArr);\n        case 'IfStatement':\n          return this.astIfStatement(ast, retArr);\n        case 'SwitchStatement':\n          return this.astSwitchStatement(ast, retArr);\n        case 'BreakStatement':\n          return this.astBreakStatement(ast, retArr);\n        case 'ContinueStatement':\n          return this.astContinueStatement(ast, retArr);\n        case 'ForStatement':\n          return this.astForStatement(ast, retArr);\n        case 'WhileStatement':\n          return this.astWhileStatement(ast, retArr);\n        case 'DoWhileStatement':\n          return this.astDoWhileStatement(ast, retArr);\n        case 'VariableDeclaration':\n          return this.astVariableDeclaration(ast, retArr);\n        case 'VariableDeclarator':\n          return this.astVariableDeclarator(ast, retArr);\n        case 'ThisExpression':\n          return this.astThisExpression(ast, retArr);\n        case 'SequenceExpression':\n          return this.astSequenceExpression(ast, retArr);\n        case 'UnaryExpression':\n          return this.astUnaryExpression(ast, retArr);\n        case 'UpdateExpression':\n          return this.astUpdateExpression(ast, retArr);\n        case 'LogicalExpression':\n          return this.astLogicalExpression(ast, retArr);\n        case 'MemberExpression':\n          return this.astMemberExpression(ast, retArr);\n        case 'CallExpression':\n          return this.astCallExpression(ast, retArr);\n        case 'ArrayExpression':\n          return this.astArrayExpression(ast, retArr);\n        case 'DebuggerStatement':\n          return this.astDebuggerStatement(ast, retArr);\n        case 'ConditionalExpression':\n          return this.astConditionalExpression(ast, retArr);\n      }\n\n      throw this.astErrorOutput('Unknown ast type : ' + ast.type, ast);\n    }\n  }\n  astErrorOutput(error, ast) {\n    if (typeof this.source !== 'string') {\n      return new Error(error);\n    }\n\n    const debugString = utils.getAstString(this.source, ast);\n    const leadingSource = this.source.substr(ast.start);\n    const splitLines = leadingSource.split(/\\n/);\n    const lineBefore = splitLines.length > 0 ? splitLines[splitLines.length - 1] : 0;\n    return new Error(`${error} on line ${ splitLines.length }, position ${ lineBefore.length }:\\n ${ debugString }`);\n  }\n\n  astDebuggerStatement(arrNode, retArr) {\n    return retArr;\n  }\n\n  astConditionalExpression(ast, retArr) {\n    if (ast.type !== 'ConditionalExpression') {\n      throw this.astErrorOutput('Not a conditional expression', ast);\n    }\n    retArr.push('(');\n    this.astGeneric(ast.test, retArr);\n    retArr.push('?');\n    this.astGeneric(ast.consequent, retArr);\n    retArr.push(':');\n    this.astGeneric(ast.alternate, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astFunction(ast, retArr) {\n    throw new Error(`\"astFunction\" not defined on ${ this.constructor.name }`);\n  }\n\n  astFunctionDeclaration(ast, retArr) {\n    if (this.isChildFunction(ast)) {\n      return retArr;\n    }\n    return this.astFunction(ast, retArr);\n  }\n  astFunctionExpression(ast, retArr) {\n    if (this.isChildFunction(ast)) {\n      return retArr;\n    }\n    return this.astFunction(ast, retArr);\n  }\n  isChildFunction(ast) {\n    for (let i = 0; i < this.functions.length; i++) {\n      if (this.functions[i] === ast) {\n        return true;\n      }\n    }\n    return false;\n  }\n  astReturnStatement(ast, retArr) {\n    return retArr;\n  }\n  astLiteral(ast, retArr) {\n    this.literalTypes[this.astKey(ast)] = 'Number';\n    return retArr;\n  }\n  astBinaryExpression(ast, retArr) {\n    return retArr;\n  }\n  astIdentifierExpression(ast, retArr) {\n    return retArr;\n  }\n  astAssignmentExpression(ast, retArr) {\n    return retArr;\n  }\n  astExpressionStatement(esNode, retArr) {\n    this.astGeneric(esNode.expression, retArr);\n    retArr.push(';');\n    return retArr;\n  }\n  astEmptyStatement(eNode, retArr) {\n    return retArr;\n  }\n  astBlockStatement(ast, retArr) {\n    return retArr;\n  }\n  astIfStatement(ast, retArr) {\n    return retArr;\n  }\n  astSwitchStatement(ast, retArr) {\n    return retArr;\n  }\n  astBreakStatement(brNode, retArr) {\n    retArr.push('break;');\n    return retArr;\n  }\n  astContinueStatement(crNode, retArr) {\n    retArr.push('continue;\\n');\n    return retArr;\n  }\n  astForStatement(ast, retArr) {\n    return retArr;\n  }\n  astWhileStatement(ast, retArr) {\n    return retArr;\n  }\n  astDoWhileStatement(ast, retArr) {\n    return retArr;\n  }\n  astVariableDeclarator(iVarDecNode, retArr) {\n    this.astGeneric(iVarDecNode.id, retArr);\n    if (iVarDecNode.init !== null) {\n      retArr.push('=');\n      this.astGeneric(iVarDecNode.init, retArr);\n    }\n    return retArr;\n  }\n  astThisExpression(ast, retArr) {\n    return retArr;\n  }\n  isIstanbulAST(ast) {\n    const variableSignature = this.getVariableSignature(ast);\n    return variableSignature === 'value.value[]' || variableSignature === 'value.value[][]';\n  }\n  astSequenceExpression(sNode, retArr) {\n    const { expressions } = sNode;\n    const sequenceResult = [];\n    for (let i = 0; i < expressions.length; i++) {\n      const expression = expressions[i];\n      if (this.removeIstanbulCoverage) {\n        if (expression.type === 'UpdateExpression' && this.isIstanbulAST(expression.argument)) {\n          continue;\n        }\n      }\n      const expressionResult = [];\n      this.astGeneric(expression, expressionResult);\n      sequenceResult.push(expressionResult.join(''));\n    }\n    if (sequenceResult.length > 1) {\n      retArr.push('(', sequenceResult.join(','), ')');\n    } else {\n      retArr.push(sequenceResult[0]);\n    }\n    return retArr;\n  }\n  astUnaryExpression(uNode, retArr) {\n    const unaryResult = this.checkAndUpconvertBitwiseUnary(uNode, retArr);\n    if (unaryResult) {\n      return retArr;\n    }\n\n    if (uNode.prefix) {\n      retArr.push(uNode.operator);\n      this.astGeneric(uNode.argument, retArr);\n    } else {\n      this.astGeneric(uNode.argument, retArr);\n      retArr.push(uNode.operator);\n    }\n\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseUnary(uNode, retArr) {}\n\n  astUpdateExpression(uNode, retArr) {\n    if (this.removeIstanbulCoverage) {\n      const signature = this.getVariableSignature(uNode.argument);\n      if (this.isIstanbulAST(uNode.argument)) {\n        return retArr;\n      }\n    }\n    if (uNode.prefix) {\n      retArr.push(uNode.operator);\n      this.astGeneric(uNode.argument, retArr);\n    } else {\n      this.astGeneric(uNode.argument, retArr);\n      retArr.push(uNode.operator);\n    }\n\n    return retArr;\n  }\n  astLogicalExpression(logNode, retArr) {\n    retArr.push('(');\n    this.astGeneric(logNode.left, retArr);\n    retArr.push(logNode.operator);\n    this.astGeneric(logNode.right, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n  astMemberExpression(ast, retArr) {\n    return retArr;\n  }\n  astCallExpression(ast, retArr) {\n    return retArr;\n  }\n  astArrayExpression(ast, retArr) {\n    return retArr;\n  }\n\n  getMemberExpressionDetails(ast) {\n    if (ast.type !== 'MemberExpression') {\n      throw this.astErrorOutput(`Expression ${ ast.type } not a MemberExpression`, ast);\n    }\n    let name = null;\n    let type = null;\n    const variableSignature = this.getVariableSignature(ast);\n    switch (variableSignature) {\n      case 'value':\n        return null;\n      case 'value.thread.value':\n      case 'this.thread.value':\n      case 'this.output.value':\n        return {\n          signature: variableSignature,\n            type: 'Integer',\n            name: ast.property.name\n        };\n      case 'value[]':\n        if (typeof ast.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object),\n            xProperty: ast.property\n        };\n      case 'value[][]':\n        if (typeof ast.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object),\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value[][][]':\n        if (typeof ast.object.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object.object),\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value[][][][]':\n        if (typeof ast.object.object.object.object.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        name = ast.object.object.object.object.name;\n        return {\n          name,\n          origin: 'user',\n            signature: variableSignature,\n            type: this.getVariableType(ast.object.object.object.object),\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n        };\n      case 'value.value':\n        if (typeof ast.property.name !== 'string') {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        if (this.isAstMathVariable(ast)) {\n          name = ast.property.name;\n          return {\n            name,\n            origin: 'Math',\n            type: 'Number',\n            signature: variableSignature,\n          };\n        }\n        switch (ast.property.name) {\n          case 'r':\n          case 'g':\n          case 'b':\n          case 'a':\n            name = ast.object.name;\n            return {\n              name,\n              property: ast.property.name,\n                origin: 'user',\n                signature: variableSignature,\n                type: 'Number'\n            };\n          default:\n            throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        case 'this.constants.value':\n          if (typeof ast.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n              signature: variableSignature,\n          };\n        case 'this.constants.value[]':\n          if (typeof ast.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n              signature: variableSignature,\n              xProperty: ast.property,\n          };\n        case 'this.constants.value[][]': {\n          if (typeof ast.object.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n            signature: variableSignature,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n          };\n        }\n        case 'this.constants.value[][][]': {\n          if (typeof ast.object.object.object.property.name !== 'string') {\n            throw this.astErrorOutput('Unexpected expression', ast);\n          }\n          name = ast.object.object.object.property.name;\n          type = this.getConstantType(name);\n          if (!type) {\n            throw this.astErrorOutput('Constant has no type', ast);\n          }\n          return {\n            name,\n            type,\n            origin: 'constants',\n            signature: variableSignature,\n            zProperty: ast.object.object.property,\n            yProperty: ast.object.property,\n            xProperty: ast.property,\n          };\n        }\n        case 'fn()[]':\n        case '[][]':\n          return {\n            signature: variableSignature,\n              property: ast.property,\n          };\n        case 'value.value[]': \n          if (this.removeIstanbulCoverage) {\n            return { signature: variableSignature };\n          }\n          if (this.onIstanbulCoverageVariable) {\n            this.onIstanbulCoverageVariable(ast.object.object.name);\n            return {\n              signature: variableSignature\n            };\n          }\n          case 'value.value[][]': \n            if (this.removeIstanbulCoverage) {\n              return { signature: variableSignature };\n            }\n            if (this.onIstanbulCoverageVariable) {\n              this.onIstanbulCoverageVariable(ast.object.object.object.name);\n              return {\n                signature: variableSignature\n              };\n            }\n            default:\n              throw this.astErrorOutput('Unexpected expression', ast);\n    }\n  }\n\n  findIdentifierOrigin(astToFind) {\n    const stack = [this.ast];\n\n    while (stack.length > 0) {\n      const atNode = stack[0];\n      if (atNode.type === 'VariableDeclarator' && atNode.id && atNode.id.name && atNode.id.name === astToFind.name) {\n        return atNode;\n      }\n      stack.shift();\n      if (atNode.argument) {\n        stack.push(atNode.argument);\n      } else if (atNode.body) {\n        stack.push(atNode.body);\n      } else if (atNode.declarations) {\n        stack.push(atNode.declarations);\n      } else if (Array.isArray(atNode)) {\n        for (let i = 0; i < atNode.length; i++) {\n          stack.push(atNode[i]);\n        }\n      }\n    }\n    return null;\n  }\n\n  findLastReturn(ast) {\n    const stack = [ast || this.ast];\n\n    while (stack.length > 0) {\n      const atNode = stack.pop();\n      if (atNode.type === 'ReturnStatement') {\n        return atNode;\n      }\n      if (atNode.type === 'FunctionDeclaration') {\n        continue;\n      }\n      if (atNode.argument) {\n        stack.push(atNode.argument);\n      } else if (atNode.body) {\n        stack.push(atNode.body);\n      } else if (atNode.declarations) {\n        stack.push(atNode.declarations);\n      } else if (Array.isArray(atNode)) {\n        for (let i = 0; i < atNode.length; i++) {\n          stack.push(atNode[i]);\n        }\n      } else if (atNode.consequent) {\n        stack.push(atNode.consequent);\n      } else if (atNode.cases) {\n        stack.push(atNode.cases);\n      }\n    }\n    return null;\n  }\n\n  getInternalVariableName(name) {\n    if (!this._internalVariableNames.hasOwnProperty(name)) {\n      this._internalVariableNames[name] = 0;\n    }\n    this._internalVariableNames[name]++;\n    if (this._internalVariableNames[name] === 1) {\n      return name;\n    }\n    return name + this._internalVariableNames[name];\n  }\n\n  astKey(ast, separator = ',') {\n    if (!ast.start || !ast.end) throw new Error('AST start and end needed');\n    return `${ast.start}${separator}${ast.end}`;\n  }\n}\n\nconst typeLookupMap = {\n  'Number': 'Number',\n  'Float': 'Float',\n  'Integer': 'Integer',\n  'Array': 'Number',\n  'Array(2)': 'Number',\n  'Array(3)': 'Number',\n  'Array(4)': 'Number',\n  'Array2D': 'Number',\n  'Array3D': 'Number',\n  'Input': 'Number',\n  'HTMLCanvas': 'Array(4)',\n  'HTMLImage': 'Array(4)',\n  'HTMLVideo': 'Array(4)',\n  'HTMLImageArray': 'Array(4)',\n  'NumberTexture': 'Number',\n  'MemoryOptimizedNumberTexture': 'Number',\n  'Array1D(2)': 'Array(2)',\n  'Array1D(3)': 'Array(3)',\n  'Array1D(4)': 'Array(4)',\n  'Array2D(2)': 'Array(2)',\n  'Array2D(3)': 'Array(3)',\n  'Array2D(4)': 'Array(4)',\n  'Array3D(2)': 'Array(2)',\n  'Array3D(3)': 'Array(3)',\n  'Array3D(4)': 'Array(4)',\n  'ArrayTexture(1)': 'Number',\n  'ArrayTexture(2)': 'Array(2)',\n  'ArrayTexture(3)': 'Array(3)',\n  'ArrayTexture(4)': 'Array(4)',\n};\n\nmodule.exports = {\n  FunctionNode\n};\n},{\"../utils\":114,\"./function-tracer\":11,\"acorn\":1}],11:[function(require,module,exports){\nconst { utils } = require('../utils');\n\nfunction last(array) {\n  return array.length > 0 ? array[array.length - 1] : null;\n}\n\nconst states = {\n  trackIdentifiers: 'trackIdentifiers',\n  memberExpression: 'memberExpression',\n  inForLoopInit: 'inForLoopInit'\n};\n\nclass FunctionTracer {\n  constructor(ast) {\n    this.runningContexts = [];\n    this.functionContexts = [];\n    this.contexts = [];\n    this.functionCalls = [];\n    this.declarations = [];\n    this.identifiers = [];\n    this.functions = [];\n    this.returnStatements = [];\n    this.trackedIdentifiers = null;\n    this.states = [];\n    this.newFunctionContext();\n    this.scan(ast);\n  }\n\n  isState(state) {\n    return this.states[this.states.length - 1] === state;\n  }\n\n  hasState(state) {\n    return this.states.indexOf(state) > -1;\n  }\n\n  pushState(state) {\n    this.states.push(state);\n  }\n\n  popState(state) {\n    if (this.isState(state)) {\n      this.states.pop();\n    } else {\n      throw new Error(`Cannot pop the non-active state \"${state}\"`);\n    }\n  }\n\n  get currentFunctionContext() {\n    return last(this.functionContexts);\n  }\n\n  get currentContext() {\n    return last(this.runningContexts);\n  }\n\n  newFunctionContext() {\n    const newContext = { '@contextType': 'function' };\n    this.contexts.push(newContext);\n    this.functionContexts.push(newContext);\n  }\n\n  newContext(run) {\n    const newContext = Object.assign({ '@contextType': 'const/let' }, this.currentContext);\n    this.contexts.push(newContext);\n    this.runningContexts.push(newContext);\n    run();\n    const { currentFunctionContext } = this;\n    for (const p in currentFunctionContext) {\n      if (!currentFunctionContext.hasOwnProperty(p) || newContext.hasOwnProperty(p)) continue;\n      newContext[p] = currentFunctionContext[p];\n    }\n    this.runningContexts.pop();\n    return newContext;\n  }\n\n  useFunctionContext(run) {\n    const functionContext = last(this.functionContexts);\n    this.runningContexts.push(functionContext);\n    run();\n    this.runningContexts.pop();\n  }\n\n  getIdentifiers(run) {\n    const trackedIdentifiers = this.trackedIdentifiers = [];\n    this.pushState(states.trackIdentifiers);\n    run();\n    this.trackedIdentifiers = null;\n    this.popState(states.trackIdentifiers);\n    return trackedIdentifiers;\n  }\n\n  getDeclaration(name) {\n    const { currentContext, currentFunctionContext } = this;\n    return currentContext[name] || currentFunctionContext[name] || null;\n  }\n\n  scan(ast) {\n    if (!ast) return;\n    if (Array.isArray(ast)) {\n      for (let i = 0; i < ast.length; i++) {\n        this.scan(ast[i]);\n      }\n      return;\n    }\n    switch (ast.type) {\n      case 'Program':\n        this.useFunctionContext(() => {\n          this.scan(ast.body);\n        });\n        break;\n      case 'BlockStatement':\n        this.newContext(() => {\n          this.scan(ast.body);\n        });\n        break;\n      case 'AssignmentExpression':\n      case 'LogicalExpression':\n        this.scan(ast.left);\n        this.scan(ast.right);\n        break;\n      case 'BinaryExpression':\n        this.scan(ast.left);\n        this.scan(ast.right);\n        break;\n      case 'UpdateExpression':\n        if (ast.operator === '++') {\n          const declaration = this.getDeclaration(ast.argument.name);\n          if (declaration) {\n            declaration.suggestedType = 'Integer';\n          }\n        }\n        this.scan(ast.argument);\n        break;\n      case 'UnaryExpression':\n        this.scan(ast.argument);\n        break;\n      case 'VariableDeclaration':\n        if (ast.kind === 'var') {\n          this.useFunctionContext(() => {\n            ast.declarations = utils.normalizeDeclarations(ast);\n            this.scan(ast.declarations);\n          });\n        } else {\n          ast.declarations = utils.normalizeDeclarations(ast);\n          this.scan(ast.declarations);\n        }\n        break;\n      case 'VariableDeclarator': {\n        const { currentContext } = this;\n        const inForLoopInit = this.hasState(states.inForLoopInit);\n        const declaration = {\n          ast: ast,\n          context: currentContext,\n          name: ast.id.name,\n          origin: 'declaration',\n          inForLoopInit,\n          inForLoopTest: null,\n          assignable: currentContext === this.currentFunctionContext || (!inForLoopInit && !currentContext.hasOwnProperty(ast.id.name)),\n          suggestedType: null,\n          valueType: null,\n          dependencies: null,\n          isSafe: null,\n        };\n        if (!currentContext[ast.id.name]) {\n          currentContext[ast.id.name] = declaration;\n        }\n        this.declarations.push(declaration);\n        this.scan(ast.id);\n        this.scan(ast.init);\n        break;\n      }\n      case 'FunctionExpression':\n      case 'FunctionDeclaration':\n        if (this.runningContexts.length === 0) {\n          this.scan(ast.body);\n        } else {\n          this.functions.push(ast);\n        }\n        break;\n      case 'IfStatement':\n        this.scan(ast.test);\n        this.scan(ast.consequent);\n        if (ast.alternate) this.scan(ast.alternate);\n        break;\n      case 'ForStatement': {\n        let testIdentifiers;\n        const context = this.newContext(() => {\n          this.pushState(states.inForLoopInit);\n          this.scan(ast.init);\n          this.popState(states.inForLoopInit);\n\n          testIdentifiers = this.getIdentifiers(() => {\n            this.scan(ast.test);\n          });\n\n          this.scan(ast.update);\n          this.newContext(() => {\n            this.scan(ast.body);\n          });\n        });\n\n        if (testIdentifiers) {\n          for (const p in context) {\n            if (p === '@contextType') continue;\n            if (testIdentifiers.indexOf(p) > -1) {\n              context[p].inForLoopTest = true;\n            }\n          }\n        }\n        break;\n      }\n      case 'DoWhileStatement':\n      case 'WhileStatement':\n        this.newContext(() => {\n          this.scan(ast.body);\n          this.scan(ast.test);\n        });\n        break;\n      case 'Identifier': {\n        if (this.isState(states.trackIdentifiers)) {\n          this.trackedIdentifiers.push(ast.name);\n        }\n        this.identifiers.push({\n          context: this.currentContext,\n          declaration: this.getDeclaration(ast.name),\n          ast,\n        });\n        break;\n      }\n      case 'ReturnStatement':\n        this.returnStatements.push(ast);\n        this.scan(ast.argument);\n        break;\n      case 'MemberExpression':\n        this.pushState(states.memberExpression);\n        this.scan(ast.object);\n        this.scan(ast.property);\n        this.popState(states.memberExpression);\n        break;\n      case 'ExpressionStatement':\n        this.scan(ast.expression);\n        break;\n      case 'SequenceExpression':\n        this.scan(ast.expressions);\n        break;\n      case 'CallExpression':\n        this.functionCalls.push({\n          context: this.currentContext,\n          ast,\n        });\n        this.scan(ast.arguments);\n        break;\n      case 'ArrayExpression':\n        this.scan(ast.elements);\n        break;\n      case 'ConditionalExpression':\n        this.scan(ast.test);\n        this.scan(ast.alternate);\n        this.scan(ast.consequent);\n        break;\n      case 'SwitchStatement':\n        this.scan(ast.discriminant);\n        this.scan(ast.cases);\n        break;\n      case 'SwitchCase':\n        this.scan(ast.test);\n        this.scan(ast.consequent);\n        break;\n\n      case 'ThisExpression':\n      case 'Literal':\n      case 'DebuggerStatement':\n      case 'EmptyStatement':\n      case 'BreakStatement':\n      case 'ContinueStatement':\n        break;\n      default:\n        throw new Error(`unhandled type \"${ast.type}\"`);\n    }\n  }\n}\n\nmodule.exports = {\n  FunctionTracer,\n};\n},{\"../utils\":114}],12:[function(require,module,exports){\nconst { glWiretap } = require('gl-wiretap');\nconst { utils } = require('../../utils');\n\nfunction toStringWithoutUtils(fn) {\n  return fn.toString()\n    .replace('=>', '')\n    .replace(/^function /, '')\n    .replace(/utils[.]/g, '/*utils.*/');\n}\n\nfunction glKernelString(Kernel, args, originKernel, setupContextString, destroyContextString) {\n  if (!originKernel.built) {\n    originKernel.build.apply(originKernel, args);\n  }\n  args = args ? Array.from(args).map(arg => {\n    switch (typeof arg) {\n      case 'boolean':\n        return new Boolean(arg);\n      case 'number':\n        return new Number(arg);\n      default:\n        return arg;\n    }\n  }) : null;\n  const uploadedValues = [];\n  const postResult = [];\n  const context = glWiretap(originKernel.context, {\n    useTrackablePrimitives: true,\n    onReadPixels: (targetName) => {\n      if (kernel.subKernels) {\n        if (!subKernelsResultVariableSetup) {\n          postResult.push(`    const result = { result: ${getRenderString(targetName, kernel)} };`);\n          subKernelsResultVariableSetup = true;\n        } else {\n          const property = kernel.subKernels[subKernelsResultIndex++].property;\n          postResult.push(`    result${isNaN(property) ? '.' + property : `[${property}]`} = ${getRenderString(targetName, kernel)};`);\n        }\n        if (subKernelsResultIndex === kernel.subKernels.length) {\n          postResult.push('    return result;');\n        }\n        return;\n      }\n      if (targetName) {\n        postResult.push(`    return ${getRenderString(targetName, kernel)};`);\n      } else {\n        postResult.push(`    return null;`);\n      }\n    },\n    onUnrecognizedArgumentLookup: (argument) => {\n      const argumentName = findKernelValue(argument, kernel.kernelArguments, [], context, uploadedValues);\n      if (argumentName) {\n        return argumentName;\n      }\n      const constantName = findKernelValue(argument, kernel.kernelConstants, constants ? Object.keys(constants).map(key => constants[key]) : [], context, uploadedValues);\n      if (constantName) {\n        return constantName;\n      }\n      return null;\n    }\n  });\n  let subKernelsResultVariableSetup = false;\n  let subKernelsResultIndex = 0;\n  const {\n    source,\n    canvas,\n    output,\n    pipeline,\n    graphical,\n    loopMaxIterations,\n    constants,\n    optimizeFloatMemory,\n    precision,\n    fixIntegerDivisionAccuracy,\n    functions,\n    nativeFunctions,\n    subKernels,\n    immutable,\n    argumentTypes,\n    constantTypes,\n    kernelArguments,\n    kernelConstants,\n    tactic,\n  } = originKernel;\n  const kernel = new Kernel(source, {\n    canvas,\n    context,\n    checkContext: false,\n    output,\n    pipeline,\n    graphical,\n    loopMaxIterations,\n    constants,\n    optimizeFloatMemory,\n    precision,\n    fixIntegerDivisionAccuracy,\n    functions,\n    nativeFunctions,\n    subKernels,\n    immutable,\n    argumentTypes,\n    constantTypes,\n    tactic,\n  });\n  let result = [];\n  context.setIndent(2);\n  kernel.build.apply(kernel, args);\n  result.push(context.toString());\n  context.reset();\n\n  kernel.kernelArguments.forEach((kernelArgument, i) => {\n    switch (kernelArgument.type) {\n      case 'Integer':\n      case 'Boolean':\n      case 'Number':\n      case 'Float':\n      case 'Array':\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n      case 'HTMLCanvas':\n      case 'HTMLImage':\n      case 'HTMLVideo':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, kernelArgument.uploadValue);\n        break;\n      case 'HTMLImageArray':\n        for (let imageIndex = 0; imageIndex < args[i].length; imageIndex++) {\n          const arg = args[i];\n          context.insertVariable(`uploadValue_${kernelArgument.name}[${imageIndex}]`, arg[imageIndex]);\n        }\n        break;\n      case 'Input':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, kernelArgument.uploadValue);\n        break;\n      case 'MemoryOptimizedNumberTexture':\n      case 'NumberTexture':\n      case 'Array1D(2)':\n      case 'Array1D(3)':\n      case 'Array1D(4)':\n      case 'Array2D(2)':\n      case 'Array2D(3)':\n      case 'Array2D(4)':\n      case 'Array3D(2)':\n      case 'Array3D(3)':\n      case 'Array3D(4)':\n      case 'ArrayTexture(1)':\n      case 'ArrayTexture(2)':\n      case 'ArrayTexture(3)':\n      case 'ArrayTexture(4)':\n        context.insertVariable(`uploadValue_${kernelArgument.name}`, args[i].texture);\n        break;\n      default:\n        throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${kernelArgument.type}`);\n    }\n  });\n  result.push('/** start of injected functions **/');\n  result.push(`function ${toStringWithoutUtils(utils.flattenTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten2dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten3dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.flatten4dArrayTo)}`);\n  result.push(`function ${toStringWithoutUtils(utils.isArray)}`);\n  if (kernel.renderOutput !== kernel.renderTexture && kernel.formatValues) {\n    result.push(\n      `  const renderOutput = function ${toStringWithoutUtils(kernel.formatValues)};`\n    );\n  }\n  result.push('/** end of injected functions **/');\n  result.push(`  const innerKernel = function (${kernel.kernelArguments.map(kernelArgument => kernelArgument.varName).join(', ')}) {`);\n  context.setIndent(4);\n  kernel.run.apply(kernel, args);\n  if (kernel.renderKernels) {\n    kernel.renderKernels();\n  } else if (kernel.renderOutput) {\n    kernel.renderOutput();\n  }\n  result.push('    /** start setup uploads for kernel values **/');\n  kernel.kernelArguments.forEach(kernelArgument => {\n    result.push('    ' + kernelArgument.getStringValueHandler().split('\\n').join('\\n    '));\n  });\n  result.push('    /** end setup uploads for kernel values **/');\n  result.push(context.toString());\n  if (kernel.renderOutput === kernel.renderTexture) {\n    context.reset();\n    if (kernel.renderKernels) {\n      const results = kernel.renderKernels();\n      const textureName = context.getContextVariableName(kernel.texture.texture);\n      result.push(`    return {\n      result: {\n        texture: ${ textureName },\n        type: '${ results.result.type }',\n        toArray: ${ getToArrayString(results.result, textureName) }\n      },`);\n      const { subKernels, mappedTextures } = kernel;\n      for (let i = 0; i < subKernels.length; i++) {\n        const texture = mappedTextures[i];\n        const subKernel = subKernels[i];\n        const subKernelResult = results[subKernel.property];\n        const subKernelTextureName = context.getContextVariableName(texture.texture);\n        result.push(`\n      ${subKernel.property}: {\n        texture: ${ subKernelTextureName },\n        type: '${ subKernelResult.type }',\n        toArray: ${ getToArrayString(subKernelResult, subKernelTextureName) }\n      },`);\n      }\n      result.push(`    };`);\n    } else {\n      const rendered = kernel.renderOutput();\n      const textureName = context.getContextVariableName(kernel.texture.texture);\n      result.push(`    return {\n        texture: ${ textureName },\n        type: '${ rendered.type }',\n        toArray: ${ getToArrayString(rendered, textureName) }\n      };`);\n    }\n  }\n  result.push(`    ${destroyContextString ? '\\n' + destroyContextString + '    ': ''}`);\n  result.push(postResult.join('\\n'));\n  result.push('  };');\n  if (kernel.graphical) {\n    result.push(getGetPixelsString(kernel));\n    result.push(`  innerKernel.getPixels = getPixels;`);\n  }\n  result.push('  return innerKernel;');\n\n  let constantsUpload = [];\n  kernelConstants.forEach((kernelConstant) => {\n    constantsUpload.push(`${  kernelConstant.getStringValueHandler()}`);\n  });\n  return `function kernel(settings) {\n  const { context, constants } = settings;\n  ${constantsUpload.join('')}\n  ${setupContextString ? setupContextString : ''}\n${result.join('\\n')}\n}`;\n}\n\nfunction getRenderString(targetName, kernel) {\n  const readBackValue = kernel.precision === 'single' ? targetName : `new Float32Array(${targetName}.buffer)`;\n  if (kernel.output[2]) {\n    return `renderOutput(${readBackValue}, ${kernel.output[0]}, ${kernel.output[1]}, ${kernel.output[2]})`;\n  }\n  if (kernel.output[1]) {\n    return `renderOutput(${readBackValue}, ${kernel.output[0]}, ${kernel.output[1]})`;\n  }\n\n  return `renderOutput(${readBackValue}, ${kernel.output[0]})`;\n}\n\nfunction getGetPixelsString(kernel) {\n  const getPixels = kernel.getPixels.toString();\n  const useFunctionKeyword = !/^function/.test(getPixels);\n  return utils.flattenFunctionToString(`${useFunctionKeyword ? 'function ' : ''}${ getPixels }`, {\n    findDependency: (object, name) => {\n      if (object === 'utils') {\n        return `const ${name} = ${utils[name].toString()};`;\n      }\n      return null;\n    },\n    thisLookup: (property) => {\n      if (property === 'context') {\n        return null;\n      }\n      if (kernel.hasOwnProperty(property)) {\n        return JSON.stringify(kernel[property]);\n      }\n      throw new Error(`unhandled thisLookup ${ property }`);\n    }\n  });\n}\n\nfunction getToArrayString(kernelResult, textureName) {\n  const toArray = kernelResult.toArray.toString();\n  const useFunctionKeyword = !/^function/.test(toArray);\n  const flattenedFunctions = utils.flattenFunctionToString(`${useFunctionKeyword ? 'function ' : ''}${ toArray }`, {\n    findDependency: (object, name) => {\n      if (object === 'utils') {\n        return `const ${name} = ${utils[name].toString()};`;\n      } else if (object === 'this') {\n        return `${useFunctionKeyword ? 'function ' : ''}${kernelResult[name].toString()}`;\n      } else {\n        throw new Error('unhandled fromObject');\n      }\n    },\n    thisLookup: (property, isDeclaration) => {\n      if (property === 'texture') {\n        return textureName;\n      }\n      if (property === 'context') {\n        if (isDeclaration) return null;\n        return 'gl';\n      }\n      if (property === '_framebuffer') {\n        return '_framebuffer';\n      }\n      if (kernelResult.hasOwnProperty(property)) {\n        return JSON.stringify(kernelResult[property]);\n      }\n      throw new Error(`unhandled thisLookup ${ property }`);\n    }\n  });\n  return `() => {\n  let _framebuffer;\n  ${flattenedFunctions}\n  return toArray();\n  }`;\n}\n\nfunction findKernelValue(argument, kernelValues, values, context, uploadedValues) {\n  if (argument === null) return null;\n  if (kernelValues === null) return null;\n  switch (typeof argument) {\n    case 'boolean':\n    case 'number':\n      return null;\n  }\n  if (\n    typeof HTMLImageElement !== 'undefined' &&\n    argument instanceof HTMLImageElement\n  ) {\n    for (let i = 0; i < kernelValues.length; i++) {\n      const kernelValue = kernelValues[i];\n      if (kernelValue.type !== 'HTMLImageArray' && kernelValue) continue;\n      if (kernelValue.uploadValue !== argument) continue;\n      const variableIndex = values[i].indexOf(argument);\n      if (variableIndex === -1) continue;\n      const variableName = `uploadValue_${kernelValue.name}[${variableIndex}]`;\n      context.insertVariable(variableName, argument);\n      return variableName;\n    }\n  }\n\n  for (let i = 0; i < kernelValues.length; i++) {\n    const kernelValue = kernelValues[i];\n    if (argument !== kernelValue.uploadValue) continue;\n    const variable = `uploadValue_${kernelValue.name}`;\n    context.insertVariable(variable, kernelValue);\n    return variable;\n  }\n  return null;\n}\n\nmodule.exports = {\n  glKernelString\n};\n},{\"../../utils\":114,\"gl-wiretap\":3}],13:[function(require,module,exports){\nconst { Kernel } = require('../kernel');\nconst { utils } = require('../../utils');\nconst { GLTextureArray2Float } = require('./texture/array-2-float');\nconst { GLTextureArray2Float2D } = require('./texture/array-2-float-2d');\nconst { GLTextureArray2Float3D } = require('./texture/array-2-float-3d');\nconst { GLTextureArray3Float } = require('./texture/array-3-float');\nconst { GLTextureArray3Float2D } = require('./texture/array-3-float-2d');\nconst { GLTextureArray3Float3D } = require('./texture/array-3-float-3d');\nconst { GLTextureArray4Float } = require('./texture/array-4-float');\nconst { GLTextureArray4Float2D } = require('./texture/array-4-float-2d');\nconst { GLTextureArray4Float3D } = require('./texture/array-4-float-3d');\nconst { GLTextureFloat } = require('./texture/float');\nconst { GLTextureFloat2D } = require('./texture/float-2d');\nconst { GLTextureFloat3D } = require('./texture/float-3d');\nconst { GLTextureMemoryOptimized } = require('./texture/memory-optimized');\nconst { GLTextureMemoryOptimized2D } = require('./texture/memory-optimized-2d');\nconst { GLTextureMemoryOptimized3D } = require('./texture/memory-optimized-3d');\nconst { GLTextureUnsigned } = require('./texture/unsigned');\nconst { GLTextureUnsigned2D } = require('./texture/unsigned-2d');\nconst { GLTextureUnsigned3D } = require('./texture/unsigned-3d');\nconst { GLTextureGraphical } = require('./texture/graphical');\n\nclass GLKernel extends Kernel {\n  static get mode() {\n    return 'gpu';\n  }\n\n  static getIsFloatRead() {\n    const kernelString = `function kernelFunction() {\n      return 1;\n    }`;\n    const kernel = new this(kernelString, {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [1],\n      precision: 'single',\n      returnType: 'Number',\n      tactic: 'speed',\n    });\n    kernel.build();\n    kernel.run();\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return result[0] === 1;\n  }\n\n  static getIsIntegerDivisionAccurate() {\n    function kernelFunction(v1, v2) {\n      return v1[this.thread.x] / v2[this.thread.x];\n    }\n    const kernel = new this(kernelFunction.toString(), {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [2],\n      returnType: 'Number',\n      precision: 'unsigned',\n      tactic: 'speed',\n    });\n    const args = [\n      [6, 6030401],\n      [3, 3991]\n    ];\n    kernel.build.apply(kernel, args);\n    kernel.run.apply(kernel, args);\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return result[0] === 2 && result[1] === 1511;\n  }\n\n  static getIsSpeedTacticSupported() {\n    function kernelFunction(value) {\n      return value[this.thread.x];\n    }\n    const kernel = new this(kernelFunction.toString(), {\n      context: this.testContext,\n      canvas: this.testCanvas,\n      validate: false,\n      output: [4],\n      returnType: 'Number',\n      precision: 'unsigned',\n      tactic: 'speed',\n    });\n    const args = [\n      [0, 1, 2, 3]\n    ];\n    kernel.build.apply(kernel, args);\n    kernel.run.apply(kernel, args);\n    const result = kernel.renderOutput();\n    kernel.destroy(true);\n    return Math.round(result[0]) === 0 && Math.round(result[1]) === 1 && Math.round(result[2]) === 2 && Math.round(result[3]) === 3;\n  }\n\n  static get testCanvas() {\n    throw new Error(`\"testCanvas\" not defined on ${ this.name }`);\n  }\n\n  static get testContext() {\n    throw new Error(`\"testContext\" not defined on ${ this.name }`);\n  }\n\n  static getFeatures() {\n    const gl = this.testContext;\n    const isDrawBuffers = this.getIsDrawBuffers();\n    return Object.freeze({\n      isFloatRead: this.getIsFloatRead(),\n      isIntegerDivisionAccurate: this.getIsIntegerDivisionAccurate(),\n      isSpeedTacticSupported: this.getIsSpeedTacticSupported(),\n      isTextureFloat: this.getIsTextureFloat(),\n      isDrawBuffers,\n      kernelMap: isDrawBuffers,\n      channelCount: this.getChannelCount(),\n      maxTextureSize: this.getMaxTextureSize(),\n      lowIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT),\n      lowFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT),\n      mediumIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT),\n      mediumFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT),\n      highIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT),\n      highFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT),\n    });\n  }\n\n  static setupFeatureChecks() {\n    throw new Error(`\"setupFeatureChecks\" not defined on ${ this.name }`);\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    return kernel.getVariablePrecisionString() + (argumentTypes.length > 0 ? ':' + argumentTypes.join(',') : '');\n  }\n\n  setFixIntegerDivisionAccuracy(fix) {\n    this.fixIntegerDivisionAccuracy = fix;\n    return this;\n  }\n\n  setPrecision(flag) {\n    this.precision = flag;\n    return this;\n  }\n\n  setFloatTextures(flag) {\n    utils.warnDeprecated('method', 'setFloatTextures', 'setOptimizeFloatMemory');\n    this.floatTextures = flag;\n    return this;\n  }\n\n  static nativeFunctionArguments(source) {\n    const argumentTypes = [];\n    const argumentNames = [];\n    const states = [];\n    const isStartingVariableName = /^[a-zA-Z_]/;\n    const isVariableChar = /[a-zA-Z_0-9]/;\n    let i = 0;\n    let argumentName = null;\n    let argumentType = null;\n    while (i < source.length) {\n      const char = source[i];\n      const nextChar = source[i + 1];\n      const state = states.length > 0 ? states[states.length - 1] : null;\n\n      if (state === 'FUNCTION_ARGUMENTS' && char === '/' && nextChar === '*') {\n        states.push('MULTI_LINE_COMMENT');\n        i += 2;\n        continue;\n      } else if (state === 'MULTI_LINE_COMMENT' && char === '*' && nextChar === '/') {\n        states.pop();\n        i += 2;\n        continue;\n      }\n\n      else if (state === 'FUNCTION_ARGUMENTS' && char === '/' && nextChar === '/') {\n        states.push('COMMENT');\n        i += 2;\n        continue;\n      } else if (state === 'COMMENT' && char === '\\n') {\n        states.pop();\n        i++;\n        continue;\n      }\n\n      else if (state === null && char === '(') {\n        states.push('FUNCTION_ARGUMENTS');\n        i++;\n        continue;\n      } else if (state === 'FUNCTION_ARGUMENTS') {\n        if (char === ')') {\n          states.pop();\n          break;\n        }\n        if (char === 'f' && nextChar === 'l' && source[i + 2] === 'o' && source[i + 3] === 'a' && source[i + 4] === 't' && source[i + 5] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'float';\n          argumentName = '';\n          i += 6;\n          continue;\n        } else if (char === 'i' && nextChar === 'n' && source[i + 2] === 't' && source[i + 3] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'int';\n          argumentName = '';\n          i += 4;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '2' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec2';\n          argumentName = '';\n          i += 5;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '3' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec3';\n          argumentName = '';\n          i += 5;\n          continue;\n        } else if (char === 'v' && nextChar === 'e' && source[i + 2] === 'c' && source[i + 3] === '4' && source[i + 4] === ' ') {\n          states.push('DECLARE_VARIABLE');\n          argumentType = 'vec4';\n          argumentName = '';\n          i += 5;\n          continue;\n        }\n      }\n\n      else if (state === 'DECLARE_VARIABLE') {\n        if (argumentName === '') {\n          if (char === ' ') {\n            i++;\n            continue;\n          }\n          if (!isStartingVariableName.test(char)) {\n            throw new Error('variable name is not expected string');\n          }\n        }\n        argumentName += char;\n        if (!isVariableChar.test(nextChar)) {\n          states.pop();\n          argumentNames.push(argumentName);\n          argumentTypes.push(typeMap[argumentType]);\n        }\n      }\n\n      i++;\n    }\n    if (states.length > 0) {\n      throw new Error('GLSL function was not parsable');\n    }\n    return {\n      argumentNames,\n      argumentTypes,\n    };\n  }\n\n  static nativeFunctionReturnType(source) {\n    return typeMap[source.match(/int|float|vec[2-4]/)[0]];\n  }\n\n  static combineKernels(combinedKernel, lastKernel) {\n    combinedKernel.apply(null, arguments);\n    const {\n      texSize,\n      context,\n      threadDim\n    } = lastKernel.texSize;\n    let result;\n    if (lastKernel.precision === 'single') {\n      const w = texSize[0];\n      const h = Math.ceil(texSize[1] / 4);\n      result = new Float32Array(w * h * 4 * 4);\n      context.readPixels(0, 0, w, h * 4, context.RGBA, context.FLOAT, result);\n    } else {\n      const bytes = new Uint8Array(texSize[0] * texSize[1] * 4);\n      context.readPixels(0, 0, texSize[0], texSize[1], context.RGBA, context.UNSIGNED_BYTE, bytes);\n      result = new Float32Array(bytes.buffer);\n    }\n\n    result = result.subarray(0, threadDim[0] * threadDim[1] * threadDim[2]);\n\n    if (lastKernel.output.length === 1) {\n      return result;\n    } else if (lastKernel.output.length === 2) {\n      return utils.splitArray(result, lastKernel.output[0]);\n    } else if (lastKernel.output.length === 3) {\n      const cube = utils.splitArray(result, lastKernel.output[0] * lastKernel.output[1]);\n      return cube.map(function(x) {\n        return utils.splitArray(x, lastKernel.output[0]);\n      });\n    }\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.transferValues = null;\n    this.formatValues = null;\n    this.TextureConstructor = null;\n    this.renderOutput = null;\n    this.renderRawOutput = null;\n    this.texSize = null;\n    this.translatedSource = null;\n    this.compiledFragmentShader = null;\n    this.compiledVertexShader = null;\n    this.switchingKernels = null;\n    this._textureSwitched = null;\n    this._mappedTextureSwitched = null;\n  }\n\n  checkTextureSize() {\n    const { features } = this.constructor;\n    if (this.texSize[0] > features.maxTextureSize || this.texSize[1] > features.maxTextureSize) {\n      throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${features.maxTextureSize},${features.maxTextureSize}]`);\n    }\n  }\n\n  translateSource() {\n    throw new Error(`\"translateSource\" not defined on ${this.constructor.name}`);\n  }\n\n  pickRenderStrategy(args) {\n    if (this.graphical) {\n      this.renderRawOutput = this.readPackedPixelsToUint8Array;\n      this.transferValues = (pixels) => pixels;\n      this.TextureConstructor = GLTextureGraphical;\n      return null;\n    }\n    if (this.precision === 'unsigned') {\n      this.renderRawOutput = this.readPackedPixelsToUint8Array;\n      this.transferValues = this.readPackedPixelsToFloat32Array;\n      if (this.pipeline) {\n        this.renderOutput = this.renderTexture;\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToTextures;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer':\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureUnsigned3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureUnsigned2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureUnsigned;\n              return null;\n            }\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              return this.requestFallback(args);\n        }\n      } else {\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToArrays;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer':\n            this.renderOutput = this.renderValues;\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureUnsigned3D;\n              this.formatValues = utils.erect3DPackedFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureUnsigned2D;\n              this.formatValues = utils.erect2DPackedFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureUnsigned;\n              this.formatValues = utils.erectPackedFloat;\n              return null;\n            }\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              return this.requestFallback(args);\n        }\n      }\n    } else if (this.precision === 'single') {\n      this.renderRawOutput = this.readFloatPixelsToFloat32Array;\n      this.transferValues = this.readFloatPixelsToFloat32Array;\n      if (this.pipeline) {\n        this.renderOutput = this.renderTexture;\n        if (this.subKernels !== null) {\n          this.renderKernels = this.renderKernelsToTextures;\n        }\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.optimizeFloatMemory) {\n              if (this.output[2] > 0) {\n                this.TextureConstructor = GLTextureMemoryOptimized3D;\n                return null;\n              } else if (this.output[1] > 0) {\n                this.TextureConstructor = GLTextureMemoryOptimized2D;\n                return null;\n              } else {\n                this.TextureConstructor = GLTextureMemoryOptimized;\n                return null;\n              }\n            } else {\n              if (this.output[2] > 0) {\n                this.TextureConstructor = GLTextureFloat3D;\n                return null;\n              } else if (this.output[1] > 0) {\n                this.TextureConstructor = GLTextureFloat2D;\n                return null;\n              } else {\n                this.TextureConstructor = GLTextureFloat;\n                return null;\n              }\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              return null;\n            }\n          }\n        }\n      }\n      this.renderOutput = this.renderValues;\n      if (this.subKernels !== null) {\n        this.renderKernels = this.renderKernelsToArrays;\n      }\n      if (this.optimizeFloatMemory) {\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureMemoryOptimized3D;\n              this.formatValues = utils.erectMemoryOptimized3DFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureMemoryOptimized2D;\n              this.formatValues = utils.erectMemoryOptimized2DFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureMemoryOptimized;\n              this.formatValues = utils.erectMemoryOptimizedFloat;\n              return null;\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              this.formatValues = utils.erect3DArray2;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              this.formatValues = utils.erect2DArray2;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              this.formatValues = utils.erectArray2;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              this.formatValues = utils.erect3DArray3;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              this.formatValues = utils.erect2DArray3;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              this.formatValues = utils.erectArray3;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              this.formatValues = utils.erect3DArray4;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              this.formatValues = utils.erect2DArray4;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              this.formatValues = utils.erectArray4;\n              return null;\n            }\n          }\n        }\n      } else {\n        switch (this.returnType) {\n          case 'LiteralInteger':\n          case 'Float':\n          case 'Number':\n          case 'Integer': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureFloat3D;\n              this.formatValues = utils.erect3DFloat;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureFloat2D;\n              this.formatValues = utils.erect2DFloat;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureFloat;\n              this.formatValues = utils.erectFloat;\n              return null;\n            }\n          }\n          case 'Array(2)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray2Float3D;\n              this.formatValues = utils.erect3DArray2;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray2Float2D;\n              this.formatValues = utils.erect2DArray2;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray2Float;\n              this.formatValues = utils.erectArray2;\n              return null;\n            }\n          }\n          case 'Array(3)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray3Float3D;\n              this.formatValues = utils.erect3DArray3;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray3Float2D;\n              this.formatValues = utils.erect2DArray3;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray3Float;\n              this.formatValues = utils.erectArray3;\n              return null;\n            }\n          }\n          case 'Array(4)': {\n            if (this.output[2] > 0) {\n              this.TextureConstructor = GLTextureArray4Float3D;\n              this.formatValues = utils.erect3DArray4;\n              return null;\n            } else if (this.output[1] > 0) {\n              this.TextureConstructor = GLTextureArray4Float2D;\n              this.formatValues = utils.erect2DArray4;\n              return null;\n            } else {\n              this.TextureConstructor = GLTextureArray4Float;\n              this.formatValues = utils.erectArray4;\n              return null;\n            }\n          }\n        }\n      }\n    } else {\n      throw new Error(`unhandled precision of \"${this.precision}\"`);\n    }\n\n    throw new Error(`unhandled return type \"${this.returnType}\"`);\n  }\n\n  getKernelString() {\n    throw new Error(`abstract method call`);\n  }\n\n  getMainResultTexture() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Float':\n      case 'Integer':\n      case 'Number':\n        return this.getMainResultNumberTexture();\n      case 'Array(2)':\n        return this.getMainResultArray2Texture();\n      case 'Array(3)':\n        return this.getMainResultArray3Texture();\n      case 'Array(4)':\n        return this.getMainResultArray4Texture();\n      default:\n        throw new Error(`unhandled returnType type ${ this.returnType }`);\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelNumberTexture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray2Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray2Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray3Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray3Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultKernelArray4Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultSubKernelArray4Texture() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultGraphical() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultMemoryOptimizedFloats() {\n    throw new Error(`abstract method call`);\n  }\n  getMainResultPackedPixels() {\n    throw new Error(`abstract method call`);\n  }\n\n  getMainResultString() {\n    if (this.graphical) {\n      return this.getMainResultGraphical();\n    } else if (this.precision === 'single') {\n      if (this.optimizeFloatMemory) {\n        return this.getMainResultMemoryOptimizedFloats();\n      }\n      return this.getMainResultTexture();\n    } else {\n      return this.getMainResultPackedPixels();\n    }\n  }\n\n  getMainResultNumberTexture() {\n    return utils.linesToString(this.getMainResultKernelNumberTexture()) +\n      utils.linesToString(this.getMainResultSubKernelNumberTexture());\n  }\n\n  getMainResultArray2Texture() {\n    return utils.linesToString(this.getMainResultKernelArray2Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray2Texture());\n  }\n\n  getMainResultArray3Texture() {\n    return utils.linesToString(this.getMainResultKernelArray3Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray3Texture());\n  }\n\n  getMainResultArray4Texture() {\n    return utils.linesToString(this.getMainResultKernelArray4Texture()) +\n      utils.linesToString(this.getMainResultSubKernelArray4Texture());\n  }\n\n  getFloatTacticDeclaration() {\n    const variablePrecision = this.getVariablePrecisionString(this.texSize, this.tactic);\n    return `precision ${variablePrecision} float;\\n`;\n  }\n\n  getIntTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic, true)} int;\\n`;\n  }\n\n  getSampler2DTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic)} sampler2D;\\n`;\n  }\n\n  getSampler2DArrayTacticDeclaration() {\n    return `precision ${this.getVariablePrecisionString(this.texSize, this.tactic)} sampler2DArray;\\n`;\n  }\n\n  renderTexture() {\n    return this.immutable ? this.texture.clone() : this.texture;\n  }\n  readPackedPixelsToUint8Array() {\n    if (this.precision !== 'unsigned') throw new Error('Requires this.precision to be \"unsigned\"');\n    const {\n      texSize,\n      context: gl\n    } = this;\n    const result = new Uint8Array(texSize[0] * texSize[1] * 4);\n    gl.readPixels(0, 0, texSize[0], texSize[1], gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result;\n  }\n\n  readPackedPixelsToFloat32Array() {\n    return new Float32Array(this.readPackedPixelsToUint8Array().buffer);\n  }\n\n  readFloatPixelsToFloat32Array() {\n    if (this.precision !== 'single') throw new Error('Requires this.precision to be \"single\"');\n    const {\n      texSize,\n      context: gl\n    } = this;\n    const w = texSize[0];\n    const h = texSize[1];\n    const result = new Float32Array(w * h * 4);\n    gl.readPixels(0, 0, w, h, gl.RGBA, gl.FLOAT, result);\n    return result;\n  }\n\n  getPixels(flip) {\n    const {\n      context: gl,\n      output\n    } = this;\n    const [width, height] = output;\n    const pixels = new Uint8Array(width * height * 4);\n    gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    return new Uint8ClampedArray((flip ? pixels : utils.flipPixels(pixels, width, height)).buffer);\n  }\n\n  renderKernelsToArrays() {\n    const result = {\n      result: this.renderOutput(),\n    };\n    for (let i = 0; i < this.subKernels.length; i++) {\n      result[this.subKernels[i].property] = this.mappedTextures[i].toArray();\n    }\n    return result;\n  }\n\n  renderKernelsToTextures() {\n    const result = {\n      result: this.renderOutput(),\n    };\n    if (this.immutable) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        result[this.subKernels[i].property] = this.mappedTextures[i].clone();\n      }\n    } else {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        result[this.subKernels[i].property] = this.mappedTextures[i];\n      }\n    }\n    return result;\n  }\n\n  resetSwitchingKernels() {\n    const existingValue = this.switchingKernels;\n    this.switchingKernels = null;\n    return existingValue;\n  }\n\n  setOutput(output) {\n    const newOutput = this.toKernelOutput(output);\n    if (this.program) {\n      if (!this.dynamicOutput) {\n        throw new Error('Resizing a kernel with dynamicOutput: false is not possible');\n      }\n      const newThreadDim = [newOutput[0], newOutput[1] || 1, newOutput[2] || 1];\n      const newTexSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, newThreadDim);\n      const oldTexSize = this.texSize;\n      if (oldTexSize) {\n        const oldPrecision = this.getVariablePrecisionString(oldTexSize, this.tactic);\n        const newPrecision = this.getVariablePrecisionString(newTexSize, this.tactic);\n        if (oldPrecision !== newPrecision) {\n          if (this.debug) {\n            console.warn('Precision requirement changed, asking GPU instance to recompile');\n          }\n          this.switchKernels({\n            type: 'outputPrecisionMismatch',\n            precision: newPrecision,\n            needed: output\n          });\n          return;\n        }\n      }\n      this.output = newOutput;\n      this.threadDim = newThreadDim;\n      this.texSize = newTexSize;\n      const { context: gl } = this;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n      this.updateMaxTexSize();\n      this.framebuffer.width = this.texSize[0];\n      this.framebuffer.height = this.texSize[1];\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      this.canvas.width = this.maxTexSize[0];\n      this.canvas.height = this.maxTexSize[1];\n      if (this.texture) {\n        this.texture.delete();\n      }\n      this.texture = null;\n      this._setupOutputTexture();\n      if (this.mappedTextures && this.mappedTextures.length > 0) {\n        for (let i = 0; i < this.mappedTextures.length; i++) {\n          this.mappedTextures[i].delete();\n        }\n        this.mappedTextures = null;\n        this._setupSubOutputTextures();\n      }\n    } else {\n      this.output = newOutput;\n    }\n    return this;\n  }\n  renderValues() {\n    return this.formatValues(\n      this.transferValues(),\n      this.output[0],\n      this.output[1],\n      this.output[2]\n    );\n  }\n  switchKernels(reason) {\n    if (this.switchingKernels) {\n      this.switchingKernels.push(reason);\n    } else {\n      this.switchingKernels = [reason];\n    }\n  }\n  getVariablePrecisionString(textureSize = this.texSize, tactic = this.tactic, isInt = false) {\n    if (!tactic) {\n      if (!this.constructor.features.isSpeedTacticSupported) return 'highp';\n      const low = this.constructor.features[isInt ? 'lowIntPrecision' : 'lowFloatPrecision'];\n      const medium = this.constructor.features[isInt ? 'mediumIntPrecision' : 'mediumFloatPrecision'];\n      const high = this.constructor.features[isInt ? 'highIntPrecision' : 'highFloatPrecision'];\n      const requiredSize = Math.log2(textureSize[0] * textureSize[1]);\n      if (requiredSize <= low.rangeMax) {\n        return 'lowp';\n      } else if (requiredSize <= medium.rangeMax) {\n        return 'mediump';\n      } else if (requiredSize <= high.rangeMax) {\n        return 'highp';\n      } else {\n        throw new Error(`The required size exceeds that of the ability of your system`);\n      }\n    }\n    switch (tactic) {\n      case 'speed':\n        return 'lowp';\n      case 'balanced':\n        return 'mediump';\n      case 'precision':\n        return 'highp';\n      default:\n        throw new Error(`Unknown tactic \"${tactic}\" use \"speed\", \"balanced\", \"precision\", or empty for auto`);\n    }\n  }\n\n  updateTextureArgumentRefs(kernelValue, arg) {\n    if (!this.immutable) return;\n    if (this.texture.texture === arg.texture) {\n      const { prevArg } = kernelValue;\n      if (prevArg) {\n        if (prevArg.texture._refs === 1) {\n          this.texture.delete();\n          this.texture = prevArg.clone();\n          this._textureSwitched = true;\n        }\n        prevArg.delete();\n      }\n      kernelValue.prevArg = arg.clone();\n    } else if (this.mappedTextures && this.mappedTextures.length > 0) {\n      const { mappedTextures } = this;\n      for (let i = 0; i < mappedTextures.length; i++) {\n        const mappedTexture = mappedTextures[i];\n        if (mappedTexture.texture === arg.texture) {\n          const { prevArg } = kernelValue;\n          if (prevArg) {\n            if (prevArg.texture._refs === 1) {\n              mappedTexture.delete();\n              mappedTextures[i] = prevArg.clone();\n              this._mappedTextureSwitched[i] = true;\n            }\n            prevArg.delete();\n          }\n          kernelValue.prevArg = arg.clone();\n          return;\n        }\n      }\n    }\n  }\n\n  onActivate(previousKernel) {\n    this._textureSwitched = true;\n    this.texture = previousKernel.texture;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.mappedTextures.length; i++) {\n        this._mappedTextureSwitched[i] = true;\n      }\n      this.mappedTextures = previousKernel.mappedTextures;\n    }\n  }\n\n  initCanvas() {}\n}\n\nconst typeMap = {\n  int: 'Integer',\n  float: 'Number',\n  vec2: 'Array(2)',\n  vec3: 'Array(3)',\n  vec4: 'Array(4)',\n};\n\nmodule.exports = {\n  GLKernel\n};\n},{\"../../utils\":114,\"../kernel\":36,\"./texture/array-2-float\":16,\"./texture/array-2-float-2d\":14,\"./texture/array-2-float-3d\":15,\"./texture/array-3-float\":19,\"./texture/array-3-float-2d\":17,\"./texture/array-3-float-3d\":18,\"./texture/array-4-float\":22,\"./texture/array-4-float-2d\":20,\"./texture/array-4-float-3d\":21,\"./texture/float\":25,\"./texture/float-2d\":23,\"./texture/float-3d\":24,\"./texture/graphical\":26,\"./texture/memory-optimized\":30,\"./texture/memory-optimized-2d\":28,\"./texture/memory-optimized-3d\":29,\"./texture/unsigned\":33,\"./texture/unsigned-2d\":31,\"./texture/unsigned-3d\":32}],14:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erect2DArray2(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],15:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erect3DArray2(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],16:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray2Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(2)';\n  }\n  toArray() {\n    return utils.erectArray2(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray2Float\n};\n},{\"../../../utils\":114,\"./float\":25}],17:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erect2DArray3(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],18:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erect3DArray3(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],19:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray3Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(3)';\n  }\n  toArray() {\n    return utils.erectArray3(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray3Float\n};\n},{\"../../../utils\":114,\"./float\":25}],20:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erect2DArray4(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float2D\n};\n},{\"../../../utils\":114,\"./float\":25}],21:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erect3DArray4(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float3D\n};\n},{\"../../../utils\":114,\"./float\":25}],22:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureArray4Float extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return utils.erectArray4(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureArray4Float\n};\n},{\"../../../utils\":114,\"./float\":25}],23:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureFloat2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  toArray() {\n    return utils.erect2DFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat2D\n};\n},{\"../../../utils\":114,\"./float\":25}],24:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureFloat3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  toArray() {\n    return utils.erect3DFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat3D\n};\n},{\"../../../utils\":114,\"./float\":25}],25:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTexture } = require('./index');\n\nclass GLTextureFloat extends GLTexture {\n  get textureType() {\n    return this.context.FLOAT;\n  }\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(1)';\n  }\n  renderRawOutput() {\n    const gl = this.context;\n    const size = this.size;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      this.texture,\n      0\n    );\n    const result = new Float32Array(size[0] * size[1] * 4);\n    gl.readPixels(0, 0, size[0], size[1], gl.RGBA, gl.FLOAT, result);\n    return result;\n  }\n  renderValues() {\n    if (this._deleted) return null;\n    return this.renderRawOutput();\n  }\n  toArray() {\n    return utils.erectFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureFloat\n};\n},{\"../../../utils\":114,\"./index\":27}],26:[function(require,module,exports){\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureGraphical extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'ArrayTexture(4)';\n  }\n  toArray() {\n    return this.renderValues();\n  }\n}\n\nmodule.exports = {\n  GLTextureGraphical\n};\n},{\"./unsigned\":33}],27:[function(require,module,exports){\nconst { Texture } = require('../../../texture');\n\nclass GLTexture extends Texture {\n  get textureType() {\n    throw new Error(`\"textureType\" not implemented on ${ this.name }`);\n  }\n\n  clone() {\n    return new this.constructor(this);\n  }\n\n  beforeMutate() {\n    if (this.texture._refs > 1) {\n      this.newTexture();\n      return true;\n    }\n    return false;\n  }\n\n  cloneTexture() {\n    this.texture._refs--;\n    const { context: gl, size, texture, kernel } = this;\n    if (kernel.debug) {\n      console.warn('cloning internal texture');\n    }\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    selectTexture(gl, texture);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    const target = gl.createTexture();\n    selectTexture(gl, target);\n    gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    gl.copyTexSubImage2D(gl.TEXTURE_2D, 0, 0, 0, 0, 0, size[0], size[1]);\n    target._refs = 1;\n    this.texture = target;\n  }\n\n  newTexture() {\n    this.texture._refs--;\n    const gl = this.context;\n    const size = this.size;\n    const kernel = this.kernel;\n    if (kernel.debug) {\n      console.warn('new internal texture');\n    }\n    const target = gl.createTexture();\n    selectTexture(gl, target);\n    gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    target._refs = 1;\n    this.texture = target;\n  }\n\n  clear() {\n    if (this.texture._refs) {\n      this.texture._refs--;\n      const gl = this.context;\n      const target = this.texture = gl.createTexture();\n      selectTexture(gl, target);\n      const size = this.size;\n      target._refs = 1;\n      gl.texImage2D(gl.TEXTURE_2D, 0, this.internalFormat, size[0], size[1], 0, this.textureFormat, this.textureType, null);\n    }\n    const { context: gl, texture } = this;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer());\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    selectTexture(gl, texture);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    gl.clearColor(0, 0, 0, 0);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n  }\n\n  delete() {\n    if (this._deleted) return;\n    this._deleted = true;\n    if (this.texture._refs) {\n      this.texture._refs--;\n      if (this.texture._refs) return;\n    }\n    this.context.deleteTexture(this.texture);\n    if (this.texture._refs === 0 && this._framebuffer) {\n      this.context.deleteFramebuffer(this._framebuffer);\n      this._framebuffer = null;\n    }\n  }\n\n  framebuffer() {\n    if (!this._framebuffer) {\n      this._framebuffer = this.context.createFramebuffer();\n    }\n    this._framebuffer.width = this.size[0];\n    this._framebuffer.height = this.size[1];\n    return this._framebuffer;\n  }\n}\n\nfunction selectTexture(gl, texture) {\n  gl.activeTexture(gl.TEXTURE15);\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n}\n\nmodule.exports = { GLTexture };\n},{\"../../../texture\":113}],28:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized2D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimized2DFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized2D\n};\n},{\"../../../utils\":114,\"./float\":25}],29:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized3D extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimized3DFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized3D\n};\n},{\"../../../utils\":114,\"./float\":25}],30:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureFloat } = require('./float');\n\nclass GLTextureMemoryOptimized extends GLTextureFloat {\n  constructor(settings) {\n    super(settings);\n    this.type = 'MemoryOptimizedNumberTexture';\n  }\n  toArray() {\n    return utils.erectMemoryOptimizedFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureMemoryOptimized\n};\n},{\"../../../utils\":114,\"./float\":25}],31:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureUnsigned2D extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  toArray() {\n    return utils.erect2DPackedFloat(this.renderValues(), this.output[0], this.output[1]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned2D\n};\n},{\"../../../utils\":114,\"./unsigned\":33}],32:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTextureUnsigned } = require('./unsigned');\n\nclass GLTextureUnsigned3D extends GLTextureUnsigned {\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  toArray() {\n    return utils.erect3DPackedFloat(this.renderValues(), this.output[0], this.output[1], this.output[2]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned3D\n};\n},{\"../../../utils\":114,\"./unsigned\":33}],33:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { GLTexture } = require('./index');\n\nclass GLTextureUnsigned extends GLTexture {\n  get textureType() {\n    return this.context.UNSIGNED_BYTE;\n  }\n  constructor(settings) {\n    super(settings);\n    this.type = 'NumberTexture';\n  }\n  renderRawOutput() {\n    const { context: gl } = this;\n    const framebuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      this.texture,\n      0\n    );\n    const result = new Uint8Array(this.size[0] * this.size[1] * 4);\n    gl.readPixels(0, 0, this.size[0], this.size[1], gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result;\n  }\n  renderValues() {\n    if (this._deleted) return null;\n    return new Float32Array(this.renderRawOutput().buffer);\n  }\n  toArray() {\n    return utils.erectPackedFloat(this.renderValues(), this.output[0]);\n  }\n}\n\nmodule.exports = {\n  GLTextureUnsigned\n};\n},{\"../../../utils\":114,\"./index\":27}],34:[function(require,module,exports){\nconst getContext = require('gl');\nconst { WebGLKernel } = require('../web-gl/kernel');\nconst { glKernelString } = require('../gl/kernel-string');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\nlet features = null;\n\nclass HeadlessGLKernel extends WebGLKernel {\n  static get isSupported() {\n    if (isSupported !== null) return isSupported;\n    this.setupFeatureChecks();\n    isSupported = testContext !== null;\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    testCanvas = null;\n    testExtensions = null;\n    if (typeof getContext !== 'function') return;\n    try { \n      testContext = getContext(2, 2, {\n        preserveDrawingBuffer: true\n      });\n      if (!testContext || !testContext.getExtension) return;\n      testExtensions = {\n        STACKGL_resize_drawingbuffer: testContext.getExtension('STACKGL_resize_drawingbuffer'),\n        STACKGL_destroy_context: testContext.getExtension('STACKGL_destroy_context'),\n        OES_texture_float: testContext.getExtension('OES_texture_float'),\n        OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n        OES_element_index_uint: testContext.getExtension('OES_element_index_uint'),\n        WEBGL_draw_buffers: testContext.getExtension('WEBGL_draw_buffers'),\n        WEBGL_color_buffer_float: testContext.getExtension('WEBGL_color_buffer_float'),\n      };\n      features = this.getFeatures();\n    } catch (e) {\n      console.warn(e);\n    }\n  }\n\n  static isContextMatch(context) {\n    try {\n      return context.getParameter(context.RENDERER) === 'ANGLE';\n    } catch (e) {\n      return false;\n    }\n  }\n\n  static getIsTextureFloat() {\n    return Boolean(testExtensions.OES_texture_float);\n  }\n\n  static getIsDrawBuffers() {\n    return Boolean(testExtensions.WEBGL_draw_buffers);\n  }\n\n  static getChannelCount() {\n    return testExtensions.WEBGL_draw_buffers ?\n      testContext.getParameter(testExtensions.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL) :\n      1;\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  initCanvas() {\n    return {};\n  }\n\n  initContext() {\n    return getContext(2, 2, {\n      preserveDrawingBuffer: true\n    });\n  }\n\n  initExtensions() {\n    this.extensions = {\n      STACKGL_resize_drawingbuffer: this.context.getExtension('STACKGL_resize_drawingbuffer'),\n      STACKGL_destroy_context: this.context.getExtension('STACKGL_destroy_context'),\n      OES_texture_float: this.context.getExtension('OES_texture_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: this.context.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: this.context.getExtension('WEBGL_draw_buffers'),\n    };\n  }\n\n  build() {\n    super.build.apply(this, arguments);\n    if (!this.fallbackRequested) {\n      this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0], this.maxTexSize[1]);\n    }\n  }\n\n  destroyExtensions() {\n    this.extensions.STACKGL_resize_drawingbuffer = null;\n    this.extensions.STACKGL_destroy_context = null;\n    this.extensions.OES_texture_float = null;\n    this.extensions.OES_texture_float_linear = null;\n    this.extensions.OES_element_index_uint = null;\n    this.extensions.WEBGL_draw_buffers = null;\n  }\n\n  static destroyContext(context) {\n    const extension = context.getExtension('STACKGL_destroy_context');\n    if (extension && extension.destroy) {\n      extension.destroy();\n    }\n  }\n\n  toString() {\n    const setupContextString = `const gl = context || require('gl')(1, 1);\\n`;\n    const destroyContextString = `    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }\\n`;\n    return glKernelString(this.constructor, arguments, this, setupContextString, destroyContextString);\n  }\n\n  setOutput(output) {\n    super.setOutput(output);\n    if (this.graphical && this.extensions.STACKGL_resize_drawingbuffer) {\n      this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0], this.maxTexSize[1]);\n    }\n    return this;\n  }\n}\n\nmodule.exports = {\n  HeadlessGLKernel\n};\n},{\"../gl/kernel-string\":12,\"../web-gl/kernel\":70,\"gl\":2}],35:[function(require,module,exports){\nclass KernelValue {\n  constructor(value, settings) {\n    const {\n      name,\n      kernel,\n      context,\n      checkContext,\n      onRequestContextHandle,\n      onUpdateValueMismatch,\n      origin,\n      strictIntegers,\n      type,\n      tactic,\n    } = settings;\n    if (!name) {\n      throw new Error('name not set');\n    }\n    if (!type) {\n      throw new Error('type not set');\n    }\n    if (!origin) {\n      throw new Error('origin not set');\n    }\n    if (origin !== 'user' && origin !== 'constants') {\n      throw new Error(`origin must be \"user\" or \"constants\" value is \"${ origin }\"`);\n    }\n    if (!onRequestContextHandle) {\n      throw new Error('onRequestContextHandle is not set');\n    }\n    this.name = name;\n    this.origin = origin;\n    this.tactic = tactic;\n    this.varName = origin === 'constants' ? `constants.${name}` : name;\n    this.kernel = kernel;\n    this.strictIntegers = strictIntegers;\n    this.type = value.type || type;\n    this.size = value.size || null;\n    this.index = null;\n    this.context = context;\n    this.checkContext = checkContext !== null && checkContext !== undefined ? checkContext : true;\n    this.contextHandle = null;\n    this.onRequestContextHandle = onRequestContextHandle;\n    this.onUpdateValueMismatch = onUpdateValueMismatch;\n    this.forceUploadEachRun = null;\n  }\n\n  get id() {\n    return `${this.origin}_${name}`;\n  }\n\n  getSource() {\n    throw new Error(`\"getSource\" not defined on ${ this.constructor.name }`);\n  }\n\n  updateValue(value) {\n    throw new Error(`\"updateValue\" not defined on ${ this.constructor.name }`);\n  }\n}\n\nmodule.exports = {\n  KernelValue\n};\n},{}],36:[function(require,module,exports){\nconst { utils } = require('../utils');\nconst { Input } = require('../input');\n\nclass Kernel {\n  static get isSupported() {\n    throw new Error(`\"isSupported\" not implemented on ${ this.name }`);\n  }\n\n  static isContextMatch(context) {\n    throw new Error(`\"isContextMatch\" not implemented on ${ this.name }`);\n  }\n\n  static getFeatures() {\n    throw new Error(`\"getFeatures\" not implemented on ${ this.name }`);\n  }\n\n  static destroyContext(context) {\n    throw new Error(`\"destroyContext\" called on ${ this.name }`);\n  }\n\n  static nativeFunctionArguments() {\n    throw new Error(`\"nativeFunctionArguments\" called on ${ this.name }`);\n  }\n\n  static nativeFunctionReturnType() {\n    throw new Error(`\"nativeFunctionReturnType\" called on ${ this.name }`);\n  }\n\n  static combineKernels() {\n    throw new Error(`\"combineKernels\" called on ${ this.name }`);\n  }\n\n  constructor(source, settings) {\n    if (typeof source !== 'object') {\n      if (typeof source !== 'string') {\n        throw new Error('source not a string');\n      }\n      if (!utils.isFunctionString(source)) {\n        throw new Error('source not a function string');\n      }\n    }\n    this.useLegacyEncoder = false;\n    this.fallbackRequested = false;\n    this.onRequestFallback = null;\n\n    this.argumentNames = typeof source === 'string' ? utils.getArgumentNamesFromString(source) : null;\n    this.argumentTypes = null;\n    this.argumentSizes = null;\n    this.argumentBitRatios = null;\n    this.kernelArguments = null;\n    this.kernelConstants = null;\n    this.forceUploadKernelConstants = null;\n\n\n    this.source = source;\n\n    this.output = null;\n\n    this.debug = false;\n\n    this.graphical = false;\n\n    this.loopMaxIterations = 0;\n\n    this.constants = null;\n\n    this.constantTypes = null;\n\n    this.constantBitRatios = null;\n\n    this.dynamicArguments = false;\n\n    this.dynamicOutput = false;\n\n    this.canvas = null;\n\n    this.context = null;\n\n    this.checkContext = null;\n\n    this.gpu = null;\n\n    this.functions = null;\n\n    this.nativeFunctions = null;\n\n    this.injectedNative = null;\n\n    this.subKernels = null;\n\n    this.validate = true;\n\n    this.immutable = false;\n\n    this.pipeline = false;\n\n    this.precision = null;\n\n    this.tactic = null;\n\n    this.plugins = null;\n\n    this.returnType = null;\n    this.leadingReturnStatement = null;\n    this.followingReturnStatement = null;\n    this.optimizeFloatMemory = null;\n    this.strictIntegers = false;\n    this.fixIntegerDivisionAccuracy = null;\n    this.onIstanbulCoverageVariable = null;\n    this.removeIstanbulCoverage = false;\n    this.built = false;\n    this.signature = null;\n  }\n\n  mergeSettings(settings) {\n    for (let p in settings) {\n      if (!settings.hasOwnProperty(p) || !this.hasOwnProperty(p)) continue;\n      switch (p) {\n        case 'output':\n          if (!Array.isArray(settings.output)) {\n            this.setOutput(settings.output); \n            continue;\n          }\n          break;\n        case 'functions':\n          this.functions = [];\n          for (let i = 0; i < settings.functions.length; i++) {\n            this.addFunction(settings.functions[i]);\n          }\n          continue;\n        case 'graphical':\n          if (settings[p] && !settings.hasOwnProperty('precision')) {\n            this.precision = 'unsigned';\n          }\n          this[p] = settings[p];\n          continue;\n        case 'removeIstanbulCoverage':\n          if (settings[p] !== null) {\n            this[p] = settings[p];\n          }\n          continue;\n        case 'nativeFunctions':\n          if (!settings.nativeFunctions) continue;\n          this.nativeFunctions = [];\n          for (let i = 0; i < settings.nativeFunctions.length; i++) {\n            const s = settings.nativeFunctions[i];\n            const { name, source } = s;\n            this.addNativeFunction(name, source, s);\n          }\n          continue;\n      }\n      this[p] = settings[p];\n    }\n\n    if (!this.canvas) this.canvas = this.initCanvas();\n    if (!this.context) this.context = this.initContext();\n    if (!this.plugins) this.plugins = this.initPlugins(settings);\n  }\n  build() {\n    throw new Error(`\"build\" not defined on ${ this.constructor.name }`);\n  }\n\n  run() {\n    throw new Error(`\"run\" not defined on ${ this.constructor.name }`)\n  }\n\n  initCanvas() {\n    throw new Error(`\"initCanvas\" not defined on ${ this.constructor.name }`);\n  }\n\n  initContext() {\n    throw new Error(`\"initContext\" not defined on ${ this.constructor.name }`);\n  }\n\n  initPlugins(settings) {\n    throw new Error(`\"initPlugins\" not defined on ${ this.constructor.name }`);\n  }\n\n  addFunction(source, settings = {}) {\n    if (source.name && source.source && source.argumentTypes && 'returnType' in source) {\n      this.functions.push(source);\n    } else if ('settings' in source && 'source' in source) {\n      this.functions.push(this.functionToIGPUFunction(source.source, source.settings));\n    } else if (typeof source === 'string' || typeof source === 'function') {\n      this.functions.push(this.functionToIGPUFunction(source, settings));\n    } else {\n      throw new Error(`function not properly defined`);\n    }\n    return this;\n  }\n\n  addNativeFunction(name, source, settings = {}) {\n    const { argumentTypes, argumentNames } = settings.argumentTypes ?\n      splitArgumentTypes(settings.argumentTypes) :\n      this.constructor.nativeFunctionArguments(source) || {};\n    this.nativeFunctions.push({\n      name,\n      source,\n      settings,\n      argumentTypes,\n      argumentNames,\n      returnType: settings.returnType || this.constructor.nativeFunctionReturnType(source)\n    });\n    return this;\n  }\n\n  setupArguments(args) {\n    this.kernelArguments = [];\n    if (!this.argumentTypes) {\n      if (!this.argumentTypes) {\n        this.argumentTypes = [];\n        for (let i = 0; i < args.length; i++) {\n          const argType = utils.getVariableType(args[i], this.strictIntegers);\n          const type = argType === 'Integer' ? 'Number' : argType;\n          this.argumentTypes.push(type);\n          this.kernelArguments.push({\n            type\n          });\n        }\n      }\n    } else {\n      for (let i = 0; i < this.argumentTypes.length; i++) {\n        this.kernelArguments.push({\n          type: this.argumentTypes[i]\n        });\n      }\n    }\n\n    this.argumentSizes = new Array(args.length);\n    this.argumentBitRatios = new Int32Array(args.length);\n\n    for (let i = 0; i < args.length; i++) {\n      const arg = args[i];\n      this.argumentSizes[i] = arg.constructor === Input ? arg.size : null;\n      this.argumentBitRatios[i] = this.getBitRatio(arg);\n    }\n\n    if (this.argumentNames.length !== args.length) {\n      throw new Error(`arguments are miss-aligned`);\n    }\n  }\n\n  setupConstants() {\n    this.kernelConstants = [];\n    let needsConstantTypes = this.constantTypes === null;\n    if (needsConstantTypes) {\n      this.constantTypes = {};\n    }\n    this.constantBitRatios = {};\n    if (this.constants) {\n      for (let name in this.constants) {\n        if (needsConstantTypes) {\n          const type = utils.getVariableType(this.constants[name], this.strictIntegers);\n          this.constantTypes[name] = type;\n          this.kernelConstants.push({\n            name,\n            type\n          });\n        } else {\n          this.kernelConstants.push({\n            name,\n            type: this.constantTypes[name]\n          });\n        }\n        this.constantBitRatios[name] = this.getBitRatio(this.constants[name]);\n      }\n    }\n  }\n\n  setOptimizeFloatMemory(flag) {\n    this.optimizeFloatMemory = flag;\n    return this;\n  }\n\n  toKernelOutput(output) {\n    if (output.hasOwnProperty('x')) {\n      if (output.hasOwnProperty('y')) {\n        if (output.hasOwnProperty('z')) {\n          return [output.x, output.y, output.z];\n        } else {\n          return [output.x, output.y];\n        }\n      } else {\n        return [output.x];\n      }\n    } else {\n      return output;\n    }\n  }\n\n  setOutput(output) {\n    this.output = this.toKernelOutput(output);\n    return this;\n  }\n\n  setDebug(flag) {\n    this.debug = flag;\n    return this;\n  }\n\n  setGraphical(flag) {\n    this.graphical = flag;\n    this.precision = 'unsigned';\n    return this;\n  }\n\n  setLoopMaxIterations(max) {\n    this.loopMaxIterations = max;\n    return this;\n  }\n\n  setConstants(constants) {\n    this.constants = constants;\n    return this;\n  }\n\n  setConstantTypes(constantTypes) {\n    this.constantTypes = constantTypes;\n    return this;\n  }\n\n  setFunctions(functions) {\n    for (let i = 0; i < functions.length; i++) {\n      this.addFunction(functions[i]);\n    }\n    return this;\n  }\n\n  setNativeFunctions(nativeFunctions) {\n    for (let i = 0; i < nativeFunctions.length; i++) {\n      const settings = nativeFunctions[i];\n      const { name, source } = settings;\n      this.addNativeFunction(name, source, settings);\n    }\n    return this;\n  }\n\n  setInjectedNative(injectedNative) {\n    this.injectedNative = injectedNative;\n    return this;\n  }\n\n  setPipeline(flag) {\n    this.pipeline = flag;\n    return this;\n  }\n\n  setPrecision(flag) {\n    this.precision = flag;\n    return this;\n  }\n\n  setDimensions(flag) {\n    utils.warnDeprecated('method', 'setDimensions', 'setOutput');\n    this.output = flag;\n    return this;\n  }\n\n  setOutputToTexture(flag) {\n    utils.warnDeprecated('method', 'setOutputToTexture', 'setPipeline');\n    this.pipeline = flag;\n    return this;\n  }\n\n  setImmutable(flag) {\n    this.immutable = flag;\n    return this;\n  }\n\n  setCanvas(canvas) {\n    this.canvas = canvas;\n    return this;\n  }\n\n  setStrictIntegers(flag) {\n    this.strictIntegers = flag;\n    return this;\n  }\n\n  setDynamicOutput(flag) {\n    this.dynamicOutput = flag;\n    return this;\n  }\n\n  setHardcodeConstants(flag) {\n    utils.warnDeprecated('method', 'setHardcodeConstants');\n    this.setDynamicOutput(flag);\n    this.setDynamicArguments(flag);\n    return this;\n  }\n\n  setDynamicArguments(flag) {\n    this.dynamicArguments = flag;\n    return this;\n  }\n\n  setUseLegacyEncoder(flag) {\n    this.useLegacyEncoder = flag;\n    return this;\n  }\n\n  setWarnVarUsage(flag) {\n    utils.warnDeprecated('method', 'setWarnVarUsage');\n    return this;\n  }\n\n  getCanvas() {\n    utils.warnDeprecated('method', 'getCanvas');\n    return this.canvas;\n  }\n\n  getWebGl() {\n    utils.warnDeprecated('method', 'getWebGl');\n    return this.context;\n  }\n\n  setContext(context) {\n    this.context = context;\n    return this;\n  }\n\n  setArgumentTypes(argumentTypes) {\n    if (Array.isArray(argumentTypes)) {\n      this.argumentTypes = argumentTypes;\n    } else {\n      this.argumentTypes = [];\n      for (const p in argumentTypes) {\n        if (!argumentTypes.hasOwnProperty(p)) continue;\n        const argumentIndex = this.argumentNames.indexOf(p);\n        if (argumentIndex === -1) throw new Error(`unable to find argument ${ p }`);\n        this.argumentTypes[argumentIndex] = argumentTypes[p];\n      }\n    }\n    return this;\n  }\n\n  setTactic(tactic) {\n    this.tactic = tactic;\n    return this;\n  }\n\n  requestFallback(args) {\n    if (!this.onRequestFallback) {\n      throw new Error(`\"onRequestFallback\" not defined on ${ this.constructor.name }`);\n    }\n    this.fallbackRequested = true;\n    return this.onRequestFallback(args);\n  }\n\n  validateSettings() {\n    throw new Error(`\"validateSettings\" not defined on ${ this.constructor.name }`);\n  }\n\n  addSubKernel(subKernel) {\n    if (this.subKernels === null) {\n      this.subKernels = [];\n    }\n    if (!subKernel.source) throw new Error('subKernel missing \"source\" property');\n    if (!subKernel.property && isNaN(subKernel.property)) throw new Error('subKernel missing \"property\" property');\n    if (!subKernel.name) throw new Error('subKernel missing \"name\" property');\n    this.subKernels.push(subKernel);\n    return this;\n  }\n\n  destroy(removeCanvasReferences) {\n    throw new Error(`\"destroy\" called on ${ this.constructor.name }`);\n  }\n\n  getBitRatio(value) {\n    if (this.precision === 'single') {\n      return 4;\n    } else if (Array.isArray(value[0])) {\n      return this.getBitRatio(value[0]);\n    } else if (value.constructor === Input) {\n      return this.getBitRatio(value.value);\n    }\n    switch (value.constructor) {\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Int8Array:\n        return 1;\n      case Uint16Array:\n      case Int16Array:\n        return 2;\n      case Float32Array:\n      case Int32Array:\n      default:\n        return 4;\n    }\n  }\n\n  getPixels(flip) {\n    throw new Error(`\"getPixels\" called on ${ this.constructor.name }`);\n  }\n\n  checkOutput() {\n    if (!this.output || !utils.isArray(this.output)) throw new Error('kernel.output not an array');\n    if (this.output.length < 1) throw new Error('kernel.output is empty, needs at least 1 value');\n    for (let i = 0; i < this.output.length; i++) {\n      if (isNaN(this.output[i]) || this.output[i] < 1) {\n        throw new Error(`${ this.constructor.name }.output[${ i }] incorrectly defined as \\`${ this.output[i] }\\`, needs to be numeric, and greater than 0`);\n      }\n    }\n  }\n\n  prependString(value) {\n    throw new Error(`\"prependString\" called on ${ this.constructor.name }`);\n  }\n\n  hasPrependString(value) {\n    throw new Error(`\"hasPrependString\" called on ${ this.constructor.name }`);\n  }\n\n  toJSON() {\n    return {\n      settings: {\n        output: this.output,\n        pipeline: this.pipeline,\n        argumentNames: this.argumentNames,\n        argumentsTypes: this.argumentTypes,\n        constants: this.constants,\n        pluginNames: this.plugins ? this.plugins.map(plugin => plugin.name) : null,\n        returnType: this.returnType,\n      }\n    };\n  }\n\n  buildSignature(args) {\n    const Constructor = this.constructor;\n    this.signature = Constructor.getSignature(this, Constructor.getArgumentTypes(this, args));\n  }\n\n  static getArgumentTypes(kernel, args) {\n    const argumentTypes = new Array(args.length);\n    for (let i = 0; i < args.length; i++) {\n      const arg = args[i];\n      const type = kernel.argumentTypes[i];\n      if (arg.type) {\n        argumentTypes[i] = arg.type;\n      } else {\n        switch (type) {\n          case 'Number':\n          case 'Integer':\n          case 'Float':\n          case 'ArrayTexture(1)':\n            argumentTypes[i] = utils.getVariableType(arg);\n            break;\n          default:\n            argumentTypes[i] = type;\n        }\n      }\n    }\n    return argumentTypes;\n  }\n\n  static getSignature(kernel, argumentTypes) {\n    throw new Error(`\"getSignature\" not implemented on ${ this.name }`);\n  }\n\n  functionToIGPUFunction(source, settings = {}) {\n    if (typeof source !== 'string' && typeof source !== 'function') throw new Error('source not a string or function');\n    const sourceString = typeof source === 'string' ? source : source.toString();\n    let argumentTypes = [];\n\n    if (Array.isArray(settings.argumentTypes)) {\n      argumentTypes = settings.argumentTypes;\n    } else if (typeof settings.argumentTypes === 'object') {\n      argumentTypes = utils.getArgumentNamesFromString(sourceString)\n        .map(name => settings.argumentTypes[name]) || [];\n    } else {\n      argumentTypes = settings.argumentTypes || [];\n    }\n\n    return {\n      name: utils.getFunctionNameFromString(sourceString) || null,\n      source: sourceString,\n      argumentTypes,\n      returnType: settings.returnType || null,\n    };\n  }\n\n  onActivate(previousKernel) {}\n}\n\nfunction splitArgumentTypes(argumentTypesObject) {\n  const argumentNames = Object.keys(argumentTypesObject);\n  const argumentTypes = [];\n  for (let i = 0; i < argumentNames.length; i++) {\n    const argumentName = argumentNames[i];\n    argumentTypes.push(argumentTypesObject[argumentName]);\n  }\n  return { argumentTypes, argumentNames };\n}\n\nmodule.exports = {\n  Kernel\n};\n},{\"../input\":110,\"../utils\":114}],37:[function(require,module,exports){\nconst fragmentShader = `__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nvarying vec2 vTexCoord;\n\nfloat acosh(float x) {\n  return log(x + sqrt(x * x - 1.0));\n}\n\nfloat sinh(float x) {\n  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;\n}\n\nfloat asinh(float x) {\n  return log(x + sqrt(x * x + 1.0));\n}\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat atanh(float x) {\n  x = (x + 1.0) / (x - 1.0);\n  if (x < 0.0) {\n    return 0.5 * log(-x);\n  }\n  return 0.5 * log(x);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat cosh(float x) {\n  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; \n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat tanh(float x) {\n  float e = exp(2.0 * x);\n  return (e - 1.0) / (e + 1.0);\n}\n\nfloat trunc(float x) {\n  if (x >= 0.0) {\n    return floor(x); \n  } else {\n    return ceil(x);\n  }\n}\n\nvec4 _round(vec4 x) {\n  return floor(x + 0.5);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x / y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY\\'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(_round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;\n  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;\n  return 0.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  if (channel == 0) return texel.r * 255.0;\n  if (channel == 1) return texel.g * 255.0;\n  if (channel == 2) return texel.b * 255.0;\n  if (channel == 3) return texel.a * 255.0;\n  return 0.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return texel.r;\n  if (channel == 1) return texel.g;\n  if (channel == 2) return texel.b;\n  if (channel == 3) return texel.a;\n  return 0.0;\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture2D(tex, st / vec2(texSize));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n  \n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture2D(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nvoid color(sampler2D image) {\n  actualColor = texture2D(image, vTexCoord);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;\n\nmodule.exports = {\n  fragmentShader\n};\n},{}],38:[function(require,module,exports){\nconst { utils } = require('../../utils');\nconst { FunctionNode } = require('../function-node');\n\nclass WebGLFunctionNode extends FunctionNode {\n  constructor(source, settings) {\n    super(source, settings);\n    if (settings && settings.hasOwnProperty('fixIntegerDivisionAccuracy')) {\n      this.fixIntegerDivisionAccuracy = settings.fixIntegerDivisionAccuracy;\n    }\n  }\n\n  astConditionalExpression(ast, retArr) {\n    if (ast.type !== 'ConditionalExpression') {\n      throw this.astErrorOutput('Not a conditional expression', ast);\n    }\n    const consequentType = this.getType(ast.consequent);\n    const alternateType = this.getType(ast.alternate);\n    if (consequentType === null && alternateType === null) {\n      retArr.push('if (');\n      this.astGeneric(ast.test, retArr);\n      retArr.push(') {');\n      this.astGeneric(ast.consequent, retArr);\n      retArr.push(';');\n      retArr.push('} else {');\n      this.astGeneric(ast.alternate, retArr);\n      retArr.push(';');\n      retArr.push('}');\n      return retArr;\n    }\n    retArr.push('(');\n    this.astGeneric(ast.test, retArr);\n    retArr.push('?');\n    this.astGeneric(ast.consequent, retArr);\n    retArr.push(':');\n    this.astGeneric(ast.alternate, retArr);\n    retArr.push(')');\n    return retArr;\n  }\n\n  astFunction(ast, retArr) {\n    if (this.isRootKernel) {\n      retArr.push('void');\n    } else {\n      if (!this.returnType) {\n        const lastReturn = this.findLastReturn();\n        if (lastReturn) {\n          this.returnType = this.getType(ast.body);\n          if (this.returnType === 'LiteralInteger') {\n            this.returnType = 'Number';\n          }\n        }\n      }\n\n      const { returnType } = this;\n      if (!returnType) {\n        retArr.push('void');\n      } else {\n        const type = typeMap[returnType];\n        if (!type) {\n          throw new Error(`unknown type ${returnType}`);\n        }\n        retArr.push(type);\n      }\n    }\n    retArr.push(' ');\n    retArr.push(this.name);\n    retArr.push('(');\n\n    if (!this.isRootKernel) {\n      for (let i = 0; i < this.argumentNames.length; ++i) {\n        const argumentName = this.argumentNames[i];\n\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        let argumentType = this.argumentTypes[this.argumentNames.indexOf(argumentName)];\n        if (!argumentType) {\n          throw this.astErrorOutput(`Unknown argument ${argumentName} type`, ast);\n        }\n        if (argumentType === 'LiteralInteger') {\n          this.argumentTypes[i] = argumentType = 'Number';\n        }\n        const type = typeMap[argumentType];\n        if (!type) {\n          throw this.astErrorOutput('Unexpected expression', ast);\n        }\n        const name = utils.sanitizeName(argumentName);\n        if (type === 'sampler2D' || type === 'sampler2DArray') {\n          retArr.push(`${type} user_${name},ivec2 user_${name}Size,ivec3 user_${name}Dim`);\n        } else {\n          retArr.push(`${type} user_${name}`);\n        }\n      }\n    }\n\n    retArr.push(') {\\n');\n\n    for (let i = 0; i < ast.body.body.length; ++i) {\n      this.astGeneric(ast.body.body[i], retArr);\n      retArr.push('\\n');\n    }\n\n    retArr.push('}\\n');\n    return retArr;\n  }\n\n  astReturnStatement(ast, retArr) {\n    if (!ast.argument) throw this.astErrorOutput('Unexpected return statement', ast);\n    this.pushState('skip-literal-correction');\n    const type = this.getType(ast.argument);\n    this.popState('skip-literal-correction');\n\n    const result = [];\n\n    if (!this.returnType) {\n      if (type === 'LiteralInteger' || type === 'Integer') {\n        this.returnType = 'Number';\n      } else {\n        this.returnType = type;\n      }\n    }\n\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Float':\n        switch (type) {\n          case 'Integer':\n            result.push('float(');\n            this.astGeneric(ast.argument, result);\n            result.push(')');\n            break;\n          case 'LiteralInteger':\n            this.castLiteralToFloat(ast.argument, result);\n\n            if (this.getType(ast) === 'Integer') {\n              result.unshift('float(');\n              result.push(')');\n            }\n            break;\n          default:\n            this.astGeneric(ast.argument, result);\n        }\n        break;\n      case 'Integer':\n        switch (type) {\n          case 'Float':\n          case 'Number':\n            this.castValueToInteger(ast.argument, result);\n            break;\n          case 'LiteralInteger':\n            this.castLiteralToInteger(ast.argument, result);\n            break;\n          default:\n            this.astGeneric(ast.argument, result);\n        }\n        break;\n      case 'Array(4)':\n      case 'Array(3)':\n      case 'Array(2)':\n      case 'Input':\n        this.astGeneric(ast.argument, result);\n        break;\n      default:\n        throw this.astErrorOutput(`unhandled return type ${this.returnType}`, ast);\n    }\n\n    if (this.isRootKernel) {\n      retArr.push(`kernelResult = ${ result.join('') };`);\n      retArr.push('return;');\n    } else if (this.isSubKernel) {\n      retArr.push(`subKernelResult_${ this.name } = ${ result.join('') };`);\n      retArr.push(`return subKernelResult_${ this.name };`);\n    } else {\n      retArr.push(`return ${ result.join('') };`);\n    }\n    return retArr;\n  }\n\n  astLiteral(ast, retArr) {\n    if (isNaN(ast.value)) {\n      throw this.astErrorOutput(\n        'Non-numeric literal not supported : ' + ast.value,\n        ast\n      );\n    }\n\n    const key = this.astKey(ast);\n    if (Number.isInteger(ast.value)) {\n      if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n        this.literalTypes[key] = 'Integer';\n        retArr.push(`${ast.value}`);\n      } else if (this.isState('casting-to-float') || this.isState('building-float')) {\n        this.literalTypes[key] = 'Number';\n        retArr.push(`${ast.value}.0`);\n      } else {\n        this.literalTypes[key] = 'Number';\n        retArr.push(`${ast.value}.0`);\n      }\n    } else if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n      this.literalTypes[key] = 'Integer';\n      retArr.push(Math.round(ast.value));\n    } else {\n      this.literalTypes[key] = 'Number';\n      retArr.push(`${ast.value}`);\n    }\n    return retArr;\n  }\n\n  astBinaryExpression(ast, retArr) {\n    if (this.checkAndUpconvertOperator(ast, retArr)) {\n      return retArr;\n    }\n\n    if (this.fixIntegerDivisionAccuracy && ast.operator === '/') {\n      retArr.push('divWithIntCheck(');\n      this.pushState('building-float');\n      switch (this.getType(ast.left)) {\n        case 'Integer':\n          this.castValueToFloat(ast.left, retArr);\n          break;\n        case 'LiteralInteger':\n          this.castLiteralToFloat(ast.left, retArr);\n          break;\n        default:\n          this.astGeneric(ast.left, retArr);\n      }\n      retArr.push(', ');\n      switch (this.getType(ast.right)) {\n        case 'Integer':\n          this.castValueToFloat(ast.right, retArr);\n          break;\n        case 'LiteralInteger':\n          this.castLiteralToFloat(ast.right, retArr);\n          break;\n        default:\n          this.astGeneric(ast.right, retArr);\n      }\n      this.popState('building-float');\n      retArr.push(')');\n      return retArr;\n    }\n\n    retArr.push('(');\n    const leftType = this.getType(ast.left) || 'Number';\n    const rightType = this.getType(ast.right) || 'Number';\n    if (!leftType || !rightType) {\n      throw this.astErrorOutput(`Unhandled binary expression`, ast);\n    }\n    const key = leftType + ' & ' + rightType;\n    switch (key) {\n      case 'Integer & Integer':\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n      case 'Number & Float':\n      case 'Float & Number':\n      case 'Float & Float':\n      case 'Number & Number':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'LiteralInteger & LiteralInteger':\n        if (this.isState('casting-to-integer') || this.isState('building-integer')) {\n          this.pushState('building-integer');\n          this.astGeneric(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.astGeneric(ast.right, retArr);\n          this.popState('building-integer');\n        } else {\n          this.pushState('building-float');\n          this.castLiteralToFloat(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.castLiteralToFloat(ast.right, retArr);\n          this.popState('building-float');\n        }\n        break;\n\n      case 'Integer & Float':\n      case 'Integer & Number':\n        if (ast.operator === '>' || ast.operator === '<' && ast.right.type === 'Literal') {\n          if (!Number.isInteger(ast.right.value)) {\n            this.pushState('building-float');\n            this.castValueToFloat(ast.left, retArr);\n            retArr.push(operatorMap[ast.operator] || ast.operator);\n            this.astGeneric(ast.right, retArr);\n            this.popState('building-float');\n            break;\n          }\n        }\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.pushState('casting-to-integer');\n        if (ast.right.type === 'Literal') {\n          const literalResult = [];\n          this.astGeneric(ast.right, literalResult);\n          const literalType = this.getType(ast.right);\n          if (literalType === 'Integer') {\n            retArr.push(literalResult.join(''));\n          } else {\n            throw this.astErrorOutput(`Unhandled binary expression with literal`, ast);\n          }\n        } else {\n          retArr.push('int(');\n          this.astGeneric(ast.right, retArr);\n          retArr.push(')');\n        }\n        this.popState('casting-to-integer');\n        this.popState('building-integer');\n        break;\n      case 'Integer & LiteralInteger':\n        this.pushState('building-integer');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castLiteralToInteger(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n\n      case 'Number & Integer':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castValueToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'Float & LiteralInteger':\n      case 'Number & LiteralInteger':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castLiteralToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n      case 'LiteralInteger & Float':\n      case 'LiteralInteger & Number':\n        if (this.isState('casting-to-integer')) {\n          this.pushState('building-integer');\n          this.castLiteralToInteger(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.castValueToInteger(ast.right, retArr);\n          this.popState('building-integer');\n        } else {\n          this.pushState('building-float');\n          this.astGeneric(ast.left, retArr);\n          retArr.push(operatorMap[ast.operator] || ast.operator);\n          this.pushState('casting-to-float');\n          this.astGeneric(ast.right, retArr);\n          this.popState('casting-to-float');\n          this.popState('building-float');\n        }\n        break;\n      case 'LiteralInteger & Integer':\n        this.pushState('building-integer');\n        this.castLiteralToInteger(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-integer');\n        break;\n\n      case 'Boolean & Boolean':\n        this.pushState('building-boolean');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.astGeneric(ast.right, retArr);\n        this.popState('building-boolean');\n        break;\n\n      case 'Float & Integer':\n        this.pushState('building-float');\n        this.astGeneric(ast.left, retArr);\n        retArr.push(operatorMap[ast.operator] || ast.operator);\n        this.castValueToFloat(ast.right, retArr);\n        this.popState('building-float');\n        break;\n\n      default:\n        throw this.astErrorOutput(`Unhandled binary expression between ${key}`, ast);\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  checkAndUpconvertOperator(ast, retArr) {\n    const bitwiseResult = this.checkAndUpconvertBitwiseOperators(ast, retArr);\n    if (bitwiseResult) {\n      return bitwiseResult;\n    }\n    const upconvertableOperators = {\n      '%': this.fixIntegerDivisionAccuracy ? 'integerCorrectionModulo' : 'modulo',\n      '**': 'pow',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    switch (this.getType(ast.left)) {\n      case 'Integer':\n        this.castValueToFloat(ast.left, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToFloat(ast.left, retArr);\n        break;\n      default:\n        this.astGeneric(ast.left, retArr);\n    }\n    retArr.push(',');\n    switch (this.getType(ast.right)) {\n      case 'Integer':\n        this.castValueToFloat(ast.right, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToFloat(ast.right, retArr);\n        break;\n      default:\n        this.astGeneric(ast.right, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseOperators(ast, retArr) {\n    const upconvertableOperators = {\n      '&': 'bitwiseAnd',\n      '|': 'bitwiseOr',\n      '^': 'bitwiseXOR',\n      '<<': 'bitwiseZeroFillLeftShift',\n      '>>': 'bitwiseSignedRightShift',\n      '>>>': 'bitwiseZeroFillRightShift',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    const leftType = this.getType(ast.left);\n    switch (leftType) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.left, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.left, retArr);\n        break;\n      default:\n        this.astGeneric(ast.left, retArr);\n    }\n    retArr.push(',');\n    const rightType = this.getType(ast.right);\n    switch (rightType) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.right, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.right, retArr);\n        break;\n      default:\n        this.astGeneric(ast.right, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  checkAndUpconvertBitwiseUnary(ast, retArr) {\n    const upconvertableOperators = {\n      '~': 'bitwiseNot',\n    };\n    const foundOperator = upconvertableOperators[ast.operator];\n    if (!foundOperator) return null;\n    retArr.push(foundOperator);\n    retArr.push('(');\n    switch (this.getType(ast.argument)) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(ast.argument, retArr);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(ast.argument, retArr);\n        break;\n      default:\n        this.astGeneric(ast.argument, retArr);\n    }\n    retArr.push(')');\n    return retArr;\n  }\n\n  castLiteralToInteger(ast, retArr) {\n    this.pushState('casting-to-integer');\n    this.astGeneric(ast, retArr);\n    this.popState('casting-to-integer');\n    return retArr;\n  }\n\n  castLiteralToFloat(ast, retArr) {\n    this.pushState('casting-to-float');\n    this.astGeneric(ast, retArr);\n    this.popState('casting-to-float');\n    return retArr;\n  }\n\n  castValueToInteger(ast, retArr) {\n    this.pushState('casting-to-integer');\n    retArr.push('int(');\n    this.astGeneric(ast, retArr);\n    retArr.push(')');\n    this.popState('casting-to-integer');\n    return retArr;\n  }\n\n  castValueToFloat(ast, retArr) {\n    this.pushState('casting-to-float');\n    retArr.push('float(');\n    this.astGeneric(ast, retArr);\n    retArr.push(')');\n    this.popState('casting-to-float');\n    return retArr;\n  }\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput('IdentifierExpression - not an Identifier', idtNode);\n    }\n\n    const type = this.getType(idtNode);\n\n    const name = utils.sanitizeName(idtNode.name);\n    if (idtNode.name === 'Infinity') {\n      retArr.push('3.402823466e+38');\n    } else if (type === 'Boolean') {\n      if (this.argumentNames.indexOf(name) > -1) {\n        retArr.push(`bool(user_${name})`);\n      } else {\n        retArr.push(`user_${name}`);\n      }\n    } else {\n      retArr.push(`user_${name}`);\n    }\n\n    return retArr;\n  }\n\n  astForStatement(forNode, retArr) {\n    if (forNode.type !== 'ForStatement') {\n      throw this.astErrorOutput('Invalid for statement', forNode);\n    }\n\n    const initArr = [];\n    const testArr = [];\n    const updateArr = [];\n    const bodyArr = [];\n    let isSafe = null;\n\n    if (forNode.init) {\n      const { declarations } = forNode.init;\n      if (declarations.length > 1) {\n        isSafe = false;\n      }\n      this.astGeneric(forNode.init, initArr);\n      for (let i = 0; i < declarations.length; i++) {\n        if (declarations[i].init && declarations[i].init.type !== 'Literal') {\n          isSafe = false;\n        }\n      }\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.test) {\n      this.astGeneric(forNode.test, testArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.update) {\n      this.astGeneric(forNode.update, updateArr);\n    } else {\n      isSafe = false;\n    }\n\n    if (forNode.body) {\n      this.pushState('loop-body');\n      this.astGeneric(forNode.body, bodyArr);\n      this.popState('loop-body');\n    }\n\n    if (isSafe === null) {\n      isSafe = this.isSafe(forNode.init) && this.isSafe(forNode.test);\n    }\n\n    if (isSafe) {\n      const initString = initArr.join('');\n      const initNeedsSemiColon = initString[initString.length - 1] !== ';';\n      retArr.push(`for (${initString}${initNeedsSemiColon ? ';' : ''}${testArr.join('')};${updateArr.join('')}){\\n`);\n      retArr.push(bodyArr.join(''));\n      retArr.push('}\\n');\n    } else {\n      const iVariableName = this.getInternalVariableName('safeI');\n      if (initArr.length > 0) {\n        retArr.push(initArr.join(''), '\\n');\n      }\n      retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n      if (testArr.length > 0) {\n        retArr.push(`if (!${testArr.join('')}) break;\\n`);\n      }\n      retArr.push(bodyArr.join(''));\n      retArr.push(`\\n${updateArr.join('')};`);\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astWhileStatement(whileNode, retArr) {\n    if (whileNode.type !== 'WhileStatement') {\n      throw this.astErrorOutput('Invalid while statement', whileNode);\n    }\n\n    const iVariableName = this.getInternalVariableName('safeI');\n    retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n    retArr.push('if (!');\n    this.astGeneric(whileNode.test, retArr);\n    retArr.push(') break;\\n');\n    this.astGeneric(whileNode.body, retArr);\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n  astDoWhileStatement(doWhileNode, retArr) {\n    if (doWhileNode.type !== 'DoWhileStatement') {\n      throw this.astErrorOutput('Invalid while statement', doWhileNode);\n    }\n\n    const iVariableName = this.getInternalVariableName('safeI');\n    retArr.push(`for (int ${iVariableName}=0;${iVariableName}<LOOP_MAX;${iVariableName}++){\\n`);\n    this.astGeneric(doWhileNode.body, retArr);\n    retArr.push('if (!');\n    this.astGeneric(doWhileNode.test, retArr);\n    retArr.push(') break;\\n');\n    retArr.push('}\\n');\n\n    return retArr;\n  }\n\n\n  astAssignmentExpression(assNode, retArr) {\n    if (assNode.operator === '%=') {\n      this.astGeneric(assNode.left, retArr);\n      retArr.push('=');\n      retArr.push('mod(');\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(',');\n      this.astGeneric(assNode.right, retArr);\n      retArr.push(')');\n    } else if (assNode.operator === '**=') {\n      this.astGeneric(assNode.left, retArr);\n      retArr.push('=');\n      retArr.push('pow(');\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(',');\n      this.astGeneric(assNode.right, retArr);\n      retArr.push(')');\n    } else {\n      const leftType = this.getType(assNode.left);\n      const rightType = this.getType(assNode.right);\n      this.astGeneric(assNode.left, retArr);\n      retArr.push(assNode.operator);\n      if (leftType !== 'Integer' && rightType === 'Integer') {\n        retArr.push('float(');\n        this.astGeneric(assNode.right, retArr);\n        retArr.push(')');\n      } else {\n        this.astGeneric(assNode.right, retArr);\n      }\n      return retArr;\n    }\n  }\n\n  astBlockStatement(bNode, retArr) {\n    if (this.isState('loop-body')) {\n      this.pushState('block-body'); \n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      this.popState('block-body');\n    } else {\n      retArr.push('{\\n');\n      for (let i = 0; i < bNode.body.length; i++) {\n        this.astGeneric(bNode.body[i], retArr);\n      }\n      retArr.push('}\\n');\n    }\n    return retArr;\n  }\n\n  astVariableDeclaration(varDecNode, retArr) {\n    const declarations = varDecNode.declarations;\n    if (!declarations || !declarations[0] || !declarations[0].init) {\n      throw this.astErrorOutput('Unexpected expression', varDecNode);\n    }\n    const result = [];\n    let lastType = null;\n    const declarationSets = [];\n    let declarationSet = [];\n    for (let i = 0; i < declarations.length; i++) {\n      const declaration = declarations[i];\n      const init = declaration.init;\n      const info = this.getDeclaration(declaration.id);\n      const actualType = this.getType(declaration.init);\n      let type = actualType;\n      if (type === 'LiteralInteger') {\n        if (info.suggestedType === 'Integer') {\n          type = 'Integer';\n        } else {\n          type = 'Number';\n        }\n      }\n      const markupType = typeMap[type];\n      if (!markupType) {\n        throw this.astErrorOutput(`Markup type ${ markupType } not handled`, varDecNode);\n      }\n      const declarationResult = [];\n      if (actualType === 'Integer' && type === 'Integer') {\n        info.valueType = 'Number';\n        if (i === 0 || lastType === null) {\n          declarationResult.push('float ');\n        } else if (type !== lastType) {\n          throw new Error('Unhandled declaration');\n        }\n        lastType = type;\n        declarationResult.push(`user_${utils.sanitizeName(declaration.id.name)}=`);\n        declarationResult.push('float(');\n        this.astGeneric(init, declarationResult);\n        declarationResult.push(')');\n      } else {\n        info.valueType = type;\n        if (i === 0 || lastType === null) {\n          declarationResult.push(`${markupType} `);\n        } else if (type !== lastType) {\n          declarationSets.push(declarationSet.join(','));\n          declarationSet = [];\n          declarationResult.push(`${markupType} `);\n        }\n        lastType = type;\n        declarationResult.push(`user_${utils.sanitizeName(declaration.id.name)}=`);\n        if (actualType === 'Number' && type === 'Integer') {\n          if (init.left && init.left.type === 'Literal') {\n            this.astGeneric(init, declarationResult);\n          } else {\n            declarationResult.push('int(');\n            this.astGeneric(init, declarationResult);\n            declarationResult.push(')');\n          }\n        } else if (actualType === 'LiteralInteger' && type === 'Integer') {\n          this.castLiteralToInteger(init, declarationResult);\n        } else {\n          this.astGeneric(init, declarationResult);\n        }\n      }\n      declarationSet.push(declarationResult.join(''));\n    }\n\n    if (declarationSet.length > 0) {\n      declarationSets.push(declarationSet.join(','));\n    }\n\n    result.push(declarationSets.join(';'));\n\n    retArr.push(result.join(''));\n    retArr.push(';');\n    return retArr;\n  }\n\n  astIfStatement(ifNode, retArr) {\n    retArr.push('if (');\n    this.astGeneric(ifNode.test, retArr);\n    retArr.push(')');\n    if (ifNode.consequent.type === 'BlockStatement') {\n      this.astGeneric(ifNode.consequent, retArr);\n    } else {\n      retArr.push(' {\\n');\n      this.astGeneric(ifNode.consequent, retArr);\n      retArr.push('\\n}\\n');\n    }\n\n    if (ifNode.alternate) {\n      retArr.push('else ');\n      if (ifNode.alternate.type === 'BlockStatement' || ifNode.alternate.type === 'IfStatement') {\n        this.astGeneric(ifNode.alternate, retArr);\n      } else {\n        retArr.push(' {\\n');\n        this.astGeneric(ifNode.alternate, retArr);\n        retArr.push('\\n}\\n');\n      }\n    }\n    return retArr;\n  }\n\n  astSwitchStatement(ast, retArr) {\n    if (ast.type !== 'SwitchStatement') {\n      throw this.astErrorOutput('Invalid switch statement', ast);\n    }\n    const { discriminant, cases } = ast;\n    const type = this.getType(discriminant);\n    const varName = `switchDiscriminant${this.astKey(ast, '_')}`;\n    switch (type) {\n      case 'Float':\n      case 'Number':\n        retArr.push(`float ${varName} = `);\n        this.astGeneric(discriminant, retArr);\n        retArr.push(';\\n');\n        break;\n      case 'Integer':\n        retArr.push(`int ${varName} = `);\n        this.astGeneric(discriminant, retArr);\n        retArr.push(';\\n');\n        break;\n    }\n    if (cases.length === 1 && !cases[0].test) {\n      this.astGeneric(cases[0].consequent, retArr);\n      return retArr;\n    }\n\n    let fallingThrough = false;\n    let defaultResult = [];\n    let movingDefaultToEnd = false;\n    let pastFirstIf = false;\n    for (let i = 0; i < cases.length; i++) {\n      if (!cases[i].test) {\n        if (cases.length > i + 1) {\n          movingDefaultToEnd = true;\n          this.astGeneric(cases[i].consequent, defaultResult);\n          continue;\n        } else {\n          retArr.push(' else {\\n');\n        }\n      } else {\n        if (i === 0 || !pastFirstIf) {\n          pastFirstIf = true;\n          retArr.push(`if (${varName} == `);\n        } else {\n          if (fallingThrough) {\n            retArr.push(`${varName} == `);\n            fallingThrough = false;\n          } else {\n            retArr.push(` else if (${varName} == `);\n          }\n        }\n        if (type === 'Integer') {\n          const testType = this.getType(cases[i].test);\n          switch (testType) {\n            case 'Number':\n            case 'Float':\n              this.castValueToInteger(cases[i].test, retArr);\n              break;\n            case 'LiteralInteger':\n              this.castLiteralToInteger(cases[i].test, retArr);\n              break;\n          }\n        } else if (type === 'Float') {\n          const testType = this.getType(cases[i].test);\n          switch (testType) {\n            case 'LiteralInteger':\n              this.castLiteralToFloat(cases[i].test, retArr);\n              break;\n            case 'Integer':\n              this.castValueToFloat(cases[i].test, retArr);\n              break;\n          }\n        } else {\n          throw new Error('unhanlded');\n        }\n        if (!cases[i].consequent || cases[i].consequent.length === 0) {\n          fallingThrough = true;\n          retArr.push(' || ');\n          continue;\n        }\n        retArr.push(`) {\\n`);\n      }\n      this.astGeneric(cases[i].consequent, retArr);\n      retArr.push('\\n}');\n    }\n    if (movingDefaultToEnd) {\n      retArr.push(' else {');\n      retArr.push(defaultResult.join(''));\n      retArr.push('}');\n    }\n    return retArr;\n  }\n\n  astThisExpression(tNode, retArr) {\n    retArr.push('this');\n    return retArr;\n  }\n\n  astMemberExpression(mNode, retArr) {\n    const {\n      property,\n      name,\n      signature,\n      origin,\n      type,\n      xProperty,\n      yProperty,\n      zProperty\n    } = this.getMemberExpressionDetails(mNode);\n    switch (signature) {\n      case 'value.thread.value':\n      case 'this.thread.value':\n        if (name !== 'x' && name !== 'y' && name !== 'z') {\n          throw this.astErrorOutput('Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`', mNode);\n        }\n        retArr.push(`threadId.${name}`);\n        return retArr;\n      case 'this.output.value':\n        if (this.dynamicOutput) {\n          switch (name) {\n            case 'x':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.x)');\n              } else {\n                retArr.push('uOutputDim.x');\n              }\n              break;\n            case 'y':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.y)');\n              } else {\n                retArr.push('uOutputDim.y');\n              }\n              break;\n            case 'z':\n              if (this.isState('casting-to-float')) {\n                retArr.push('float(uOutputDim.z)');\n              } else {\n                retArr.push('uOutputDim.z');\n              }\n              break;\n            default:\n              throw this.astErrorOutput('Unexpected expression', mNode);\n          }\n        } else {\n          switch (name) {\n            case 'x':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[0]);\n              } else {\n                retArr.push(this.output[0], '.0');\n              }\n              break;\n            case 'y':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[1]);\n              } else {\n                retArr.push(this.output[1], '.0');\n              }\n              break;\n            case 'z':\n              if (this.isState('casting-to-integer')) {\n                retArr.push(this.output[2]);\n              } else {\n                retArr.push(this.output[2], '.0');\n              }\n              break;\n            default:\n              throw this.astErrorOutput('Unexpected expression', mNode);\n          }\n        }\n        return retArr;\n      case 'value':\n        throw this.astErrorOutput('Unexpected expression', mNode);\n      case 'value[]':\n      case 'value[][]':\n      case 'value[][][]':\n      case 'value[][][][]':\n      case 'value.value':\n        if (origin === 'Math') {\n          retArr.push(Math[name]);\n          return retArr;\n        }\n        const cleanName = utils.sanitizeName(name);\n        switch (property) {\n          case 'r':\n            retArr.push(`user_${ cleanName }.r`);\n            return retArr;\n          case 'g':\n            retArr.push(`user_${ cleanName }.g`);\n            return retArr;\n          case 'b':\n            retArr.push(`user_${ cleanName }.b`);\n            return retArr;\n          case 'a':\n            retArr.push(`user_${ cleanName }.a`);\n            return retArr;\n        }\n        break;\n      case 'this.constants.value':\n        if (typeof xProperty === 'undefined') {\n          switch (type) {\n            case 'Array(2)':\n            case 'Array(3)':\n            case 'Array(4)':\n              retArr.push(`constants_${ utils.sanitizeName(name) }`);\n              return retArr;\n          }\n        }\n        case 'this.constants.value[]':\n        case 'this.constants.value[][]':\n        case 'this.constants.value[][][]':\n        case 'this.constants.value[][][][]':\n          break;\n        case 'fn()[]':\n          this.astCallExpression(mNode.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(property));\n          retArr.push(']');\n          return retArr;\n        case '[][]':\n          this.astArrayExpression(mNode.object, retArr);\n          retArr.push('[');\n          retArr.push(this.memberExpressionPropertyMarkup(property));\n          retArr.push(']');\n          return retArr;\n        case 'value.value[]':\n        case 'value.value[][]':\n          if (this.removeIstanbulCoverage) {\n            return retArr;\n          }\n          default:\n            throw this.astErrorOutput('Unexpected expression', mNode);\n    }\n\n    if (mNode.computed === false) {\n      switch (type) {\n        case 'Number':\n        case 'Integer':\n        case 'Float':\n        case 'Boolean':\n          retArr.push(`${origin}_${utils.sanitizeName(name)}`);\n          return retArr;\n      }\n    }\n\n    const markupName = `${origin}_${utils.sanitizeName(name)}`;\n\n    switch (type) {\n      case 'Array(2)':\n      case 'Array(3)':\n      case 'Array(4)':\n        this.astGeneric(mNode.object, retArr);\n        retArr.push('[');\n        retArr.push(this.memberExpressionPropertyMarkup(xProperty));\n        retArr.push(']');\n        break;\n      case 'HTMLImageArray':\n        retArr.push(`getImage3D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(1)':\n        retArr.push(`getFloatFromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(2)':\n      case 'Array2D(2)':\n      case 'Array3D(2)':\n        retArr.push(`getMemoryOptimizedVec2(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(2)':\n        retArr.push(`getVec2FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(3)':\n      case 'Array2D(3)':\n      case 'Array3D(3)':\n        retArr.push(`getMemoryOptimizedVec3(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(3)':\n        retArr.push(`getVec3FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'Array1D(4)':\n      case 'Array2D(4)':\n      case 'Array3D(4)':\n        retArr.push(`getMemoryOptimizedVec4(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'ArrayTexture(4)':\n      case 'HTMLCanvas':\n      case 'HTMLImage':\n      case 'HTMLVideo':\n        retArr.push(`getVec4FromSampler2D(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      case 'NumberTexture':\n      case 'Array':\n      case 'Array2D':\n      case 'Array3D':\n      case 'Array4D':\n      case 'Input':\n      case 'Number':\n      case 'Float':\n      case 'Integer':\n        if (this.precision === 'single') {\n          retArr.push(`getMemoryOptimized32(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n          this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n          retArr.push(')');\n        } else {\n          const bitRatio = (origin === 'user' ?\n            this.lookupFunctionArgumentBitRatio(this.name, name) :\n            this.constantBitRatios[name]\n          );\n          switch (bitRatio) {\n            case 1:\n              retArr.push(`get8(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            case 2:\n              retArr.push(`get16(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            case 4:\n            case 0:\n              retArr.push(`get32(${markupName}, ${markupName}Size, ${markupName}Dim, `);\n              break;\n            default:\n              throw new Error(`unhandled bit ratio of ${bitRatio}`);\n          }\n          this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n          retArr.push(')');\n        }\n        break;\n      case 'MemoryOptimizedNumberTexture':\n        retArr.push(`getMemoryOptimized32(${ markupName }, ${ markupName }Size, ${ markupName }Dim, `);\n        this.memberExpressionXYZ(xProperty, yProperty, zProperty, retArr);\n        retArr.push(')');\n        break;\n      default:\n        throw new Error(`unhandled member expression \"${ type }\"`);\n    }\n    return retArr;\n  }\n\n  astCallExpression(ast, retArr) {\n    if (!ast.callee) {\n      throw this.astErrorOutput('Unknown CallExpression', ast);\n    }\n\n    let functionName = null;\n    const isMathFunction = this.isAstMathFunction(ast);\n\n    if (isMathFunction || (ast.callee.object && ast.callee.object.type === 'ThisExpression')) {\n      functionName = ast.callee.property.name;\n    }\n    else if (ast.callee.type === 'SequenceExpression' && ast.callee.expressions[0].type === 'Literal' && !isNaN(ast.callee.expressions[0].raw)) {\n      functionName = ast.callee.expressions[1].property.name;\n    } else {\n      functionName = ast.callee.name;\n    }\n\n    if (!functionName) {\n      throw this.astErrorOutput(`Unhandled function, couldn't find name`, ast);\n    }\n\n    switch (functionName) {\n      case 'pow':\n        functionName = '_pow';\n        break;\n      case 'round':\n        functionName = '_round';\n        break;\n    }\n\n    if (this.calledFunctions.indexOf(functionName) < 0) {\n      this.calledFunctions.push(functionName);\n    }\n\n    if (functionName === 'random' && this.plugins && this.plugins.length > 0) {\n      for (let i = 0; i < this.plugins.length; i++) {\n        const plugin = this.plugins[i];\n        if (plugin.functionMatch === 'Math.random()' && plugin.functionReplace) {\n          retArr.push(plugin.functionReplace);\n          return retArr;\n        }\n      }\n    }\n\n    if (this.onFunctionCall) {\n      this.onFunctionCall(this.name, functionName, ast.arguments);\n    }\n\n    retArr.push(functionName);\n\n    retArr.push('(');\n\n    if (isMathFunction) {\n      for (let i = 0; i < ast.arguments.length; ++i) {\n        const argument = ast.arguments[i];\n        const argumentType = this.getType(argument);\n        if (i > 0) {\n          retArr.push(', ');\n        }\n\n        switch (argumentType) {\n          case 'Integer':\n            this.castValueToFloat(argument, retArr);\n            break;\n          default:\n            this.astGeneric(argument, retArr);\n            break;\n        }\n      }\n    } else {\n      const targetTypes = this.lookupFunctionArgumentTypes(functionName) || [];\n      for (let i = 0; i < ast.arguments.length; ++i) {\n        const argument = ast.arguments[i];\n        let targetType = targetTypes[i];\n        if (i > 0) {\n          retArr.push(', ');\n        }\n        const argumentType = this.getType(argument);\n        if (!targetType) {\n          this.triggerImplyArgumentType(functionName, i, argumentType, this);\n          targetType = argumentType;\n        }\n        switch (argumentType) {\n          case 'Boolean':\n            this.astGeneric(argument, retArr);\n            continue;\n          case 'Number':\n          case 'Float':\n            if (targetType === 'Integer') {\n              retArr.push('int(');\n              this.astGeneric(argument, retArr);\n              retArr.push(')');\n              continue;\n            } else if (targetType === 'Number' || targetType === 'Float') {\n              this.astGeneric(argument, retArr);\n              continue;\n            } else if (targetType === 'LiteralInteger') {\n              this.castLiteralToFloat(argument, retArr);\n              continue;\n            }\n            break;\n          case 'Integer':\n            if (targetType === 'Number' || targetType === 'Float') {\n              retArr.push('float(');\n              this.astGeneric(argument, retArr);\n              retArr.push(')');\n              continue;\n            } else if (targetType === 'Integer') {\n              this.astGeneric(argument, retArr);\n              continue;\n            }\n            break;\n          case 'LiteralInteger':\n            if (targetType === 'Integer') {\n              this.castLiteralToInteger(argument, retArr);\n              continue;\n            } else if (targetType === 'Number' || targetType === 'Float') {\n              this.castLiteralToFloat(argument, retArr);\n              continue;\n            } else if (targetType === 'LiteralInteger') {\n              this.astGeneric(argument, retArr);\n              continue;\n            }\n            break;\n          case 'Array(2)':\n          case 'Array(3)':\n          case 'Array(4)':\n            if (targetType === argumentType) {\n              if (argument.type === 'Identifier') {\n                retArr.push(`user_${utils.sanitizeName(argument.name)}`);\n              } else if (argument.type === 'ArrayExpression' || argument.type === 'MemberExpression' || argument.type === 'CallExpression') {\n                this.astGeneric(argument, retArr);\n              } else {\n                throw this.astErrorOutput(`Unhandled argument type ${ argument.type }`, ast);\n              }\n              continue;\n            }\n            break;\n          case 'HTMLCanvas':\n          case 'HTMLImage':\n          case 'HTMLImageArray':\n          case 'HTMLVideo':\n          case 'ArrayTexture(1)':\n          case 'ArrayTexture(2)':\n          case 'ArrayTexture(3)':\n          case 'ArrayTexture(4)':\n          case 'Array':\n          case 'Input':\n            if (targetType === argumentType) {\n              if (argument.type !== 'Identifier') throw this.astErrorOutput(`Unhandled argument type ${ argument.type }`, ast);\n              this.triggerImplyArgumentBitRatio(this.name, argument.name, functionName, i);\n              const name = utils.sanitizeName(argument.name);\n              retArr.push(`user_${name},user_${name}Size,user_${name}Dim`);\n              continue;\n            }\n            break;\n        }\n        throw this.astErrorOutput(`Unhandled argument combination of ${ argumentType } and ${ targetType } for argument named \"${ argument.name }\"`, ast);\n      }\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  astArrayExpression(arrNode, retArr) {\n    const arrLen = arrNode.elements.length;\n\n    retArr.push('vec' + arrLen + '(');\n    for (let i = 0; i < arrLen; ++i) {\n      if (i > 0) {\n        retArr.push(', ');\n      }\n      const subNode = arrNode.elements[i];\n      this.astGeneric(subNode, retArr)\n    }\n    retArr.push(')');\n\n    return retArr;\n  }\n\n  memberExpressionXYZ(x, y, z, retArr) {\n    if (z) {\n      retArr.push(this.memberExpressionPropertyMarkup(z), ', ');\n    } else {\n      retArr.push('0, ');\n    }\n    if (y) {\n      retArr.push(this.memberExpressionPropertyMarkup(y), ', ');\n    } else {\n      retArr.push('0, ');\n    }\n    retArr.push(this.memberExpressionPropertyMarkup(x));\n    return retArr;\n  }\n\n  memberExpressionPropertyMarkup(property) {\n    if (!property) {\n      throw new Error('Property not set');\n    }\n    const type = this.getType(property);\n    const result = [];\n    switch (type) {\n      case 'Number':\n      case 'Float':\n        this.castValueToInteger(property, result);\n        break;\n      case 'LiteralInteger':\n        this.castLiteralToInteger(property, result);\n        break;\n      default:\n        this.astGeneric(property, result);\n    }\n    return result.join('');\n  }\n}\n\nconst typeMap = {\n  'Array': 'sampler2D',\n  'Array(2)': 'vec2',\n  'Array(3)': 'vec3',\n  'Array(4)': 'vec4',\n  'Array2D': 'sampler2D',\n  'Array3D': 'sampler2D',\n  'Boolean': 'bool',\n  'Float': 'float',\n  'Input': 'sampler2D',\n  'Integer': 'int',\n  'Number': 'float',\n  'LiteralInteger': 'float',\n  'NumberTexture': 'sampler2D',\n  'MemoryOptimizedNumberTexture': 'sampler2D',\n  'ArrayTexture(1)': 'sampler2D',\n  'ArrayTexture(2)': 'sampler2D',\n  'ArrayTexture(3)': 'sampler2D',\n  'ArrayTexture(4)': 'sampler2D',\n  'HTMLVideo': 'sampler2D',\n  'HTMLCanvas': 'sampler2D',\n  'HTMLImage': 'sampler2D',\n  'HTMLImageArray': 'sampler2DArray',\n};\n\nconst operatorMap = {\n  '===': '==',\n  '!==': '!='\n};\n\nmodule.exports = {\n  WebGLFunctionNode\n};\n},{\"../../utils\":114,\"../function-node\":10}],39:[function(require,module,exports){\nconst { WebGLKernelValueBoolean } = require('./kernel-value/boolean');\nconst { WebGLKernelValueFloat } = require('./kernel-value/float');\nconst { WebGLKernelValueInteger } = require('./kernel-value/integer');\n\nconst { WebGLKernelValueHTMLImage } = require('./kernel-value/html-image');\nconst { WebGLKernelValueDynamicHTMLImage } = require('./kernel-value/dynamic-html-image');\n\nconst { WebGLKernelValueHTMLVideo } = require('./kernel-value/html-video');\nconst { WebGLKernelValueDynamicHTMLVideo } = require('./kernel-value/dynamic-html-video');\n\nconst { WebGLKernelValueSingleInput } = require('./kernel-value/single-input');\nconst { WebGLKernelValueDynamicSingleInput } = require('./kernel-value/dynamic-single-input');\n\nconst { WebGLKernelValueUnsignedInput } = require('./kernel-value/unsigned-input');\nconst { WebGLKernelValueDynamicUnsignedInput } = require('./kernel-value/dynamic-unsigned-input');\n\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('./kernel-value/memory-optimized-number-texture');\nconst { WebGLKernelValueDynamicMemoryOptimizedNumberTexture } = require('./kernel-value/dynamic-memory-optimized-number-texture');\n\nconst { WebGLKernelValueNumberTexture } = require('./kernel-value/number-texture');\nconst { WebGLKernelValueDynamicNumberTexture } = require('./kernel-value/dynamic-number-texture');\n\nconst { WebGLKernelValueSingleArray } = require('./kernel-value/single-array');\nconst { WebGLKernelValueDynamicSingleArray } = require('./kernel-value/dynamic-single-array');\n\nconst { WebGLKernelValueSingleArray1DI } = require('./kernel-value/single-array1d-i');\nconst { WebGLKernelValueDynamicSingleArray1DI } = require('./kernel-value/dynamic-single-array1d-i');\n\nconst { WebGLKernelValueSingleArray2DI } = require('./kernel-value/single-array2d-i');\nconst { WebGLKernelValueDynamicSingleArray2DI } = require('./kernel-value/dynamic-single-array2d-i');\n\nconst { WebGLKernelValueSingleArray3DI } = require('./kernel-value/single-array3d-i');\nconst { WebGLKernelValueDynamicSingleArray3DI } = require('./kernel-value/dynamic-single-array3d-i');\n\nconst { WebGLKernelValueSingleArray2 } = require('./kernel-value/single-array2');\nconst { WebGLKernelValueSingleArray3 } = require('./kernel-value/single-array3');\nconst { WebGLKernelValueSingleArray4 } = require('./kernel-value/single-array4');\n\nconst { WebGLKernelValueUnsignedArray } = require('./kernel-value/unsigned-array');\nconst { WebGLKernelValueDynamicUnsignedArray } = require('./kernel-value/dynamic-unsigned-array');\n\nconst kernelValueMaps = {\n  unsigned: {\n    dynamic: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Integer': WebGLKernelValueInteger,\n      'Float': WebGLKernelValueFloat,\n      'Array': WebGLKernelValueDynamicUnsignedArray,\n      'Array(2)': false,\n      'Array(3)': false,\n      'Array(4)': false,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGLKernelValueDynamicUnsignedInput,\n      'NumberTexture': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImage': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Float': WebGLKernelValueFloat,\n      'Integer': WebGLKernelValueInteger,\n      'Array': WebGLKernelValueUnsignedArray,\n      'Array(2)': false,\n      'Array(3)': false,\n      'Array(4)': false,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGLKernelValueUnsignedInput,\n      'NumberTexture': WebGLKernelValueNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueHTMLImage,\n      'HTMLImage': WebGLKernelValueHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueHTMLVideo,\n    }\n  },\n  single: {\n    dynamic: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Integer': WebGLKernelValueInteger,\n      'Float': WebGLKernelValueFloat,\n      'Array': WebGLKernelValueDynamicSingleArray,\n      'Array(2)': WebGLKernelValueSingleArray2,\n      'Array(3)': WebGLKernelValueSingleArray3,\n      'Array(4)': WebGLKernelValueSingleArray4,\n      'Array1D(2)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array1D(3)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array1D(4)': WebGLKernelValueDynamicSingleArray1DI,\n      'Array2D(2)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array2D(3)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array2D(4)': WebGLKernelValueDynamicSingleArray2DI,\n      'Array3D(2)': WebGLKernelValueDynamicSingleArray3DI,\n      'Array3D(3)': WebGLKernelValueDynamicSingleArray3DI,\n      'Array3D(4)': WebGLKernelValueDynamicSingleArray3DI,\n      'Input': WebGLKernelValueDynamicSingleInput,\n      'NumberTexture': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImage': WebGLKernelValueDynamicHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGLKernelValueBoolean,\n      'Float': WebGLKernelValueFloat,\n      'Integer': WebGLKernelValueInteger,\n      'Array': WebGLKernelValueSingleArray,\n      'Array(2)': WebGLKernelValueSingleArray2,\n      'Array(3)': WebGLKernelValueSingleArray3,\n      'Array(4)': WebGLKernelValueSingleArray4,\n      'Array1D(2)': WebGLKernelValueSingleArray1DI,\n      'Array1D(3)': WebGLKernelValueSingleArray1DI,\n      'Array1D(4)': WebGLKernelValueSingleArray1DI,\n      'Array2D(2)': WebGLKernelValueSingleArray2DI,\n      'Array2D(3)': WebGLKernelValueSingleArray2DI,\n      'Array2D(4)': WebGLKernelValueSingleArray2DI,\n      'Array3D(2)': WebGLKernelValueSingleArray3DI,\n      'Array3D(3)': WebGLKernelValueSingleArray3DI,\n      'Array3D(4)': WebGLKernelValueSingleArray3DI,\n      'Input': WebGLKernelValueSingleInput,\n      'NumberTexture': WebGLKernelValueNumberTexture,\n      'ArrayTexture(1)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(2)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(3)': WebGLKernelValueNumberTexture,\n      'ArrayTexture(4)': WebGLKernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGLKernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGLKernelValueHTMLImage,\n      'HTMLImage': WebGLKernelValueHTMLImage,\n      'HTMLImageArray': false,\n      'HTMLVideo': WebGLKernelValueHTMLVideo,\n    }\n  },\n};\n\nfunction lookupKernelValueType(type, dynamic, precision, value) {\n  if (!type) {\n    throw new Error('type missing');\n  }\n  if (!dynamic) {\n    throw new Error('dynamic missing');\n  }\n  if (!precision) {\n    throw new Error('precision missing');\n  }\n  if (value.type) {\n    type = value.type;\n  }\n  const types = kernelValueMaps[precision][dynamic];\n  if (types[type] === false) {\n    return null;\n  } else if (types[type] === undefined) {\n    throw new Error(`Could not find a KernelValue for ${ type }`);\n  }\n  return types[type];\n}\n\nmodule.exports = {\n  lookupKernelValueType,\n  kernelValueMaps,\n};\n},{\"./kernel-value/boolean\":41,\"./kernel-value/dynamic-html-image\":42,\"./kernel-value/dynamic-html-video\":43,\"./kernel-value/dynamic-memory-optimized-number-texture\":44,\"./kernel-value/dynamic-number-texture\":45,\"./kernel-value/dynamic-single-array\":46,\"./kernel-value/dynamic-single-array1d-i\":47,\"./kernel-value/dynamic-single-array2d-i\":48,\"./kernel-value/dynamic-single-array3d-i\":49,\"./kernel-value/dynamic-single-input\":50,\"./kernel-value/dynamic-unsigned-array\":51,\"./kernel-value/dynamic-unsigned-input\":52,\"./kernel-value/float\":53,\"./kernel-value/html-image\":54,\"./kernel-value/html-video\":55,\"./kernel-value/integer\":57,\"./kernel-value/memory-optimized-number-texture\":58,\"./kernel-value/number-texture\":59,\"./kernel-value/single-array\":60,\"./kernel-value/single-array1d-i\":61,\"./kernel-value/single-array2\":62,\"./kernel-value/single-array2d-i\":63,\"./kernel-value/single-array3\":64,\"./kernel-value/single-array3d-i\":65,\"./kernel-value/single-array4\":66,\"./kernel-value/single-input\":67,\"./kernel-value/unsigned-array\":68,\"./kernel-value/unsigned-input\":69}],40:[function(require,module,exports){\nconst { WebGLKernelValue } = require('./index');\nconst { Input } = require('../../../input');\n\nclass WebGLKernelArray extends WebGLKernelValue {\n  checkSize(width, height) {\n    if (!this.kernel.validate) return;\n    const { maxTextureSize } = this.kernel.constructor.features;\n    if (width > maxTextureSize || height > maxTextureSize) {\n      if (width > height) {\n        throw new Error(`Argument texture width of ${width} larger than maximum size of ${maxTextureSize} for your GPU`);\n      } else if (width < height) {\n        throw new Error(`Argument texture height of ${height} larger than maximum size of ${maxTextureSize} for your GPU`);\n      } else {\n        throw new Error(`Argument texture height and width of ${height} larger than maximum size of ${maxTextureSize} for your GPU`);\n      }\n    }\n  }\n\n  setup() {\n    this.requestTexture();\n    this.setupTexture();\n    this.defineTexture();\n  }\n\n  requestTexture() {\n    this.texture = this.onRequestTexture();\n  }\n\n  defineTexture() {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  }\n\n  setupTexture() {\n    this.contextHandle = this.onRequestContextHandle();\n    this.index = this.onRequestIndex();\n    this.dimensionsId = this.id + 'Dim';\n    this.sizeId = this.id + 'Size';\n  }\n\n  getBitRatio(value) {\n    if (Array.isArray(value[0])) {\n      return this.getBitRatio(value[0]);\n    } else if (value.constructor === Input) {\n      return this.getBitRatio(value.value);\n    }\n    switch (value.constructor) {\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Int8Array:\n        return 1;\n      case Uint16Array:\n      case Int16Array:\n        return 2;\n      case Float32Array:\n      case Int32Array:\n      default:\n        return 4;\n    }\n  }\n\n  destroy() {\n    if (this.prevArg) {\n      this.prevArg.delete();\n    }\n    this.context.deleteTexture(this.texture);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelArray\n};\n},{\"../../../input\":110,\"./index\":56}],41:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueBoolean extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const bool ${this.id} = ${value};\\n`;\n    }\n    return `uniform bool ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueBoolean\n};\n},{\"../../../utils\":114,\"./index\":56}],42:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueHTMLImage } = require('./html-image');\n\nclass WebGLKernelValueDynamicHTMLImage extends WebGLKernelValueHTMLImage {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    const { width, height } = value;\n    this.checkSize(width, height);\n    this.dimensions = [width, height, 1];\n    this.textureSize = [width, height];\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicHTMLImage\n};\n},{\"../../../utils\":114,\"./html-image\":54}],43:[function(require,module,exports){\nconst { WebGLKernelValueDynamicHTMLImage } = require('./dynamic-html-image');\n\nclass WebGLKernelValueDynamicHTMLVideo extends WebGLKernelValueDynamicHTMLImage {}\n\nmodule.exports = {\n  WebGLKernelValueDynamicHTMLVideo\n};\n},{\"./dynamic-html-image\":42}],44:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('./memory-optimized-number-texture');\n\nclass WebGLKernelValueDynamicMemoryOptimizedNumberTexture extends WebGLKernelValueMemoryOptimizedNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    this.dimensions = inputTexture.dimensions;\n    this.checkSize(inputTexture.size[0], inputTexture.size[1]);\n    this.textureSize = inputTexture.size;\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(inputTexture);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"./memory-optimized-number-texture\":58}],45:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueNumberTexture } = require('./number-texture');\n\nclass WebGLKernelValueDynamicNumberTexture extends WebGLKernelValueNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = value.dimensions;\n    this.checkSize(value.size[0], value.size[1]);\n    this.textureSize = value.size;\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicNumberTexture\n};\n},{\"../../../utils\":114,\"./number-texture\":59}],46:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray } = require('./single-array');\n\nclass WebGLKernelValueDynamicSingleArray extends WebGLKernelValueSingleArray {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray\n};\n},{\"../../../utils\":114,\"./single-array\":60}],47:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray1DI } = require('./single-array1d-i');\n\nclass WebGLKernelValueDynamicSingleArray1DI extends WebGLKernelValueSingleArray1DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray1DI\n};\n},{\"../../../utils\":114,\"./single-array1d-i\":61}],48:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray2DI } = require('./single-array2d-i');\n\nclass WebGLKernelValueDynamicSingleArray2DI extends WebGLKernelValueSingleArray2DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray2DI\n};\n},{\"../../../utils\":114,\"./single-array2d-i\":63}],49:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray3DI } = require('./single-array3d-i');\n\nclass WebGLKernelValueDynamicSingleArray3DI extends WebGLKernelValueSingleArray3DI {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleArray3DI\n};\n},{\"../../../utils\":114,\"./single-array3d-i\":65}],50:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleInput } = require('./single-input');\n\nclass WebGLKernelValueDynamicSingleInput extends WebGLKernelValueSingleInput {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicSingleInput\n};\n},{\"../../../utils\":114,\"./single-input\":67}],51:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedArray } = require('./unsigned-array');\n\nclass WebGLKernelValueDynamicUnsignedArray extends WebGLKernelValueUnsignedArray {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    const Type = this.getTransferArrayType(value);\n    this.preUploadValue = new Type(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicUnsignedArray\n};\n},{\"../../../utils\":114,\"./unsigned-array\":68}],52:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedInput } = require('./unsigned-input');\n\nclass WebGLKernelValueDynamicUnsignedInput extends WebGLKernelValueUnsignedInput {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    const Type = this.getTransferArrayType(value.value);\n    this.preUploadValue = new Type(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueDynamicUnsignedInput\n};\n},{\"../../../utils\":114,\"./unsigned-input\":69}],53:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueFloat extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      if (Number.isInteger(value)) {\n        return `const float ${this.id} = ${value}.0;\\n`;\n      }\n      return `const float ${this.id} = ${value};\\n`;\n    }\n    return `uniform float ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1f(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueFloat\n};\n},{\"../../../utils\":114,\"./index\":56}],54:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueHTMLImage extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const { width, height } = value;\n    this.checkSize(width, height);\n    this.dimensions = [width, height, 1];\n    this.textureSize = [width, height];\n    this.uploadValue = value;\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputImage) {\n    if (inputImage.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputImage.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue = inputImage);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueHTMLImage\n};\n},{\"../../../utils\":114,\"./array\":40}],55:[function(require,module,exports){\nconst { WebGLKernelValueHTMLImage } = require('./html-image');\n\nclass WebGLKernelValueHTMLVideo extends WebGLKernelValueHTMLImage {}\n\nmodule.exports = {\n  WebGLKernelValueHTMLVideo\n};\n},{\"./html-image\":54}],56:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { KernelValue } = require('../../kernel-value');\n\nclass WebGLKernelValue extends KernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.dimensionsId = null;\n    this.sizeId = null;\n    this.initialValueConstructor = value.constructor;\n    this.onRequestTexture = settings.onRequestTexture;\n    this.onRequestIndex = settings.onRequestIndex;\n    this.uploadValue = null;\n    this.textureSize = null;\n    this.bitRatio = null;\n    this.prevArg = null;\n  }\n\n  get id() {\n    return `${this.origin}_${utils.sanitizeName(this.name)}`;\n  }\n\n  setup() {}\n\n  getTransferArrayType(value) {\n    if (Array.isArray(value[0])) {\n      return this.getTransferArrayType(value[0]);\n    }\n    switch (value.constructor) {\n      case Array:\n      case Int32Array:\n      case Int16Array:\n      case Int8Array:\n        return Float32Array;\n      case Uint8ClampedArray:\n      case Uint8Array:\n      case Uint16Array:\n      case Uint32Array:\n      case Float32Array:\n      case Float64Array:\n        return value.constructor;\n    }\n    console.warn('Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros');\n    return value.constructor;\n  }\n\n  getStringValueHandler() {\n    throw new Error(`\"getStringValueHandler\" not implemented on ${this.constructor.name}`);\n  }\n\n  getVariablePrecisionString() {\n    return this.kernel.getVariablePrecisionString(this.textureSize || undefined, this.tactic || undefined);\n  }\n\n  destroy() {}\n}\n\nmodule.exports = {\n  WebGLKernelValue\n};\n},{\"../../../utils\":114,\"../../kernel-value\":35}],57:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueInteger extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const int ${this.id} = ${ parseInt(value) };\\n`;\n    }\n    return `uniform int ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueInteger\n};\n},{\"../../../utils\":114,\"./index\":56}],58:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nconst sameError = `Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()`;\n\nclass WebGLKernelValueMemoryOptimizedNumberTexture extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const [width, height] = value.size;\n    this.checkSize(width, height);\n    this.dimensions = value.dimensions;\n    this.textureSize = value.size;\n    this.uploadValue = value.texture;\n    this.forceUploadEachRun = true;\n  }\n\n  setup() {\n    this.setupTexture();\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName}.texture;\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    if (inputTexture.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputTexture.constructor);\n      return;\n    }\n    if (this.checkContext && inputTexture.context !== this.context) {\n      throw new Error(`Value ${this.name} (${this.type}) must be from same context`);\n    }\n\n    const { kernel, context: gl } = this;\n    if (kernel.pipeline) {\n      if (kernel.immutable) {\n        kernel.updateTextureArgumentRefs(this, inputTexture);\n      } else {\n        if (kernel.texture.texture === inputTexture.texture) {\n          throw new Error(sameError);\n        } else if (kernel.mappedTextures) {\n          const { mappedTextures } = kernel;\n          for (let i = 0; i < mappedTextures.length; i++) {\n            if (mappedTextures[i].texture === inputTexture.texture) {\n              throw new Error(sameError);\n            }\n          }\n        }\n      }\n    }\n\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.uploadValue = inputTexture.texture);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueMemoryOptimizedNumberTexture,\n  sameError\n};\n},{\"../../../utils\":114,\"./array\":40}],59:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\nconst { sameError } = require('./memory-optimized-number-texture');\n\nclass WebGLKernelValueNumberTexture extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    const [width, height] = value.size;\n    this.checkSize(width, height);\n    const { size: textureSize, dimensions } = value;\n    this.bitRatio = this.getBitRatio(value);\n    this.dimensions = dimensions;\n    this.textureSize = textureSize;\n    this.uploadValue = value.texture;\n    this.forceUploadEachRun = true;\n  }\n\n  setup() {\n    this.setupTexture();\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName}.texture;\\n`;\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(inputTexture) {\n    if (inputTexture.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(inputTexture.constructor);\n      return;\n    }\n    if (this.checkContext && inputTexture.context !== this.context) {\n      throw new Error(`Value ${this.name} (${this.type}) must be from same context`);\n    }\n\n    const { kernel, context: gl } = this;\n    if (kernel.pipeline) {\n      if (kernel.immutable) {\n        kernel.updateTextureArgumentRefs(this, inputTexture);\n      } else {\n        if (kernel.texture.texture === inputTexture.texture) {\n          throw new Error(sameError);\n        } else if (kernel.mappedTextures) {\n          const { mappedTextures } = kernel;\n          for (let i = 0; i < mappedTextures.length; i++) {\n            if (mappedTextures[i].texture === inputTexture.texture) {\n              throw new Error(sameError);\n            }\n          }\n        }\n      }\n    }\n\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.uploadValue = inputTexture.texture);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueNumberTexture\n};\n},{\"../../../utils\":114,\"./array\":40,\"./memory-optimized-number-texture\":58}],60:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray\n};\n},{\"../../../utils\":114,\"./array\":40}],61:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray1DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], 1, 1]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten2dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray1DI\n};\n},{\"../../../utils\":114,\"./array\":40}],62:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueSingleArray2 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec2 ${this.id} = vec2(${value[0]},${value[1]});\\n`;\n    }\n    return `uniform vec2 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform2fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray2\n};\n},{\"../../../utils\":114,\"./index\":56}],63:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray2DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], valueDimensions[2], 1]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten3dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray2DI\n};\n},{\"../../../utils\":114,\"./array\":40}],64:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueSingleArray3 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec3 ${this.id} = vec3(${value[0]},${value[1]},${value[2]});\\n`;\n    }\n    return `uniform vec3 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform3fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray3\n};\n},{\"../../../utils\":114,\"./index\":56}],65:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleArray3DI extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    this.setShape(value);\n  }\n\n  setShape(value) {\n    const valueDimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(valueDimensions, this.bitRatio);\n    this.dimensions = new Int32Array([valueDimensions[1], valueDimensions[2], valueDimensions[3]]);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flatten4dArrayTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray3DI\n};\n},{\"../../../utils\":114,\"./array\":40}],66:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValue } = require('./index');\n\nclass WebGLKernelValueSingleArray4 extends WebGLKernelValue {\n  constructor(value, settings) {\n    super(value, settings);\n    this.uploadValue = value;\n  }\n  getSource(value) {\n    if (this.origin === 'constants') {\n      return `const vec4 ${this.id} = vec4(${value[0]},${value[1]},${value[2]},${value[3]});\\n`;\n    }\n    return `uniform vec4 ${this.id};\\n`;\n  }\n\n  getStringValueHandler() {\n    if (this.origin === 'constants') return '';\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform4fv(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleArray4\n};\n},{\"../../../utils\":114,\"./index\":56}],67:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueSingleInput extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = 4;\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,\n      `flattenTo(${this.varName}.value, uploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    if (input.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(input.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueSingleInput\n};\n},{\"../../../utils\":114,\"./array\":40}],68:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueUnsignedArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = this.getBitRatio(value);\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.TranserArrayType = this.getTransferArrayType(value);\n    this.preUploadValue = new this.TranserArrayType(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,\n      `const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,\n      `flattenTo(${this.varName}, preUploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.preUploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueUnsignedArray\n};\n},{\"../../../utils\":114,\"./array\":40}],69:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('./array');\n\nclass WebGLKernelValueUnsignedInput extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.bitRatio = this.getBitRatio(value);\n    const [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedPackedTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * (4 / this.bitRatio);\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.TranserArrayType = this.getTransferArrayType(value.value);\n    this.preUploadValue = new this.TranserArrayType(this.uploadArrayLength);\n    this.uploadValue = new Uint8Array(this.preUploadValue.buffer);\n  }\n\n  getStringValueHandler() {\n    return utils.linesToString([\n      `const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,\n      `const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,\n      `flattenTo(${this.varName}.value, preUploadValue_${this.name})`,\n    ]);\n  }\n\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    if (input.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.preUploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGLKernelValueUnsignedInput\n};\n},{\"../../../utils\":114,\"./array\":40}],70:[function(require,module,exports){\nconst { GLKernel } = require('../gl/kernel');\nconst { FunctionBuilder } = require('../function-builder');\nconst { WebGLFunctionNode } = require('./function-node');\nconst { utils } = require('../../utils');\nconst mrud = require('../../plugins/math-random-uniformly-distributed');\nconst { fragmentShader } = require('./fragment-shader');\nconst { vertexShader } = require('./vertex-shader');\nconst { glKernelString } = require('../gl/kernel-string');\nconst { lookupKernelValueType } = require('./kernel-value-maps');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\nlet features = null;\n\nconst plugins = [mrud];\nconst canvases = [];\nconst maxTexSizes = {};\n\n\nclass WebGLKernel extends GLKernel {\n  static get isSupported() {\n    if (isSupported !== null) {\n      return isSupported;\n    }\n    this.setupFeatureChecks();\n    isSupported = this.isContextMatch(testContext);\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    if (typeof document !== 'undefined') {\n      testCanvas = document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      testCanvas = new OffscreenCanvas(0, 0);\n    }\n    if (!testCanvas) return;\n    testContext = testCanvas.getContext('webgl') || testCanvas.getContext('experimental-webgl');\n    if (!testContext || !testContext.getExtension) return;\n    testExtensions = {\n      OES_texture_float: testContext.getExtension('OES_texture_float'),\n      OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: testContext.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: testContext.getExtension('WEBGL_draw_buffers'),\n    };\n    features = this.getFeatures();\n  }\n\n  static isContextMatch(context) {\n    if (typeof WebGLRenderingContext !== 'undefined') {\n      return context instanceof WebGLRenderingContext;\n    }\n    return false;\n  }\n\n  static getIsTextureFloat() {\n    return Boolean(testExtensions.OES_texture_float);\n  }\n\n  static getIsDrawBuffers() {\n    return Boolean(testExtensions.WEBGL_draw_buffers);\n  }\n\n  static getChannelCount() {\n    return testExtensions.WEBGL_draw_buffers ?\n      testContext.getParameter(testExtensions.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL) :\n      1;\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static lookupKernelValueType(type, dynamic, precision, value) {\n    return lookupKernelValueType(type, dynamic, precision, value);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  static get fragmentShader() {\n    return fragmentShader;\n  }\n\n  static get vertexShader() {\n    return vertexShader;\n  }\n\n  constructor(source, settings) {\n    super(source, settings);\n    this.program = null;\n    this.pipeline = settings.pipeline;\n    this.endianness = utils.systemEndianness();\n    this.extensions = {};\n    this.argumentTextureCount = 0;\n    this.constantTextureCount = 0;\n    this.fragShader = null;\n    this.vertShader = null;\n    this.drawBuffersMap = null;\n\n    this.maxTexSize = null;\n    this.onRequestSwitchKernel = null;\n    this.removeIstanbulCoverage = true;\n\n    this.texture = null;\n    this.mappedTextures = null;\n    this.mergeSettings(source.settings || settings);\n\n    this.threadDim = null;\n    this.framebuffer = null;\n    this.buffer = null;\n\n    this.textureCache = [];\n    this.programUniformLocationCache = {};\n    this.uniform1fCache = {};\n    this.uniform1iCache = {};\n    this.uniform2fCache = {};\n    this.uniform2fvCache = {};\n    this.uniform2ivCache = {};\n    this.uniform3fvCache = {};\n    this.uniform3ivCache = {};\n    this.uniform4fvCache = {};\n    this.uniform4ivCache = {};\n  }\n\n  initCanvas() {\n    if (typeof document !== 'undefined') {\n      const canvas = document.createElement('canvas');\n      canvas.width = 2;\n      canvas.height = 2;\n      return canvas;\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      return new OffscreenCanvas(0, 0);\n    }\n  }\n\n  initContext() {\n    const settings = {\n      alpha: false,\n      depth: false,\n      antialias: false\n    };\n    return this.canvas.getContext('webgl', settings) || this.canvas.getContext('experimental-webgl', settings);\n  }\n\n  initPlugins(settings) {\n    const pluginsToUse = [];\n    const { source } = this;\n    if (typeof source === 'string') {\n      for (let i = 0; i < plugins.length; i++) {\n        const plugin = plugins[i];\n        if (source.match(plugin.functionMatch)) {\n          pluginsToUse.push(plugin);\n        }\n      }\n    } else if (typeof source === 'object') {\n      if (settings.pluginNames) { \n        for (let i = 0; i < plugins.length; i++) {\n          const plugin = plugins[i];\n          const usePlugin = settings.pluginNames.some(pluginName => pluginName === plugin.name);\n          if (usePlugin) {\n            pluginsToUse.push(plugin);\n          }\n        }\n      }\n    }\n    return pluginsToUse;\n  }\n\n  initExtensions() {\n    this.extensions = {\n      OES_texture_float: this.context.getExtension('OES_texture_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n      OES_element_index_uint: this.context.getExtension('OES_element_index_uint'),\n      WEBGL_draw_buffers: this.context.getExtension('WEBGL_draw_buffers'),\n      WEBGL_color_buffer_float: this.context.getExtension('WEBGL_color_buffer_float'),\n    };\n  }\n\n  validateSettings(args) {\n    if (!this.validate) {\n      this.texSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, this.output);\n      return;\n    }\n\n    const { features } = this.constructor;\n\n    if (this.optimizeFloatMemory === true && !features.isTextureFloat) {\n      throw new Error('Float textures are not supported');\n    } else if (this.precision === 'single' && !features.isFloatRead) {\n      throw new Error('Single precision not supported');\n    } else if (!this.graphical && this.precision === null && features.isTextureFloat) {\n      this.precision = features.isFloatRead ? 'single' : 'unsigned';\n    }\n\n    if (this.subKernels && this.subKernels.length > 0 && !this.extensions.WEBGL_draw_buffers) {\n      throw new Error('could not instantiate draw buffers extension');\n    }\n\n    if (this.fixIntegerDivisionAccuracy === null) {\n      this.fixIntegerDivisionAccuracy = !features.isIntegerDivisionAccurate;\n    } else if (this.fixIntegerDivisionAccuracy && features.isIntegerDivisionAccurate) {\n      this.fixIntegerDivisionAccuracy = false;\n    }\n\n    this.checkOutput();\n\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      switch (argType) {\n        case 'Array':\n          this.output = utils.getDimensions(argType);\n          break;\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n          this.output = args[0].output;\n          break;\n        default:\n          throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n\n      if (this.precision === 'precision') {\n        this.precision = 'unsigned';\n        console.warn('Cannot use graphical mode and single precision at the same time');\n      }\n\n      this.texSize = utils.clone(this.output);\n      return;\n    } else if (this.precision === null && features.isTextureFloat) {\n      this.precision = 'single';\n    }\n\n    this.texSize = utils.getKernelTextureSize({\n      optimizeFloatMemory: this.optimizeFloatMemory,\n      precision: this.precision,\n    }, this.output);\n\n    this.checkTextureSize();\n  }\n\n  updateMaxTexSize() {\n    const { texSize, canvas } = this;\n    if (this.maxTexSize === null) {\n      let canvasIndex = canvases.indexOf(canvas);\n      if (canvasIndex === -1) {\n        canvasIndex = canvases.length;\n        canvases.push(canvas);\n        maxTexSizes[canvasIndex] = [texSize[0], texSize[1]];\n      }\n      this.maxTexSize = maxTexSizes[canvasIndex];\n    }\n    if (this.maxTexSize[0] < texSize[0]) {\n      this.maxTexSize[0] = texSize[0];\n    }\n    if (this.maxTexSize[1] < texSize[1]) {\n      this.maxTexSize[1] = texSize[1];\n    }\n  }\n\n  setupArguments(args) {\n    this.kernelArguments = [];\n    this.argumentTextureCount = 0;\n    const needsArgumentTypes = this.argumentTypes === null;\n    if (needsArgumentTypes) {\n      this.argumentTypes = [];\n    }\n    this.argumentSizes = [];\n    this.argumentBitRatios = [];\n\n    if (args.length < this.argumentNames.length) {\n      throw new Error('not enough arguments for kernel');\n    } else if (args.length > this.argumentNames.length) {\n      throw new Error('too many arguments for kernel');\n    }\n\n    const { context: gl } = this;\n    let textureIndexes = 0;\n\n    const onRequestTexture = () => {\n      return this.createTexture();\n    };\n    const onRequestIndex = () => {\n      return textureIndexes++;\n    };\n    const onUpdateValueMismatch = (constructor) => {\n      this.switchKernels({\n        type: 'argumentMismatch',\n        needed: constructor\n      });\n    };\n    const onRequestContextHandle = () => {\n      return gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount++;\n    };\n\n    for (let index = 0; index < args.length; index++) {\n      const value = args[index];\n      const name = this.argumentNames[index];\n      let type;\n      if (needsArgumentTypes) {\n        type = utils.getVariableType(value, this.strictIntegers);\n        this.argumentTypes.push(type);\n      } else {\n        type = this.argumentTypes[index];\n      }\n      const KernelValue = this.constructor.lookupKernelValueType(type, this.dynamicArguments ? 'dynamic' : 'static', this.precision, args[index]);\n      if (KernelValue === null) {\n        return this.requestFallback(args);\n      }\n      const kernelArgument = new KernelValue(value, {\n        name,\n        type,\n        tactic: this.tactic,\n        origin: 'user',\n        context: gl,\n        checkContext: this.checkContext,\n        kernel: this,\n        strictIntegers: this.strictIntegers,\n        onRequestTexture,\n        onRequestIndex,\n        onUpdateValueMismatch,\n        onRequestContextHandle,\n      });\n      this.kernelArguments.push(kernelArgument);\n      kernelArgument.setup();\n      this.argumentSizes.push(kernelArgument.textureSize);\n      this.argumentBitRatios[index] = kernelArgument.bitRatio;\n    }\n  }\n\n  createTexture() {\n    const texture = this.context.createTexture();\n    this.textureCache.push(texture);\n    return texture;\n  }\n\n  setupConstants(args) {\n    const { context: gl } = this;\n    this.kernelConstants = [];\n    this.forceUploadKernelConstants = [];\n    let needsConstantTypes = this.constantTypes === null;\n    if (needsConstantTypes) {\n      this.constantTypes = {};\n    }\n    this.constantBitRatios = {};\n    let textureIndexes = 0;\n    for (const name in this.constants) {\n      const value = this.constants[name];\n      let type;\n      if (needsConstantTypes) {\n        type = utils.getVariableType(value, this.strictIntegers);\n        this.constantTypes[name] = type;\n      } else {\n        type = this.constantTypes[name];\n      }\n      const KernelValue = this.constructor.lookupKernelValueType(type, 'static', this.precision, value);\n      if (KernelValue === null) {\n        return this.requestFallback(args);\n      }\n      const kernelValue = new KernelValue(value, {\n        name,\n        type,\n        tactic: this.tactic,\n        origin: 'constants',\n        context: this.context,\n        checkContext: this.checkContext,\n        kernel: this,\n        strictIntegers: this.strictIntegers,\n        onRequestTexture: () => {\n          return this.createTexture();\n        },\n        onRequestIndex: () => {\n          return textureIndexes++;\n        },\n        onRequestContextHandle: () => {\n          return gl.TEXTURE0 + this.constantTextureCount++;\n        }\n      });\n      this.constantBitRatios[name] = kernelValue.bitRatio;\n      this.kernelConstants.push(kernelValue);\n      kernelValue.setup();\n      if (kernelValue.forceUploadEachRun) {\n        this.forceUploadKernelConstants.push(kernelValue);\n      }\n    }\n  }\n\n  build() {\n    if (this.built) return;\n    this.initExtensions();\n    this.validateSettings(arguments);\n    this.setupConstants(arguments);\n    if (this.fallbackRequested) return;\n    this.setupArguments(arguments);\n    if (this.fallbackRequested) return;\n    this.updateMaxTexSize();\n    this.translateSource();\n    const failureResult = this.pickRenderStrategy(arguments);\n    if (failureResult) {\n      return failureResult;\n    }\n    const { texSize, context: gl, canvas } = this;\n    gl.enable(gl.SCISSOR_TEST);\n    if (this.pipeline && this.precision === 'single') {\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      canvas.width = this.maxTexSize[0];\n      canvas.height = this.maxTexSize[1];\n    } else {\n      gl.viewport(0, 0, this.maxTexSize[0], this.maxTexSize[1]);\n      canvas.width = this.maxTexSize[0];\n      canvas.height = this.maxTexSize[1];\n    }\n    const threadDim = this.threadDim = Array.from(this.output);\n    while (threadDim.length < 3) {\n      threadDim.push(1);\n    }\n\n    const compiledVertexShader = this.getVertexShader(arguments);\n    const vertShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertShader, compiledVertexShader);\n    gl.compileShader(vertShader);\n    this.vertShader = vertShader;\n\n    const compiledFragmentShader = this.getFragmentShader(arguments);\n    const fragShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragShader, compiledFragmentShader);\n    gl.compileShader(fragShader);\n    this.fragShader = fragShader;\n\n    if (this.debug) {\n      console.log('GLSL Shader Output:');\n      console.log(compiledFragmentShader);\n    }\n\n    if (!gl.getShaderParameter(vertShader, gl.COMPILE_STATUS)) {\n      throw new Error('Error compiling vertex shader: ' + gl.getShaderInfoLog(vertShader));\n    }\n    if (!gl.getShaderParameter(fragShader, gl.COMPILE_STATUS)) {\n      throw new Error('Error compiling fragment shader: ' + gl.getShaderInfoLog(fragShader));\n    }\n\n    const program = this.program = gl.createProgram();\n    gl.attachShader(program, vertShader);\n    gl.attachShader(program, fragShader);\n    gl.linkProgram(program);\n    this.framebuffer = gl.createFramebuffer();\n    this.framebuffer.width = texSize[0];\n    this.framebuffer.height = texSize[1];\n\n    const vertices = new Float32Array([-1, -1,\n      1, -1, -1, 1,\n      1, 1\n    ]);\n    const texCoords = new Float32Array([\n      0, 0,\n      1, 0,\n      0, 1,\n      1, 1\n    ]);\n\n    const texCoordOffset = vertices.byteLength;\n\n    let buffer = this.buffer;\n    if (!buffer) {\n      buffer = this.buffer = gl.createBuffer();\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n      gl.bufferData(gl.ARRAY_BUFFER, vertices.byteLength + texCoords.byteLength, gl.STATIC_DRAW);\n    } else {\n      gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    }\n\n    gl.bufferSubData(gl.ARRAY_BUFFER, 0, vertices);\n    gl.bufferSubData(gl.ARRAY_BUFFER, texCoordOffset, texCoords);\n\n    const aPosLoc = gl.getAttribLocation(this.program, 'aPos');\n    gl.enableVertexAttribArray(aPosLoc);\n    gl.vertexAttribPointer(aPosLoc, 2, gl.FLOAT, false, 0, 0);\n    const aTexCoordLoc = gl.getAttribLocation(this.program, 'aTexCoord');\n    gl.enableVertexAttribArray(aTexCoordLoc);\n    gl.vertexAttribPointer(aTexCoordLoc, 2, gl.FLOAT, false, 0, texCoordOffset);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n\n    let i = 0;\n    gl.useProgram(this.program);\n    for (let p in this.constants) {\n      this.kernelConstants[i++].updateValue(this.constants[p]);\n    }\n\n    this._setupOutputTexture();\n    if (\n      this.subKernels !== null &&\n      this.subKernels.length > 0\n    ) {\n      this._mappedTextureSwitched = {};\n      this._setupSubOutputTextures();\n    }\n    this.buildSignature(arguments);\n    this.built = true;\n  }\n\n  translateSource() {\n    const functionBuilder = FunctionBuilder.fromKernel(this, WebGLFunctionNode, {\n      fixIntegerDivisionAccuracy: this.fixIntegerDivisionAccuracy\n    });\n    this.translatedSource = functionBuilder.getPrototypeString('kernel');\n    this.setupReturnTypes(functionBuilder);\n  }\n\n  setupReturnTypes(functionBuilder) {\n    if (!this.graphical && !this.returnType) {\n      this.returnType = functionBuilder.getKernelResultType();\n    }\n\n    if (this.subKernels && this.subKernels.length > 0) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        const subKernel = this.subKernels[i];\n        if (!subKernel.returnType) {\n          subKernel.returnType = functionBuilder.getSubKernelResultType(i);\n        }\n      }\n    }\n  }\n\n  run() {\n    const { kernelArguments, texSize, forceUploadKernelConstants, context: gl } = this;\n\n    gl.useProgram(this.program);\n    gl.scissor(0, 0, texSize[0], texSize[1]);\n    if (this.dynamicOutput) {\n      this.setUniform3iv('uOutputDim', new Int32Array(this.threadDim));\n      this.setUniform2iv('uTexSize', texSize);\n    }\n\n    this.setUniform2f('ratio', texSize[0] / this.maxTexSize[0], texSize[1] / this.maxTexSize[1]);\n\n    for (let i = 0; i < forceUploadKernelConstants.length; i++) {\n      const constant = forceUploadKernelConstants[i];\n      constant.updateValue(this.constants[constant.name]);\n      if (this.switchingKernels) return;\n    }\n    for (let i = 0; i < kernelArguments.length; i++) {\n      kernelArguments[i].updateValue(arguments[i]);\n      if (this.switchingKernels) return;\n    }\n\n    if (this.plugins) {\n      for (let i = 0; i < this.plugins.length; i++) {\n        const plugin = this.plugins[i];\n        if (plugin.onBeforeRun) {\n          plugin.onBeforeRun(this);\n        }\n      }\n    }\n\n    if (this.graphical) {\n      if (this.pipeline) {\n        gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n        if (this.immutable) {\n          this._replaceOutputTexture();\n        }\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        return this.immutable ? this.texture.clone() : this.texture;\n      }\n      gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n      return;\n    }\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n    if (this.immutable) {\n      this._replaceOutputTexture();\n    }\n\n    if (this.subKernels !== null) {\n      if (this.immutable) {\n        this._replaceSubOutputTextures();\n      }\n      this.drawBuffers();\n    }\n\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  }\n\n  drawBuffers() {\n    this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap);\n  }\n\n  getInternalFormat() {\n    return this.context.RGBA;\n  }\n  getTextureFormat() {\n    const { context: gl } = this;\n    switch (this.getInternalFormat()) {\n      case gl.RGBA:\n        return gl.RGBA;\n      default:\n        throw new Error('Unknown internal format');\n    }\n  }\n\n  _replaceOutputTexture() {\n    if (this.texture.beforeMutate() || this._textureSwitched) {\n      const gl = this.context;\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      this._textureSwitched = false;\n    }\n  }\n\n  _setupOutputTexture() {\n    const gl = this.context;\n    const texSize = this.texSize;\n    if (this.texture) {\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      return;\n    }\n    const texture = this.createTexture();\n    gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    const format = this.getInternalFormat();\n    if (this.precision === 'single') {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, gl.RGBA, gl.FLOAT, null);\n    } else {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, format, gl.UNSIGNED_BYTE, null);\n    }\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    this.texture = new this.TextureConstructor({\n      texture,\n      size: texSize,\n      dimensions: this.threadDim,\n      output: this.output,\n      context: this.context,\n      internalFormat: this.getInternalFormat(),\n      textureFormat: this.getTextureFormat(),\n      kernel: this,\n    });\n  }\n\n  _replaceSubOutputTextures() {\n    const gl = this.context;\n    for (let i = 0; i < this.mappedTextures.length; i++) {\n      const mappedTexture = this.mappedTextures[i];\n      if (mappedTexture.beforeMutate() || this._mappedTextureSwitched[i]) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, mappedTexture.texture, 0);\n        this._mappedTextureSwitched[i] = false;\n      }\n    }\n  }\n\n  _setupSubOutputTextures() {\n    const gl = this.context;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, this.mappedTextures[i].texture, 0);\n      }\n      return;\n    }\n    const texSize = this.texSize;\n    this.drawBuffersMap = [gl.COLOR_ATTACHMENT0];\n    this.mappedTextures = [];\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const texture = this.createTexture();\n      this.drawBuffersMap.push(gl.COLOR_ATTACHMENT0 + i + 1);\n      gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount + i);\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      if (this.precision === 'single') {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.FLOAT, null);\n      } else {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      }\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, texture, 0);\n\n      this.mappedTextures.push(new this.TextureConstructor({\n        texture,\n        size: texSize,\n        dimensions: this.threadDim,\n        output: this.output,\n        context: this.context,\n        internalFormat: this.getInternalFormat(),\n        textureFormat: this.getTextureFormat(),\n        kernel: this,\n      }));\n    }\n  }\n\n  setUniform1f(name, value) {\n    if (this.uniform1fCache.hasOwnProperty(name)) {\n      const cache = this.uniform1fCache[name];\n      if (value === cache) {\n        return;\n      }\n    }\n    this.uniform1fCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform1f(loc, value);\n  }\n\n  setUniform1i(name, value) {\n    if (this.uniform1iCache.hasOwnProperty(name)) {\n      const cache = this.uniform1iCache[name];\n      if (value === cache) {\n        return;\n      }\n    }\n    this.uniform1iCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform1i(loc, value);\n  }\n\n  setUniform2f(name, value1, value2) {\n    if (this.uniform2fCache.hasOwnProperty(name)) {\n      const cache = this.uniform2fCache[name];\n      if (\n        value1 === cache[0] &&\n        value2 === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2fCache[name] = [value1, value2];\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2f(loc, value1, value2);\n  }\n\n  setUniform2fv(name, value) {\n    if (this.uniform2fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform2fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2fv(loc, value);\n  }\n\n  setUniform2iv(name, value) {\n    if (this.uniform2ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform2ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1]\n      ) {\n        return;\n      }\n    }\n    this.uniform2ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform2iv(loc, value);\n  }\n\n  setUniform3fv(name, value) {\n    if (this.uniform3fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform3fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2]\n      ) {\n        return;\n      }\n    }\n    this.uniform3fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform3fv(loc, value);\n  }\n\n  setUniform3iv(name, value) {\n    if (this.uniform3ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform3ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2]\n      ) {\n        return;\n      }\n    }\n    this.uniform3ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform3iv(loc, value);\n  }\n\n  setUniform4fv(name, value) {\n    if (this.uniform4fvCache.hasOwnProperty(name)) {\n      const cache = this.uniform4fvCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2] &&\n        value[3] === cache[3]\n      ) {\n        return;\n      }\n    }\n    this.uniform4fvCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform4fv(loc, value);\n  }\n\n  setUniform4iv(name, value) {\n    if (this.uniform4ivCache.hasOwnProperty(name)) {\n      const cache = this.uniform4ivCache[name];\n      if (\n        value[0] === cache[0] &&\n        value[1] === cache[1] &&\n        value[2] === cache[2] &&\n        value[3] === cache[3]\n      ) {\n        return;\n      }\n    }\n    this.uniform4ivCache[name] = value;\n    const loc = this.getUniformLocation(name);\n    this.context.uniform4iv(loc, value);\n  }\n\n  getUniformLocation(name) {\n    if (this.programUniformLocationCache.hasOwnProperty(name)) {\n      return this.programUniformLocationCache[name];\n    }\n    return this.programUniformLocationCache[name] = this.context.getUniformLocation(this.program, name);\n  }\n\n  _getFragShaderArtifactMap(args) {\n    return {\n      HEADER: this._getHeaderString(),\n      LOOP_MAX: this._getLoopMaxString(),\n      PLUGINS: this._getPluginsString(),\n      CONSTANTS: this._getConstantsString(),\n      DECODE32_ENDIANNESS: this._getDecode32EndiannessString(),\n      ENCODE32_ENDIANNESS: this._getEncode32EndiannessString(),\n      DIVIDE_WITH_INTEGER_CHECK: this._getDivideWithIntegerCheckString(),\n      INJECTED_NATIVE: this._getInjectedNative(),\n      MAIN_CONSTANTS: this._getMainConstantsString(),\n      MAIN_ARGUMENTS: this._getMainArgumentsString(args),\n      KERNEL: this.getKernelString(),\n      MAIN_RESULT: this.getMainResultString(),\n      FLOAT_TACTIC_DECLARATION: this.getFloatTacticDeclaration(),\n      INT_TACTIC_DECLARATION: this.getIntTacticDeclaration(),\n      SAMPLER_2D_TACTIC_DECLARATION: this.getSampler2DTacticDeclaration(),\n      SAMPLER_2D_ARRAY_TACTIC_DECLARATION: this.getSampler2DArrayTacticDeclaration(),\n    };\n  }\n\n  _getVertShaderArtifactMap(args) {\n    return {\n      FLOAT_TACTIC_DECLARATION: this.getFloatTacticDeclaration(),\n      INT_TACTIC_DECLARATION: this.getIntTacticDeclaration(),\n      SAMPLER_2D_TACTIC_DECLARATION: this.getSampler2DTacticDeclaration(),\n      SAMPLER_2D_ARRAY_TACTIC_DECLARATION: this.getSampler2DArrayTacticDeclaration(),\n    };\n  }\n\n  _getHeaderString() {\n    return (\n      this.subKernels !== null ?\n      '#extension GL_EXT_draw_buffers : require\\n' :\n      ''\n    );\n  }\n\n  _getLoopMaxString() {\n    return (\n      this.loopMaxIterations ?\n      ` ${parseInt(this.loopMaxIterations)};\\n` :\n      ' 1000;\\n'\n    );\n  }\n\n  _getPluginsString() {\n    if (!this.plugins) return '\\n';\n    return this.plugins.map(plugin => plugin.source && this.source.match(plugin.functionMatch) ? plugin.source : '').join('\\n');\n  }\n\n  _getConstantsString() {\n    const result = [];\n    const { threadDim, texSize } = this;\n    if (this.dynamicOutput) {\n      result.push(\n        'uniform ivec3 uOutputDim',\n        'uniform ivec2 uTexSize'\n      );\n    } else {\n      result.push(\n        `ivec3 uOutputDim = ivec3(${threadDim[0]}, ${threadDim[1]}, ${threadDim[2]})`,\n        `ivec2 uTexSize = ivec2(${texSize[0]}, ${texSize[1]})`\n      );\n    }\n    return utils.linesToString(result);\n  }\n\n  _getTextureCoordinate() {\n    const subKernels = this.subKernels;\n    if (subKernels === null || subKernels.length < 1) {\n      return 'varying vec2 vTexCoord;\\n';\n    } else {\n      return 'out vec2 vTexCoord;\\n';\n    }\n  }\n\n  _getDecode32EndiannessString() {\n    return (\n      this.endianness === 'LE' ?\n      '' :\n      '  texel.rgba = texel.abgr;\\n'\n    );\n  }\n\n  _getEncode32EndiannessString() {\n    return (\n      this.endianness === 'LE' ?\n      '' :\n      '  texel.rgba = texel.abgr;\\n'\n    );\n  }\n\n  _getDivideWithIntegerCheckString() {\n    return this.fixIntegerDivisionAccuracy ?\n      `float divWithIntCheck(float x, float y) {\n  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {\n    return float(int(x) / int(y));\n  }\n  return x / y;\n}\n\nfloat integerCorrectionModulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return number - (divisor * floor(divWithIntCheck(number, divisor)));\n}` :\n      '';\n  }\n\n  _getMainArgumentsString(args) {\n    const results = [];\n    const { argumentNames } = this;\n    for (let i = 0; i < argumentNames.length; i++) {\n      results.push(this.kernelArguments[i].getSource(args[i]));\n    }\n    return results.join('');\n  }\n\n  _getInjectedNative() {\n    return this.injectedNative || '';\n  }\n\n  _getMainConstantsString() {\n    const result = [];\n    const { constants } = this;\n    if (constants) {\n      let i = 0;\n      for (const name in constants) {\n        if (!this.constants.hasOwnProperty(name)) continue;\n        result.push(this.kernelConstants[i++].getSource(this.constants[name]));\n      }\n    }\n    return result.join('');\n  }\n\n  getKernelResultDeclaration() {\n    switch (this.returnType) {\n      case 'Array(2)':\n        return 'vec2 kernelResult';\n      case 'Array(3)':\n        return 'vec3 kernelResult';\n      case 'Array(4)':\n        return 'vec4 kernelResult';\n      case 'LiteralInteger':\n      case 'Float':\n      case 'Number':\n      case 'Integer':\n        return 'float kernelResult';\n      default:\n        if (this.graphical) {\n          return 'float kernelResult';\n        } else {\n          throw new Error(`unrecognized output type \"${ this.returnType }\"`);\n        }\n    }\n  }\n  getKernelString() {\n    const result = [this.getKernelResultDeclaration()];\n    const { subKernels } = this;\n    if (subKernels !== null) {\n      switch (this.returnType) {\n        case 'Number':\n        case 'Float':\n        case 'Integer':\n          for (let i = 0; i < subKernels.length; i++) {\n            const subKernel = subKernels[i];\n            result.push(\n              subKernel.returnType === 'Integer' ?\n              `int subKernelResult_${ subKernel.name } = 0` :\n              `float subKernelResult_${ subKernel.name } = 0.0`\n            );\n          }\n          break;\n        case 'Array(2)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec2 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n        case 'Array(3)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec3 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n        case 'Array(4)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec4 subKernelResult_${ subKernels[i].name }`\n            );\n          }\n          break;\n      }\n    }\n\n    return utils.linesToString(result) + this.translatedSource;\n  }\n\n  getMainResultGraphical() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragColor = actualColor',\n    ]);\n  }\n\n  getMainResultPackedPixels() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return this.getMainResultKernelPackedPixels() +\n          this.getMainResultSubKernelPackedPixels();\n      default:\n        throw new Error(`packed output only usable with Numbers, \"${this.returnType}\" specified`);\n    }\n  }\n\n  getMainResultKernelPackedPixels() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  gl_FragData[0] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(kernelResult)`\n    ]);\n  }\n\n  getMainResultSubKernelPackedPixels() {\n    const result = [];\n    if (!this.subKernels) return '';\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(float(subKernelResult_${this.subKernels[i].name}))`\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}] = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(subKernelResult_${this.subKernels[i].name})`\n        );\n      }\n    }\n    return utils.linesToString(result);\n  }\n\n  getMainResultMemoryOptimizedFloats() {\n    const result = [\n      '  index *= 4',\n    ];\n\n    switch (this.returnType) {\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        const channels = ['r', 'g', 'b', 'a'];\n        for (let i = 0; i < channels.length; i++) {\n          const channel = channels[i];\n          this.getMainResultKernelMemoryOptimizedFloats(result, channel);\n          this.getMainResultSubKernelMemoryOptimizedFloats(result, channel);\n          if (i + 1 < channels.length) {\n            result.push('  index += 1');\n          }\n        }\n        break;\n      default:\n        throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`);\n    }\n\n    return utils.linesToString(result);\n  }\n\n  getMainResultKernelMemoryOptimizedFloats(result, channel) {\n    result.push(\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  gl_FragData[0].${channel} = kernelResult`,\n    );\n  }\n\n  getMainResultSubKernelMemoryOptimizedFloats(result, channel) {\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}].${channel} = float(subKernelResult_${this.subKernels[i].name})`,\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}].${channel} = subKernelResult_${this.subKernels[i].name}`,\n        );\n      }\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelNumberTexture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  gl_FragData[${i + 1}][0] = float(subKernelResult_${subKernel.name})`,\n        );\n      } else {\n        result.push(\n          `  gl_FragData[${i + 1}][0] = subKernelResult_${subKernel.name}`,\n        );\n      }\n    }\n    return result;\n  }\n\n  getMainResultKernelArray2Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult[0]',\n      '  gl_FragData[0][1] = kernelResult[1]',\n    ];\n  }\n\n  getMainResultSubKernelArray2Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n        `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray3Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0][0] = kernelResult[0]',\n      '  gl_FragData[0][1] = kernelResult[1]',\n      '  gl_FragData[0][2] = kernelResult[2]',\n    ];\n  }\n\n  getMainResultSubKernelArray3Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n        `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n        `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`,\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray4Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  gl_FragData[0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelArray4Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    switch (this.returnType) {\n      case 'Number':\n      case 'Float':\n      case 'Integer':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          const subKernel = this.subKernels[i];\n          if (subKernel.returnType === 'Integer') {\n            result.push(\n              `  gl_FragData[${i + 1}] = float(subKernelResult_${this.subKernels[i].name})`,\n            );\n          } else {\n            result.push(\n              `  gl_FragData[${i + 1}] = subKernelResult_${this.subKernels[i].name}`,\n            );\n          }\n        }\n        break;\n      case 'Array(2)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n          );\n        }\n        break;\n      case 'Array(3)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n            `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`,\n          );\n        }\n        break;\n      case 'Array(4)':\n        for (let i = 0; i < this.subKernels.length; ++i) {\n          result.push(\n            `  gl_FragData[${i + 1}][0] = subKernelResult_${this.subKernels[i].name}[0]`,\n            `  gl_FragData[${i + 1}][1] = subKernelResult_${this.subKernels[i].name}[1]`,\n            `  gl_FragData[${i + 1}][2] = subKernelResult_${this.subKernels[i].name}[2]`,\n            `  gl_FragData[${i + 1}][3] = subKernelResult_${this.subKernels[i].name}[3]`,\n          );\n        }\n        break;\n    }\n\n    return result;\n  }\n\n  replaceArtifacts(src, map) {\n    return src.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\\n/g, (match, artifact) => {\n      if (map.hasOwnProperty(artifact)) {\n        return map[artifact];\n      }\n      throw `unhandled artifact ${artifact}`;\n    });\n  }\n\n  getFragmentShader(args) {\n    if (this.compiledFragmentShader !== null) {\n      return this.compiledFragmentShader;\n    }\n    return this.compiledFragmentShader = this.replaceArtifacts(this.constructor.fragmentShader, this._getFragShaderArtifactMap(args));\n  }\n\n  getVertexShader(args) {\n    if (this.compiledVertexShader !== null) {\n      return this.compiledVertexShader;\n    }\n    return this.compiledVertexShader = this.replaceArtifacts(this.constructor.vertexShader, this._getVertShaderArtifactMap(args));\n  }\n\n  toString() {\n    const setupContextString = utils.linesToString([\n      `const gl = context`,\n    ]);\n    return glKernelString(this.constructor, arguments, this, setupContextString);\n  }\n\n  destroy(removeCanvasReferences) {\n    if (!this.context) return;\n    if (this.buffer) {\n      this.context.deleteBuffer(this.buffer);\n    }\n    if (this.framebuffer) {\n      this.context.deleteFramebuffer(this.framebuffer);\n    }\n    if (this.vertShader) {\n      this.context.deleteShader(this.vertShader);\n    }\n    if (this.fragShader) {\n      this.context.deleteShader(this.fragShader);\n    }\n    if (this.program) {\n      this.context.deleteProgram(this.program);\n    }\n    if (this.texture) {\n      this.texture.delete();\n      const textureCacheIndex = this.textureCache.indexOf(this.texture.texture);\n      if (textureCacheIndex > -1) {\n        this.textureCache.splice(textureCacheIndex, 1);\n      }\n      this.texture = null;\n    }\n    if (this.mappedTextures && this.mappedTextures.length) {\n      for (let i = 0; i < this.mappedTextures.length; i++) {\n        const mappedTexture = this.mappedTextures[i];\n        mappedTexture.delete();\n        const textureCacheIndex = this.textureCache.indexOf(mappedTexture.texture);\n        if (textureCacheIndex > -1) {\n          this.textureCache.splice(textureCacheIndex, 1);\n        }\n      }\n      this.mappedTextures = null;\n    }\n    if (this.kernelArguments) {\n      for (let i = 0; i < this.kernelArguments.length; i++) {\n        this.kernelArguments[i].destroy();\n      }\n    }\n    if (this.kernelConstants) {\n      for (let i = 0; i < this.kernelConstants.length; i++) {\n        this.kernelConstants[i].destroy();\n      }\n    }\n    while (this.textureCache.length > 0) {\n      const texture = this.textureCache.pop();\n      this.context.deleteTexture(texture);\n    }\n    if (removeCanvasReferences) {\n      const idx = canvases.indexOf(this.canvas);\n      if (idx >= 0) {\n        canvases[idx] = null;\n        maxTexSizes[idx] = null;\n      }\n    }\n    this.destroyExtensions();\n    delete this.context;\n    delete this.canvas;\n    if (!this.gpu) return;\n    const i = this.gpu.kernels.indexOf(this);\n    if (i === -1) return;\n    this.gpu.kernels.splice(i, 1);\n  }\n\n  destroyExtensions() {\n    this.extensions.OES_texture_float = null;\n    this.extensions.OES_texture_float_linear = null;\n    this.extensions.OES_element_index_uint = null;\n    this.extensions.WEBGL_draw_buffers = null;\n  }\n\n  static destroyContext(context) {\n    const extension = context.getExtension('WEBGL_lose_context');\n    if (extension) {\n      extension.loseContext();\n    }\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, WebGLFunctionNode).toJSON();\n    json.settings.threadDim = this.threadDim;\n    return json;\n  }\n}\n\nmodule.exports = {\n  WebGLKernel\n};\n},{\"../../plugins/math-random-uniformly-distributed\":112,\"../../utils\":114,\"../function-builder\":9,\"../gl/kernel\":13,\"../gl/kernel-string\":12,\"./fragment-shader\":37,\"./function-node\":38,\"./kernel-value-maps\":39,\"./vertex-shader\":71}],71:[function(require,module,exports){\nconst vertexShader = `__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nattribute vec2 aPos;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}`;\n\nmodule.exports = {\n  vertexShader\n};\n},{}],72:[function(require,module,exports){\nconst fragmentShader = `#version 300 es\n__HEADER__;\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;\n\nconst int LOOP_MAX = __LOOP_MAX__;\n\n__PLUGINS__;\n__CONSTANTS__;\n\nin vec2 vTexCoord;\n\nfloat atan2(float v1, float v2) {\n  if (v1 == 0.0 || v2 == 0.0) return 0.0;\n  return atan(v1 / v2);\n}\n\nfloat cbrt(float x) {\n  if (x >= 0.0) {\n    return pow(x, 1.0 / 3.0);\n  } else {\n    return -pow(x, 1.0 / 3.0);\n  }\n}\n\nfloat expm1(float x) {\n  return pow(${Math.E}, x) - 1.0; \n}\n\nfloat fround(highp float x) {\n  return x;\n}\n\nfloat imul(float v1, float v2) {\n  return float(int(v1) * int(v2));\n}\n\nfloat log10(float x) {\n  return log2(x) * (1.0 / log2(10.0));\n}\n\nfloat log1p(float x) {\n  return log(1.0 + x);\n}\n\nfloat _pow(float v1, float v2) {\n  if (v2 == 0.0) return 1.0;\n  return pow(v1, v2);\n}\n\nfloat _round(float x) {\n  return floor(x + 0.5);\n}\n\n\nconst int BIT_COUNT = 32;\nint modi(int x, int y) {\n  return x - y * (x / y);\n}\n\nint bitwiseOr(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseXOR(int a, int b) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseAnd(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {\n      result += n;\n    }\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 && b > 0)) {\n      break;\n    }\n  }\n  return result;\n}\nint bitwiseNot(int a) {\n  int result = 0;\n  int n = 1;\n  \n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (modi(a, 2) == 0) {\n      result += n;    \n    }\n    a = a / 2;\n    n = n * 2;\n  }\n  return result;\n}\nint bitwiseZeroFillLeftShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n *= 2;\n  }\n\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nint bitwiseSignedRightShift(int num, int shifts) {\n  return int(floor(float(num) / pow(2.0, float(shifts))));\n}\n\nint bitwiseZeroFillRightShift(int n, int shift) {\n  int maxBytes = BIT_COUNT;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (maxBytes >= n) {\n      break;\n    }\n    maxBytes *= 2;\n  }\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= shift) {\n      break;\n    }\n    n /= 2;\n  }\n  int result = 0;\n  int byteVal = 1;\n  for (int i = 0; i < BIT_COUNT; i++) {\n    if (i >= maxBytes) break;\n    if (modi(n, 2) > 0) { result += byteVal; }\n    n = int(n / 2);\n    byteVal *= 2;\n  }\n  return result;\n}\n\nvec2 integerMod(vec2 x, float y) {\n  vec2 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec3 integerMod(vec3 x, float y) {\n  vec3 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nvec4 integerMod(vec4 x, vec4 y) {\n  vec4 res = floor(mod(x, y));\n  return res * step(1.0 - floor(y), -res);\n}\n\nfloat integerMod(float x, float y) {\n  float res = floor(mod(x, y));\n  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);\n}\n\nint integerMod(int x, int y) {\n  return x - (y * int(x/y));\n}\n\n__DIVIDE_WITH_INTEGER_CHECK__;\n\n// Here be dragons!\n// DO NOT OPTIMIZE THIS CODE\n// YOU WILL BREAK SOMETHING ON SOMEBODY\\'S MACHINE\n// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME\nconst vec2 MAGIC_VEC = vec2(1.0, -256.0);\nconst vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);\nconst vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536\nfloat decode32(vec4 texel) {\n  __DECODE32_ENDIANNESS__;\n  texel *= 255.0;\n  vec2 gte128;\n  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;\n  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;\n  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);\n  float res = exp2(round(exponent));\n  texel.b = texel.b - 128.0 * gte128.x;\n  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;\n  res *= gte128.y * -2.0 + 1.0;\n  return res;\n}\n\nfloat decode16(vec4 texel, int index) {\n  int channel = integerMod(index, 2);\n  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;\n}\n\nfloat decode8(vec4 texel, int index) {\n  int channel = integerMod(index, 4);\n  return texel[channel] * 255.0;\n}\n\nvec4 legacyEncode32(float f) {\n  float F = abs(f);\n  float sign = f < 0.0 ? 1.0 : 0.0;\n  float exponent = floor(log2(F));\n  float mantissa = (exp2(-exponent) * F);\n  // exponent += floor(log2(mantissa));\n  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;\n  texel.rg = integerMod(texel.rg, 256.0);\n  texel.b = integerMod(texel.b, 128.0);\n  texel.a = exponent*0.5 + 63.5;\n  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;\n  texel = floor(texel);\n  texel *= 0.003921569; // 1/255\n  __ENCODE32_ENDIANNESS__;\n  return texel;\n}\n\n// https://github.com/gpujs/gpu.js/wiki/Encoder-details\nvec4 encode32(float value) {\n  if (value == 0.0) return vec4(0, 0, 0, 0);\n\n  float exponent;\n  float mantissa;\n  vec4  result;\n  float sgn;\n\n  sgn = step(0.0, -value);\n  value = abs(value);\n\n  exponent = floor(log2(value));\n\n  mantissa = value*pow(2.0, -exponent)-1.0;\n  exponent = exponent+127.0;\n  result   = vec4(0,0,0,0);\n\n  result.a = floor(exponent/2.0);\n  exponent = exponent - result.a*2.0;\n  result.a = result.a + 128.0*sgn;\n\n  result.b = floor(mantissa * 128.0);\n  mantissa = mantissa - result.b / 128.0;\n  result.b = result.b + exponent*128.0;\n\n  result.g = floor(mantissa*32768.0);\n  mantissa = mantissa - result.g/32768.0;\n\n  result.r = floor(mantissa*8388608.0);\n  return result/255.0;\n}\n// Dragons end here\n\nint index;\nivec3 threadId;\n\nivec3 indexTo3D(int idx, ivec3 texDim) {\n  int z = int(idx / (texDim.x * texDim.y));\n  idx -= z * int(texDim.x * texDim.y);\n  int y = int(idx / texDim.x);\n  int x = int(integerMod(idx, texDim.x));\n  return ivec3(x, y, z);\n}\n\nfloat get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return decode32(texel);\n}\n\nfloat get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 2;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));\n  return decode16(texel, index);\n}\n\nfloat get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int w = texSize.x * 4;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));\n  return decode8(texel, index);\n}\n\nfloat getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + (texDim.x * (y + (texDim.y * z)));\n  int channel = integerMod(index, 4);\n  index = index / 4;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  index = index / 4;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return texel[channel];\n}\n\nvec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, st / vec2(texSize));\n}\n\nvec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  return texture(tex, vec3(st / vec2(texSize), z));\n}\n\nfloat getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return result[0];\n}\n\nvec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec2(result[0], result[1]);\n}\n\nvec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  index = index / 2;\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  if (channel == 0) return vec2(texel.r, texel.g);\n  if (channel == 1) return vec2(texel.b, texel.a);\n  return vec2(0.0, 0.0);\n}\n\nvec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);\n  return vec3(result[0], result[1], result[2]);\n}\n\nvec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));\n  int vectorIndex = fieldIndex / 4;\n  int vectorOffset = fieldIndex - vectorIndex * 4;\n  int readY = vectorIndex / texSize.x;\n  int readX = vectorIndex - readY * texSize.x;\n  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));\n\n  if (vectorOffset == 0) {\n    return tex1.xyz;\n  } else if (vectorOffset == 1) {\n    return tex1.yzw;\n  } else {\n    readX++;\n    if (readX >= texSize.x) {\n      readX = 0;\n      readY++;\n    }\n    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));\n    if (vectorOffset == 2) {\n      return vec3(tex1.z, tex1.w, tex2.x);\n    } else {\n      return vec3(tex1.w, tex2.x, tex2.y);\n    }\n  }\n}\n\nvec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  return getImage2D(tex, texSize, texDim, z, y, x);\n}\n\nvec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {\n  int index = x + texDim.x * (y + texDim.y * z);\n  int channel = integerMod(index, 2);\n  int w = texSize.x;\n  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;\n  vec4 texel = texture(tex, st / vec2(texSize));\n  return vec4(texel.r, texel.g, texel.b, texel.a);\n}\n\nvec4 actualColor;\nvoid color(float r, float g, float b, float a) {\n  actualColor = vec4(r,g,b,a);\n}\n\nvoid color(float r, float g, float b) {\n  color(r,g,b,1.0);\n}\n\nfloat modulo(float number, float divisor) {\n  if (number < 0.0) {\n    number = abs(number);\n    if (divisor < 0.0) {\n      divisor = abs(divisor);\n    }\n    return -mod(number, divisor);\n  }\n  if (divisor < 0.0) {\n    divisor = abs(divisor);\n  }\n  return mod(number, divisor);\n}\n\n__INJECTED_NATIVE__;\n__MAIN_CONSTANTS__;\n__MAIN_ARGUMENTS__;\n__KERNEL__;\n\nvoid main(void) {\n  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;\n  __MAIN_RESULT__;\n}`;\n\nmodule.exports = {\n  fragmentShader\n};\n},{}],73:[function(require,module,exports){\nconst { utils } = require('../../utils');\nconst { WebGLFunctionNode } = require('../web-gl/function-node');\n\nclass WebGL2FunctionNode extends WebGLFunctionNode {\n\n  astIdentifierExpression(idtNode, retArr) {\n    if (idtNode.type !== 'Identifier') {\n      throw this.astErrorOutput(\n        'IdentifierExpression - not an Identifier',\n        idtNode\n      );\n    }\n\n    const type = this.getType(idtNode);\n\n    const name = utils.sanitizeName(idtNode.name);\n    if (idtNode.name === 'Infinity') {\n      retArr.push('intBitsToFloat(2139095039)');\n    } else if (type === 'Boolean') {\n      if (this.argumentNames.indexOf(name) > -1) {\n        retArr.push(`bool(user_${name})`);\n      } else {\n        retArr.push(`user_${name}`);\n      }\n    } else {\n      retArr.push(`user_${name}`);\n    }\n\n    return retArr;\n  }\n}\n\nmodule.exports = {\n  WebGL2FunctionNode\n};\n},{\"../../utils\":114,\"../web-gl/function-node\":38}],74:[function(require,module,exports){\nconst { WebGL2KernelValueBoolean } = require('./kernel-value/boolean');\nconst { WebGL2KernelValueFloat } = require('./kernel-value/float');\nconst { WebGL2KernelValueInteger } = require('./kernel-value/integer');\n\nconst { WebGL2KernelValueHTMLImage } = require('./kernel-value/html-image');\nconst { WebGL2KernelValueDynamicHTMLImage } = require('./kernel-value/dynamic-html-image');\n\nconst { WebGL2KernelValueHTMLImageArray } = require('./kernel-value/html-image-array');\nconst { WebGL2KernelValueDynamicHTMLImageArray } = require('./kernel-value/dynamic-html-image-array');\n\nconst { WebGL2KernelValueHTMLVideo } = require('./kernel-value/html-video');\nconst { WebGL2KernelValueDynamicHTMLVideo } = require('./kernel-value/dynamic-html-video');\n\nconst { WebGL2KernelValueSingleInput } = require('./kernel-value/single-input');\nconst { WebGL2KernelValueDynamicSingleInput } = require('./kernel-value/dynamic-single-input');\n\nconst { WebGL2KernelValueUnsignedInput } = require('./kernel-value/unsigned-input');\nconst { WebGL2KernelValueDynamicUnsignedInput } = require('./kernel-value/dynamic-unsigned-input');\n\nconst { WebGL2KernelValueMemoryOptimizedNumberTexture } = require('./kernel-value/memory-optimized-number-texture');\nconst { WebGL2KernelValueDynamicMemoryOptimizedNumberTexture } = require('./kernel-value/dynamic-memory-optimized-number-texture');\n\nconst { WebGL2KernelValueNumberTexture } = require('./kernel-value/number-texture');\nconst { WebGL2KernelValueDynamicNumberTexture } = require('./kernel-value/dynamic-number-texture');\n\nconst { WebGL2KernelValueSingleArray } = require('./kernel-value/single-array');\nconst { WebGL2KernelValueDynamicSingleArray } = require('./kernel-value/dynamic-single-array');\n\nconst { WebGL2KernelValueSingleArray1DI } = require('./kernel-value/single-array1d-i');\nconst { WebGL2KernelValueDynamicSingleArray1DI } = require('./kernel-value/dynamic-single-array1d-i');\n\nconst { WebGL2KernelValueSingleArray2DI } = require('./kernel-value/single-array2d-i');\nconst { WebGL2KernelValueDynamicSingleArray2DI } = require('./kernel-value/dynamic-single-array2d-i');\n\nconst { WebGL2KernelValueSingleArray3DI } = require('./kernel-value/single-array3d-i');\nconst { WebGL2KernelValueDynamicSingleArray3DI } = require('./kernel-value/dynamic-single-array3d-i');\n\nconst { WebGL2KernelValueSingleArray2 } = require('./kernel-value/single-array2');\nconst { WebGL2KernelValueSingleArray3 } = require('./kernel-value/single-array3');\nconst { WebGL2KernelValueSingleArray4 } = require('./kernel-value/single-array4');\n\nconst { WebGL2KernelValueUnsignedArray } = require('./kernel-value/unsigned-array');\nconst { WebGL2KernelValueDynamicUnsignedArray } = require('./kernel-value/dynamic-unsigned-array');\n\nconst kernelValueMaps = {\n  unsigned: {\n    dynamic: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Integer': WebGL2KernelValueInteger,\n      'Float': WebGL2KernelValueFloat,\n      'Array': WebGL2KernelValueDynamicUnsignedArray,\n      'Array(2)': false,\n      'Array(3)': false,\n      'Array(4)': false,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGL2KernelValueDynamicUnsignedInput,\n      'NumberTexture': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImage': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueDynamicHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Float': WebGL2KernelValueFloat,\n      'Integer': WebGL2KernelValueInteger,\n      'Array': WebGL2KernelValueUnsignedArray,\n      'Array(2)': false,\n      'Array(3)': false,\n      'Array(4)': false,\n      'Array1D(2)': false,\n      'Array1D(3)': false,\n      'Array1D(4)': false,\n      'Array2D(2)': false,\n      'Array2D(3)': false,\n      'Array2D(4)': false,\n      'Array3D(2)': false,\n      'Array3D(3)': false,\n      'Array3D(4)': false,\n      'Input': WebGL2KernelValueUnsignedInput,\n      'NumberTexture': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueHTMLImage,\n      'HTMLImage': WebGL2KernelValueHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueHTMLVideo,\n    }\n  },\n  single: {\n    dynamic: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Integer': WebGL2KernelValueInteger,\n      'Float': WebGL2KernelValueFloat,\n      'Array': WebGL2KernelValueDynamicSingleArray,\n      'Array(2)': WebGL2KernelValueSingleArray2,\n      'Array(3)': WebGL2KernelValueSingleArray3,\n      'Array(4)': WebGL2KernelValueSingleArray4,\n      'Array1D(2)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array1D(3)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array1D(4)': WebGL2KernelValueDynamicSingleArray1DI,\n      'Array2D(2)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array2D(3)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array2D(4)': WebGL2KernelValueDynamicSingleArray2DI,\n      'Array3D(2)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Array3D(3)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Array3D(4)': WebGL2KernelValueDynamicSingleArray3DI,\n      'Input': WebGL2KernelValueDynamicSingleInput,\n      'NumberTexture': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueDynamicNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueDynamicNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueDynamicMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImage': WebGL2KernelValueDynamicHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueDynamicHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueDynamicHTMLVideo,\n    },\n    static: {\n      'Boolean': WebGL2KernelValueBoolean,\n      'Float': WebGL2KernelValueFloat,\n      'Integer': WebGL2KernelValueInteger,\n      'Array': WebGL2KernelValueSingleArray,\n      'Array(2)': WebGL2KernelValueSingleArray2,\n      'Array(3)': WebGL2KernelValueSingleArray3,\n      'Array(4)': WebGL2KernelValueSingleArray4,\n      'Array1D(2)': WebGL2KernelValueSingleArray1DI,\n      'Array1D(3)': WebGL2KernelValueSingleArray1DI,\n      'Array1D(4)': WebGL2KernelValueSingleArray1DI,\n      'Array2D(2)': WebGL2KernelValueSingleArray2DI,\n      'Array2D(3)': WebGL2KernelValueSingleArray2DI,\n      'Array2D(4)': WebGL2KernelValueSingleArray2DI,\n      'Array3D(2)': WebGL2KernelValueSingleArray3DI,\n      'Array3D(3)': WebGL2KernelValueSingleArray3DI,\n      'Array3D(4)': WebGL2KernelValueSingleArray3DI,\n      'Input': WebGL2KernelValueSingleInput,\n      'NumberTexture': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(1)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(2)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(3)': WebGL2KernelValueNumberTexture,\n      'ArrayTexture(4)': WebGL2KernelValueNumberTexture,\n      'MemoryOptimizedNumberTexture': WebGL2KernelValueMemoryOptimizedNumberTexture,\n      'HTMLCanvas': WebGL2KernelValueHTMLImage,\n      'HTMLImage': WebGL2KernelValueHTMLImage,\n      'HTMLImageArray': WebGL2KernelValueHTMLImageArray,\n      'HTMLVideo': WebGL2KernelValueHTMLVideo,\n    }\n  },\n};\n\nfunction lookupKernelValueType(type, dynamic, precision, value) {\n  if (!type) {\n    throw new Error('type missing');\n  }\n  if (!dynamic) {\n    throw new Error('dynamic missing');\n  }\n  if (!precision) {\n    throw new Error('precision missing');\n  }\n  if (value.type) {\n    type = value.type;\n  }\n  const types = kernelValueMaps[precision][dynamic];\n  if (types[type] === false) {\n    return null;\n  } else if (types[type] === undefined) {\n    throw new Error(`Could not find a KernelValue for ${ type }`);\n  }\n  return types[type];\n}\n\nmodule.exports = {\n  kernelValueMaps,\n  lookupKernelValueType\n};\n},{\"./kernel-value/boolean\":75,\"./kernel-value/dynamic-html-image\":77,\"./kernel-value/dynamic-html-image-array\":76,\"./kernel-value/dynamic-html-video\":78,\"./kernel-value/dynamic-memory-optimized-number-texture\":79,\"./kernel-value/dynamic-number-texture\":80,\"./kernel-value/dynamic-single-array\":81,\"./kernel-value/dynamic-single-array1d-i\":82,\"./kernel-value/dynamic-single-array2d-i\":83,\"./kernel-value/dynamic-single-array3d-i\":84,\"./kernel-value/dynamic-single-input\":85,\"./kernel-value/dynamic-unsigned-array\":86,\"./kernel-value/dynamic-unsigned-input\":87,\"./kernel-value/float\":88,\"./kernel-value/html-image\":90,\"./kernel-value/html-image-array\":89,\"./kernel-value/html-video\":91,\"./kernel-value/integer\":92,\"./kernel-value/memory-optimized-number-texture\":93,\"./kernel-value/number-texture\":94,\"./kernel-value/single-array\":95,\"./kernel-value/single-array1d-i\":96,\"./kernel-value/single-array2\":97,\"./kernel-value/single-array2d-i\":98,\"./kernel-value/single-array3\":99,\"./kernel-value/single-array3d-i\":100,\"./kernel-value/single-array4\":101,\"./kernel-value/single-input\":102,\"./kernel-value/unsigned-array\":103,\"./kernel-value/unsigned-input\":104}],75:[function(require,module,exports){\nconst { WebGLKernelValueBoolean } = require('../../web-gl/kernel-value/boolean');\n\nclass WebGL2KernelValueBoolean extends WebGLKernelValueBoolean {}\n\nmodule.exports = {\n  WebGL2KernelValueBoolean\n};\n},{\"../../web-gl/kernel-value/boolean\":41}],76:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueHTMLImageArray } = require('./html-image-array');\n\nclass WebGL2KernelValueDynamicHTMLImageArray extends WebGL2KernelValueHTMLImageArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2DArray ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(images) {\n    const { width, height } = images[0];\n    this.checkSize(width, height);\n    this.dimensions = [width, height, images.length];\n    this.textureSize = [width, height];\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(images);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLImageArray\n};\n},{\"../../../utils\":114,\"./html-image-array\":89}],77:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicHTMLImage } = require('../../web-gl/kernel-value/dynamic-html-image');\n\nclass WebGL2KernelValueDynamicHTMLImage extends WebGLKernelValueDynamicHTMLImage {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLImage\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-html-image\":42}],78:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueDynamicHTMLImage } = require('./dynamic-html-image');\n\nclass WebGL2KernelValueDynamicHTMLVideo extends WebGL2KernelValueDynamicHTMLImage {}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicHTMLVideo\n};\n},{\"../../../utils\":114,\"./dynamic-html-image\":77}],79:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicMemoryOptimizedNumberTexture } = require('../../web-gl/kernel-value/dynamic-memory-optimized-number-texture');\n\nclass WebGL2KernelValueDynamicMemoryOptimizedNumberTexture extends WebGLKernelValueDynamicMemoryOptimizedNumberTexture {\n  getSource() {\n    return utils.linesToString([\n      `uniform sampler2D ${this.id}`,\n      `uniform ivec2 ${this.sizeId}`,\n      `uniform ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture\":44}],80:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicNumberTexture } = require('../../web-gl/kernel-value/dynamic-number-texture');\n\nclass WebGL2KernelValueDynamicNumberTexture extends WebGLKernelValueDynamicNumberTexture {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-number-texture\":45}],81:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray } = require('../../web-gl2/kernel-value/single-array');\n\nclass WebGL2KernelValueDynamicSingleArray extends WebGL2KernelValueSingleArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.dimensions = utils.getDimensions(value, true);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array\":95}],82:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray1DI } = require('../../web-gl2/kernel-value/single-array1d-i');\n\nclass WebGL2KernelValueDynamicSingleArray1DI extends WebGL2KernelValueSingleArray1DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray1DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array1d-i\":96}],83:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray2DI } = require('../../web-gl2/kernel-value/single-array2d-i');\n\nclass WebGL2KernelValueDynamicSingleArray2DI extends WebGL2KernelValueSingleArray2DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray2DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array2d-i\":98}],84:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleArray3DI } = require('../../web-gl2/kernel-value/single-array3d-i');\n\nclass WebGL2KernelValueDynamicSingleArray3DI extends WebGL2KernelValueSingleArray3DI {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    this.setShape(value);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleArray3DI\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-array3d-i\":100}],85:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueSingleInput } = require('../../web-gl2/kernel-value/single-input');\n\nclass WebGL2KernelValueDynamicSingleInput extends WebGL2KernelValueSingleInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n\n  updateValue(value) {\n    let [w, h, d] = value.size;\n    this.dimensions = new Int32Array([w || 1, h || 1, d || 1]);\n    this.textureSize = utils.getMemoryOptimizedFloatTextureSize(this.dimensions, this.bitRatio);\n    this.uploadArrayLength = this.textureSize[0] * this.textureSize[1] * this.bitRatio;\n    this.checkSize(this.textureSize[0], this.textureSize[1]);\n    this.uploadValue = new Float32Array(this.uploadArrayLength);\n    this.kernel.setUniform3iv(this.dimensionsId, this.dimensions);\n    this.kernel.setUniform2iv(this.sizeId, this.textureSize);\n    super.updateValue(value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicSingleInput\n};\n},{\"../../../utils\":114,\"../../web-gl2/kernel-value/single-input\":102}],86:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicUnsignedArray } = require('../../web-gl/kernel-value/dynamic-unsigned-array');\n\nclass WebGL2KernelValueDynamicUnsignedArray extends WebGLKernelValueDynamicUnsignedArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicUnsignedArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-unsigned-array\":51}],87:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueDynamicUnsignedInput } = require('../../web-gl/kernel-value/dynamic-unsigned-input');\n\nclass WebGL2KernelValueDynamicUnsignedInput extends WebGLKernelValueDynamicUnsignedInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `uniform ${ variablePrecision } ivec2 ${this.sizeId}`,\n      `uniform ${ variablePrecision } ivec3 ${this.dimensionsId}`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueDynamicUnsignedInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/dynamic-unsigned-input\":52}],88:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueFloat } = require('../../web-gl/kernel-value/float');\n\nclass WebGL2KernelValueFloat extends WebGLKernelValueFloat {}\n\nmodule.exports = {\n  WebGL2KernelValueFloat\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/float\":53}],89:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelArray } = require('../../web-gl/kernel-value/array');\n\nclass WebGL2KernelValueHTMLImageArray extends WebGLKernelArray {\n  constructor(value, settings) {\n    super(value, settings);\n    this.checkSize(value[0].width, value[0].height);\n    this.dimensions = [value[0].width, value[0].height, value.length];\n    this.textureSize = [value[0].width, value[0].height];\n  }\n  defineTexture() {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D_ARRAY, this.texture);\n    gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D_ARRAY, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  }\n\n  getStringValueHandler() {\n    return `const uploadValue_${this.name} = ${this.varName};\\n`;\n  }\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2DArray ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(images) {\n    const { context: gl } = this;\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D_ARRAY, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.texImage3D(\n      gl.TEXTURE_2D_ARRAY,\n      0,\n      gl.RGBA,\n      images[0].width,\n      images[0].height,\n      images.length,\n      0,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      null\n    );\n    for (let i = 0; i < images.length; i++) {\n      const xOffset = 0;\n      const yOffset = 0;\n      const imageDepth = 1;\n      gl.texSubImage3D(\n        gl.TEXTURE_2D_ARRAY,\n        0,\n        xOffset,\n        yOffset,\n        i,\n        images[i].width,\n        images[i].height,\n        imageDepth,\n        gl.RGBA,\n        gl.UNSIGNED_BYTE,\n        this.uploadValue = images[i]\n      );\n    }\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLImageArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/array\":40}],90:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueHTMLImage } = require('../../web-gl/kernel-value/html-image');\n\nclass WebGL2KernelValueHTMLImage extends WebGLKernelValueHTMLImage {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLImage\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/html-image\":54}],91:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGL2KernelValueHTMLImage } = require('./html-image');\n\nclass WebGL2KernelValueHTMLVideo extends WebGL2KernelValueHTMLImage {}\n\nmodule.exports = {\n  WebGL2KernelValueHTMLVideo\n};\n},{\"../../../utils\":114,\"./html-image\":90}],92:[function(require,module,exports){\nconst { WebGLKernelValueInteger } = require('../../web-gl/kernel-value/integer');\n\nclass WebGL2KernelValueInteger extends WebGLKernelValueInteger {\n  getSource(value) {\n    const variablePrecision = this.getVariablePrecisionString();\n    if (this.origin === 'constants') {\n      return `const ${ variablePrecision } int ${this.id} = ${ parseInt(value) };\\n`;\n    }\n    return `uniform ${ variablePrecision } int ${this.id};\\n`;\n  }\n\n  updateValue(value) {\n    if (this.origin === 'constants') return;\n    this.kernel.setUniform1i(this.id, this.uploadValue = value);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueInteger\n};\n},{\"../../web-gl/kernel-value/integer\":57}],93:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueMemoryOptimizedNumberTexture } = require('../../web-gl/kernel-value/memory-optimized-number-texture');\n\nclass WebGL2KernelValueMemoryOptimizedNumberTexture extends WebGLKernelValueMemoryOptimizedNumberTexture {\n  getSource() {\n    const { id, sizeId, textureSize, dimensionsId, dimensions } = this;\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform sampler2D ${id}`,\n      `${ variablePrecision } ivec2 ${sizeId} = ivec2(${textureSize[0]}, ${textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${dimensionsId} = ivec3(${dimensions[0]}, ${dimensions[1]}, ${dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueMemoryOptimizedNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/memory-optimized-number-texture\":58}],94:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueNumberTexture } = require('../../web-gl/kernel-value/number-texture');\n\nclass WebGL2KernelValueNumberTexture extends WebGLKernelValueNumberTexture {\n  getSource() {\n    const { id, sizeId, textureSize, dimensionsId, dimensions } = this;\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${id}`,\n      `${ variablePrecision } ivec2 ${sizeId} = ivec2(${textureSize[0]}, ${textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${dimensionsId} = ivec3(${dimensions[0]}, ${dimensions[1]}, ${dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueNumberTexture\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/number-texture\":59}],95:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray } = require('../../web-gl/kernel-value/single-array');\n\nclass WebGL2KernelValueSingleArray extends WebGLKernelValueSingleArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array\":60}],96:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray1DI } = require('../../web-gl/kernel-value/single-array1d-i');\n\nclass WebGL2KernelValueSingleArray1DI extends WebGLKernelValueSingleArray1DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray1DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array1d-i\":61}],97:[function(require,module,exports){\nconst { WebGLKernelValueSingleArray2 } = require('../../web-gl/kernel-value/single-array2');\n\nclass WebGL2KernelValueSingleArray2 extends WebGLKernelValueSingleArray2 {}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray2\n};\n},{\"../../web-gl/kernel-value/single-array2\":62}],98:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray2DI } = require('../../web-gl/kernel-value/single-array2d-i');\n\nclass WebGL2KernelValueSingleArray2DI extends WebGLKernelValueSingleArray2DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray2DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array2d-i\":63}],99:[function(require,module,exports){\nconst { WebGLKernelValueSingleArray3 } = require('../../web-gl/kernel-value/single-array3');\n\nclass WebGL2KernelValueSingleArray3 extends WebGLKernelValueSingleArray3 {}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray3\n};\n},{\"../../web-gl/kernel-value/single-array3\":64}],100:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleArray3DI } = require('../../web-gl/kernel-value/single-array3d-i');\n\nclass WebGL2KernelValueSingleArray3DI extends WebGLKernelValueSingleArray3DI {\n  updateValue(value) {\n    if (value.constructor !== this.initialValueConstructor) {\n      this.onUpdateValueMismatch(value.constructor);\n      return;\n    }\n    const { context: gl } = this;\n    utils.flattenTo(value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray3DI\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-array3d-i\":65}],101:[function(require,module,exports){\nconst { WebGLKernelValueSingleArray4 } = require('../../web-gl/kernel-value/single-array4');\n\nclass WebGL2KernelValueSingleArray4 extends WebGLKernelValueSingleArray4 {}\n\nmodule.exports = {\n  WebGL2KernelValueSingleArray4\n};\n},{\"../../web-gl/kernel-value/single-array4\":66}],102:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueSingleInput } = require('../../web-gl/kernel-value/single-input');\n\nclass WebGL2KernelValueSingleInput extends WebGLKernelValueSingleInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n\n  updateValue(input) {\n    const { context: gl } = this;\n    utils.flattenTo(input.value, this.uploadValue);\n    gl.activeTexture(this.contextHandle);\n    gl.bindTexture(gl.TEXTURE_2D, this.texture);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, this.textureSize[0], this.textureSize[1], 0, gl.RGBA, gl.FLOAT, this.uploadValue);\n    this.kernel.setUniform1i(this.id, this.index);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueSingleInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/single-input\":67}],103:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedArray } = require('../../web-gl/kernel-value/unsigned-array');\n\nclass WebGL2KernelValueUnsignedArray extends WebGLKernelValueUnsignedArray {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueUnsignedArray\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/unsigned-array\":68}],104:[function(require,module,exports){\nconst { utils } = require('../../../utils');\nconst { WebGLKernelValueUnsignedInput } = require('../../web-gl/kernel-value/unsigned-input');\n\nclass WebGL2KernelValueUnsignedInput extends WebGLKernelValueUnsignedInput {\n  getSource() {\n    const variablePrecision = this.getVariablePrecisionString();\n    return utils.linesToString([\n      `uniform ${ variablePrecision } sampler2D ${this.id}`,\n      `${ variablePrecision } ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,\n      `${ variablePrecision } ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`,\n    ]);\n  }\n}\n\nmodule.exports = {\n  WebGL2KernelValueUnsignedInput\n};\n},{\"../../../utils\":114,\"../../web-gl/kernel-value/unsigned-input\":69}],105:[function(require,module,exports){\nconst { WebGLKernel } = require('../web-gl/kernel');\nconst { WebGL2FunctionNode } = require('./function-node');\nconst { FunctionBuilder } = require('../function-builder');\nconst { utils } = require('../../utils');\nconst { fragmentShader } = require('./fragment-shader');\nconst { vertexShader } = require('./vertex-shader');\nconst { lookupKernelValueType } = require('./kernel-value-maps');\n\nlet isSupported = null;\nlet testCanvas = null;\nlet testContext = null;\nlet testExtensions = null;\n\nlet features = null;\n\nclass WebGL2Kernel extends WebGLKernel {\n  static get isSupported() {\n    if (isSupported !== null) {\n      return isSupported;\n    }\n    this.setupFeatureChecks();\n    isSupported = this.isContextMatch(testContext);\n    return isSupported;\n  }\n\n  static setupFeatureChecks() {\n    if (typeof document !== 'undefined') {\n      testCanvas = document.createElement('canvas');\n    } else if (typeof OffscreenCanvas !== 'undefined') {\n      testCanvas = new OffscreenCanvas(0, 0);\n    }\n    if (!testCanvas) return;\n    testContext = testCanvas.getContext('webgl2');\n    if (!testContext || !testContext.getExtension) return;\n    testExtensions = {\n      EXT_color_buffer_float: testContext.getExtension('EXT_color_buffer_float'),\n      OES_texture_float_linear: testContext.getExtension('OES_texture_float_linear'),\n    };\n    features = this.getFeatures();\n  }\n\n  static isContextMatch(context) {\n    if (typeof WebGL2RenderingContext !== 'undefined') {\n      return context instanceof WebGL2RenderingContext;\n    }\n    return false;\n  }\n\n  static getFeatures() {\n    const gl = this.testContext;\n    return Object.freeze({\n      isFloatRead: this.getIsFloatRead(),\n      isIntegerDivisionAccurate: this.getIsIntegerDivisionAccurate(),\n      isSpeedTacticSupported: this.getIsSpeedTacticSupported(),\n      kernelMap: true,\n      isTextureFloat: true,\n      isDrawBuffers: true,\n      channelCount: this.getChannelCount(),\n      maxTextureSize: this.getMaxTextureSize(),\n      lowIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT),\n      lowFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT),\n      mediumIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT),\n      mediumFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT),\n      highIntPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT),\n      highFloatPrecision: gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT),\n    });\n  }\n\n  static getIsTextureFloat() {\n    return true;\n  }\n\n  static getChannelCount() {\n    return testContext.getParameter(testContext.MAX_DRAW_BUFFERS);\n  }\n\n  static getMaxTextureSize() {\n    return testContext.getParameter(testContext.MAX_TEXTURE_SIZE);\n  }\n\n  static lookupKernelValueType(type, dynamic, precision, value) {\n    return lookupKernelValueType(type, dynamic, precision, value);\n  }\n\n  static get testCanvas() {\n    return testCanvas;\n  }\n\n  static get testContext() {\n    return testContext;\n  }\n\n  static get features() {\n    return features;\n  }\n\n  static get fragmentShader() {\n    return fragmentShader;\n  }\n  static get vertexShader() {\n    return vertexShader;\n  }\n\n  initContext() {\n    const settings = {\n      alpha: false,\n      depth: false,\n      antialias: false\n    };\n    return this.canvas.getContext('webgl2', settings);\n  }\n\n  initExtensions() {\n    this.extensions = {\n      EXT_color_buffer_float: this.context.getExtension('EXT_color_buffer_float'),\n      OES_texture_float_linear: this.context.getExtension('OES_texture_float_linear'),\n    };\n  }\n\n  validateSettings(args) {\n    if (!this.validate) {\n      this.texSize = utils.getKernelTextureSize({\n        optimizeFloatMemory: this.optimizeFloatMemory,\n        precision: this.precision,\n      }, this.output);\n      return;\n    }\n\n    const { features } = this.constructor;\n    if (this.precision === 'single' && !features.isFloatRead) {\n      throw new Error('Float texture outputs are not supported');\n    } else if (!this.graphical && this.precision === null) {\n      this.precision = features.isFloatRead ? 'single' : 'unsigned';\n    }\n\n    if (this.fixIntegerDivisionAccuracy === null) {\n      this.fixIntegerDivisionAccuracy = !features.isIntegerDivisionAccurate;\n    } else if (this.fixIntegerDivisionAccuracy && features.isIntegerDivisionAccurate) {\n      this.fixIntegerDivisionAccuracy = false;\n    }\n\n    this.checkOutput();\n\n    if (!this.output || this.output.length === 0) {\n      if (args.length !== 1) {\n        throw new Error('Auto output only supported for kernels with only one input');\n      }\n\n      const argType = utils.getVariableType(args[0], this.strictIntegers);\n      switch (argType) {\n        case 'Array':\n          this.output = utils.getDimensions(argType);\n          break;\n        case 'NumberTexture':\n        case 'MemoryOptimizedNumberTexture':\n        case 'ArrayTexture(1)':\n        case 'ArrayTexture(2)':\n        case 'ArrayTexture(3)':\n        case 'ArrayTexture(4)':\n          this.output = args[0].output;\n          break;\n        default:\n          throw new Error('Auto output not supported for input type: ' + argType);\n      }\n    }\n\n    if (this.graphical) {\n      if (this.output.length !== 2) {\n        throw new Error('Output must have 2 dimensions on graphical mode');\n      }\n\n      if (this.precision === 'single') {\n        console.warn('Cannot use graphical mode and single precision at the same time');\n        this.precision = 'unsigned';\n      }\n\n      this.texSize = utils.clone(this.output);\n      return;\n    } else if (!this.graphical && this.precision === null && features.isTextureFloat) {\n      this.precision = 'single';\n    }\n\n    this.texSize = utils.getKernelTextureSize({\n      optimizeFloatMemory: this.optimizeFloatMemory,\n      precision: this.precision,\n    }, this.output);\n\n    this.checkTextureSize();\n  }\n\n  translateSource() {\n    const functionBuilder = FunctionBuilder.fromKernel(this, WebGL2FunctionNode, {\n      fixIntegerDivisionAccuracy: this.fixIntegerDivisionAccuracy\n    });\n    this.translatedSource = functionBuilder.getPrototypeString('kernel');\n    this.setupReturnTypes(functionBuilder);\n  }\n\n  drawBuffers() {\n    this.context.drawBuffers(this.drawBuffersMap);\n  }\n\n  getTextureFormat() {\n    const { context: gl } = this;\n    switch (this.getInternalFormat()) {\n      case gl.R32F:\n        return gl.RED;\n      case gl.RG32F:\n        return gl.RG;\n      case gl.RGBA32F:\n        return gl.RGBA;\n      case gl.RGBA:\n        return gl.RGBA;\n      default:\n        throw new Error('Unknown internal format');\n    }\n  }\n  getInternalFormat() {\n    const { context: gl } = this;\n\n    if (this.precision === 'single') {\n      if (this.pipeline) {\n        switch (this.returnType) {\n          case 'Number':\n          case 'Float':\n          case 'Integer':\n            if (this.optimizeFloatMemory) {\n              return gl.RGBA32F;\n            } else {\n              return gl.R32F;\n            }\n            case 'Array(2)':\n              return gl.RG32F;\n            case 'Array(3)': \n            case 'Array(4)':\n              return gl.RGBA32F;\n            default:\n              throw new Error('Unhandled return type');\n        }\n      }\n      return gl.RGBA32F;\n    }\n    return gl.RGBA;\n  }\n\n  _setupOutputTexture() {\n    const gl = this.context;\n    if (this.texture) {\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n      return;\n    }\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n    const texture = gl.createTexture();\n    const texSize = this.texSize;\n    gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    const format = this.getInternalFormat();\n    if (this.precision === 'single') {\n      gl.texStorage2D(gl.TEXTURE_2D, 1, format, texSize[0], texSize[1]);\n    } else {\n      gl.texImage2D(gl.TEXTURE_2D, 0, format, texSize[0], texSize[1], 0, format, gl.UNSIGNED_BYTE, null);\n    }\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    this.texture = new this.TextureConstructor({\n      texture,\n      size: texSize,\n      dimensions: this.threadDim,\n      output: this.output,\n      context: this.context,\n      internalFormat: this.getInternalFormat(),\n      textureFormat: this.getTextureFormat(),\n      kernel: this,\n    });\n  }\n\n  _setupSubOutputTextures() {\n    const gl = this.context;\n    if (this.mappedTextures) {\n      for (let i = 0; i < this.subKernels.length; i++) {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, this.mappedTextures[i].texture, 0);\n      }\n      return;\n    }\n    const texSize = this.texSize;\n    this.drawBuffersMap = [gl.COLOR_ATTACHMENT0];\n    this.mappedTextures = [];\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const texture = this.createTexture();\n      this.drawBuffersMap.push(gl.COLOR_ATTACHMENT0 + i + 1);\n      gl.activeTexture(gl.TEXTURE0 + this.constantTextureCount + this.argumentTextureCount + i);\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      const format = this.getInternalFormat();\n      if (this.precision === 'single') {\n        gl.texStorage2D(gl.TEXTURE_2D, 1, format, texSize[0], texSize[1]);\n      } else {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texSize[0], texSize[1], 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      }\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i + 1, gl.TEXTURE_2D, texture, 0);\n\n      this.mappedTextures.push(new this.TextureConstructor({\n        texture,\n        size: texSize,\n        dimensions: this.threadDim,\n        output: this.output,\n        context: this.context,\n        internalFormat: this.getInternalFormat(),\n        textureFormat: this.getTextureFormat(),\n        kernel: this,\n      }));\n    }\n  }\n\n  _getHeaderString() {\n    return '';\n  }\n\n  _getTextureCoordinate() {\n    const subKernels = this.subKernels;\n    const variablePrecision = this.getVariablePrecisionString(this.texSize, this.tactic);\n    if (subKernels === null || subKernels.length < 1) {\n      return `in ${ variablePrecision } vec2 vTexCoord;\\n`;\n    } else {\n      return `out ${ variablePrecision } vec2 vTexCoord;\\n`;\n    }\n  }\n\n  _getMainArgumentsString(args) {\n    const result = [];\n    const argumentNames = this.argumentNames;\n    for (let i = 0; i < argumentNames.length; i++) {\n      result.push(this.kernelArguments[i].getSource(args[i]));\n    }\n    return result.join('');\n  }\n\n  getKernelString() {\n    const result = [this.getKernelResultDeclaration()];\n    const subKernels = this.subKernels;\n    if (subKernels !== null) {\n      result.push(\n        'layout(location = 0) out vec4 data0'\n      );\n      switch (this.returnType) {\n        case 'Number':\n        case 'Float':\n        case 'Integer':\n          for (let i = 0; i < subKernels.length; i++) {\n            const subKernel = subKernels[i];\n            result.push(\n              subKernel.returnType === 'Integer' ?\n              `int subKernelResult_${ subKernel.name } = 0` :\n              `float subKernelResult_${ subKernel.name } = 0.0`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(2)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec2 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(3)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec3 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n        case 'Array(4)':\n          for (let i = 0; i < subKernels.length; i++) {\n            result.push(\n              `vec4 subKernelResult_${ subKernels[i].name }`,\n              `layout(location = ${ i + 1 }) out vec4 data${ i + 1 }`\n            );\n          }\n          break;\n      }\n    } else {\n      result.push(\n        'out vec4 data0'\n      );\n    }\n\n    return utils.linesToString(result) + this.translatedSource;\n  }\n\n  getMainResultGraphical() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0 = actualColor',\n    ]);\n  }\n\n  getMainResultPackedPixels() {\n    switch (this.returnType) {\n      case 'LiteralInteger':\n      case 'Number':\n      case 'Integer':\n      case 'Float':\n        return this.getMainResultKernelPackedPixels() +\n          this.getMainResultSubKernelPackedPixels();\n      default:\n        throw new Error(`packed output only usable with Numbers, \"${this.returnType}\" specified`);\n    }\n  }\n\n  getMainResultKernelPackedPixels() {\n    return utils.linesToString([\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  data0 = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(kernelResult)`\n    ]);\n  }\n\n  getMainResultSubKernelPackedPixels() {\n    const result = [];\n    if (!this.subKernels) return '';\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1} = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(float(subKernelResult_${this.subKernels[i].name}))`\n        );\n      } else {\n        result.push(\n          `  data${i + 1} = ${this.useLegacyEncoder ? 'legacyEncode32' : 'encode32'}(subKernelResult_${this.subKernels[i].name})`\n        );\n      }\n    }\n    return utils.linesToString(result);\n  }\n\n  getMainResultKernelMemoryOptimizedFloats(result, channel) {\n    result.push(\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      `  data0.${channel} = kernelResult`,\n    );\n  }\n\n  getMainResultSubKernelMemoryOptimizedFloats(result, channel) {\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; i++) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1}.${channel} = float(subKernelResult_${subKernel.name})`,\n        );\n      } else {\n        result.push(\n          `  data${i + 1}.${channel} = subKernelResult_${subKernel.name}`,\n        );\n      }\n    }\n  }\n\n  getMainResultKernelNumberTexture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelNumberTexture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      if (subKernel.returnType === 'Integer') {\n        result.push(\n          `  data${i + 1}[0] = float(subKernelResult_${subKernel.name})`,\n        );\n      } else {\n        result.push(\n          `  data${i + 1}[0] = subKernelResult_${subKernel.name}`,\n        );\n      }\n    }\n    return result;\n  }\n\n  getMainResultKernelArray2Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult[0]',\n      '  data0[1] = kernelResult[1]',\n    ];\n  }\n\n  getMainResultSubKernelArray2Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      result.push(\n        `  data${i + 1}[0] = subKernelResult_${subKernel.name}[0]`,\n        `  data${i + 1}[1] = subKernelResult_${subKernel.name}[1]`,\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray3Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0[0] = kernelResult[0]',\n      '  data0[1] = kernelResult[1]',\n      '  data0[2] = kernelResult[2]',\n    ];\n  }\n\n  getMainResultSubKernelArray3Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      const subKernel = this.subKernels[i];\n      result.push(\n        `  data${i + 1}[0] = subKernelResult_${subKernel.name}[0]`,\n        `  data${i + 1}[1] = subKernelResult_${subKernel.name}[1]`,\n        `  data${i + 1}[2] = subKernelResult_${subKernel.name}[2]`,\n      );\n    }\n    return result;\n  }\n\n  getMainResultKernelArray4Texture() {\n    return [\n      '  threadId = indexTo3D(index, uOutputDim)',\n      '  kernel()',\n      '  data0 = kernelResult',\n    ];\n  }\n\n  getMainResultSubKernelArray4Texture() {\n    const result = [];\n    if (!this.subKernels) return result;\n    for (let i = 0; i < this.subKernels.length; ++i) {\n      result.push(\n        `  data${i + 1} = subKernelResult_${this.subKernels[i].name}`,\n      );\n    }\n    return result;\n  }\n\n  destroyExtensions() {\n    this.extensions.EXT_color_buffer_float = null;\n    this.extensions.OES_texture_float_linear = null;\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.functionNodes = FunctionBuilder.fromKernel(this, WebGL2FunctionNode).toJSON();\n    json.settings.threadDim = this.threadDim;\n    return json;\n  }\n}\n\nmodule.exports = {\n  WebGL2Kernel\n};\n},{\"../../utils\":114,\"../function-builder\":9,\"../web-gl/kernel\":70,\"./fragment-shader\":72,\"./function-node\":73,\"./kernel-value-maps\":74,\"./vertex-shader\":106}],106:[function(require,module,exports){\nconst vertexShader = `#version 300 es\n__FLOAT_TACTIC_DECLARATION__;\n__INT_TACTIC_DECLARATION__;\n__SAMPLER_2D_TACTIC_DECLARATION__;\n\nin vec2 aPos;\nin vec2 aTexCoord;\n\nout vec2 vTexCoord;\nuniform vec2 ratio;\n\nvoid main(void) {\n  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);\n  vTexCoord = aTexCoord;\n}`;\n\nmodule.exports = {\n  vertexShader\n};\n},{}],107:[function(require,module,exports){\nconst lib = require('./index');\nconst GPU = lib.GPU;\nfor (const p in lib) {\n  if (!lib.hasOwnProperty(p)) continue;\n  if (p === 'GPU') continue; \n  GPU[p] = lib[p];\n}\n\nif (typeof window !== 'undefined') {\n  bindTo(window);\n}\nif (typeof self !== 'undefined') {\n  bindTo(self);\n}\n\nfunction bindTo(target) {\n  if (target.GPU) return;\n  Object.defineProperty(target, 'GPU', {\n    get() {\n      return GPU;\n    }\n  });\n}\n\nmodule.exports = lib;\n},{\"./index\":109}],108:[function(require,module,exports){\nconst { gpuMock } = require('gpu-mock.js');\nconst { utils } = require('./utils');\nconst { Kernel } = require('./backend/kernel');\nconst { CPUKernel } = require('./backend/cpu/kernel');\nconst { HeadlessGLKernel } = require('./backend/headless-gl/kernel');\nconst { WebGL2Kernel } = require('./backend/web-gl2/kernel');\nconst { WebGLKernel } = require('./backend/web-gl/kernel');\nconst { kernelRunShortcut } = require('./kernel-run-shortcut');\n\n\nconst kernelOrder = [HeadlessGLKernel, WebGL2Kernel, WebGLKernel];\n\nconst kernelTypes = ['gpu', 'cpu'];\n\nconst internalKernels = {\n  'headlessgl': HeadlessGLKernel,\n  'webgl2': WebGL2Kernel,\n  'webgl': WebGLKernel,\n};\n\nlet validate = true;\n\nclass GPU {\n  static disableValidation() {\n    validate = false;\n  }\n\n  static enableValidation() {\n    validate = true;\n  }\n\n  static get isGPUSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported);\n  }\n\n  static get isKernelMapSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported && Kernel.features.kernelMap);\n  }\n\n  static get isOffscreenCanvasSupported() {\n    return (typeof Worker !== 'undefined' && typeof OffscreenCanvas !== 'undefined') || typeof importScripts !== 'undefined';\n  }\n\n  static get isWebGLSupported() {\n    return WebGLKernel.isSupported;\n  }\n\n  static get isWebGL2Supported() {\n    return WebGL2Kernel.isSupported;\n  }\n\n  static get isHeadlessGLSupported() {\n    return HeadlessGLKernel.isSupported;\n  }\n\n  static get isCanvasSupported() {\n    return typeof HTMLCanvasElement !== 'undefined';\n  }\n\n  static get isGPUHTMLImageArraySupported() {\n    return WebGL2Kernel.isSupported;\n  }\n\n  static get isSinglePrecisionSupported() {\n    return kernelOrder.some(Kernel => Kernel.isSupported && Kernel.features.isFloatRead && Kernel.features.isTextureFloat);\n  }\n\n  constructor(settings) {\n    settings = settings || {};\n    this.canvas = settings.canvas || null;\n    this.context = settings.context || null;\n    this.mode = settings.mode;\n    this.Kernel = null;\n    this.kernels = [];\n    this.functions = [];\n    this.nativeFunctions = [];\n    this.injectedNative = null;\n    this.onIstanbulCoverageVariable = settings.onIstanbulCoverageVariable || null;\n    this.removeIstanbulCoverage = settings.hasOwnProperty('removeIstanbulCoverage') ? settings.removeIstanbulCoverage : null;\n    if (this.mode === 'dev') return;\n    this.chooseKernel();\n    if (settings.functions) {\n      for (let i = 0; i < settings.functions.length; i++) {\n        this.addFunction(settings.functions[i]);\n      }\n    }\n\n    if (settings.nativeFunctions) {\n      for (const p in settings.nativeFunctions) {\n        if (!settings.nativeFunctions.hasOwnProperty(p)) continue;\n        const s = settings.nativeFunctions[p];\n        const { name, source } = s;\n        this.addNativeFunction(name, source, s);\n      }\n    }\n  }\n\n  chooseKernel() {\n    if (this.Kernel) return;\n\n    let Kernel = null;\n\n    if (this.context) {\n      for (let i = 0; i < kernelOrder.length; i++) {\n        const ExternalKernel = kernelOrder[i];\n        if (ExternalKernel.isContextMatch(this.context)) {\n          if (!ExternalKernel.isSupported) {\n            throw new Error(`Kernel type ${ExternalKernel.name} not supported`);\n          }\n          Kernel = ExternalKernel;\n          break;\n        }\n      }\n      if (Kernel === null) {\n        throw new Error('unknown Context');\n      }\n    } else if (this.mode) {\n      if (this.mode in internalKernels) {\n        if (!validate || internalKernels[this.mode].isSupported) {\n          Kernel = internalKernels[this.mode];\n        }\n      } else if (this.mode === 'gpu') {\n        for (let i = 0; i < kernelOrder.length; i++) {\n          if (kernelOrder[i].isSupported) {\n            Kernel = kernelOrder[i];\n            break;\n          }\n        }\n      } else if (this.mode === 'cpu') {\n        Kernel = CPUKernel;\n      }\n      if (!Kernel) {\n        throw new Error(`A requested mode of \"${this.mode}\" and is not supported`);\n      }\n    } else {\n      for (let i = 0; i < kernelOrder.length; i++) {\n        if (kernelOrder[i].isSupported) {\n          Kernel = kernelOrder[i];\n          break;\n        }\n      }\n      if (!Kernel) {\n        Kernel = CPUKernel;\n      }\n    }\n\n    if (!this.mode) {\n      this.mode = Kernel.mode;\n    }\n    this.Kernel = Kernel;\n  }\n\n  createKernel(source, settings) {\n    if (typeof source === 'undefined') {\n      throw new Error('Missing source parameter');\n    }\n    if (typeof source !== 'object' && !utils.isFunction(source) && typeof source !== 'string') {\n      throw new Error('source parameter not a function');\n    }\n\n    const kernels = this.kernels;\n    if (this.mode === 'dev') {\n      const devKernel = gpuMock(source, upgradeDeprecatedCreateKernelSettings(settings));\n      kernels.push(devKernel);\n      return devKernel;\n    }\n\n    source = typeof source === 'function' ? source.toString() : source;\n    const switchableKernels = {};\n    const settingsCopy = upgradeDeprecatedCreateKernelSettings(settings) || {};\n    if (settings && typeof settings.argumentTypes === 'object') {\n      settingsCopy.argumentTypes = Object.keys(settings.argumentTypes).map(argumentName => settings.argumentTypes[argumentName]);\n    }\n\n    function onRequestFallback(args) {\n      console.warn('Falling back to CPU');\n      const fallbackKernel = new CPUKernel(source, {\n        argumentTypes: kernelRun.argumentTypes,\n        constantTypes: kernelRun.constantTypes,\n        graphical: kernelRun.graphical,\n        loopMaxIterations: kernelRun.loopMaxIterations,\n        constants: kernelRun.constants,\n        dynamicOutput: kernelRun.dynamicOutput,\n        dynamicArgument: kernelRun.dynamicArguments,\n        output: kernelRun.output,\n        precision: kernelRun.precision,\n        pipeline: kernelRun.pipeline,\n        immutable: kernelRun.immutable,\n        optimizeFloatMemory: kernelRun.optimizeFloatMemory,\n        fixIntegerDivisionAccuracy: kernelRun.fixIntegerDivisionAccuracy,\n        functions: kernelRun.functions,\n        nativeFunctions: kernelRun.nativeFunctions,\n        injectedNative: kernelRun.injectedNative,\n        subKernels: kernelRun.subKernels,\n        strictIntegers: kernelRun.strictIntegers,\n        debug: kernelRun.debug,\n      });\n      fallbackKernel.build.apply(fallbackKernel, args);\n      const result = fallbackKernel.run.apply(fallbackKernel, args);\n      kernelRun.replaceKernel(fallbackKernel);\n      return result;\n    }\n\n    function onRequestSwitchKernel(reasons, args, _kernel) {\n      if (_kernel.debug) {\n        console.warn('Switching kernels');\n      }\n      let newOutput = null;\n      if (_kernel.signature && !switchableKernels[_kernel.signature]) {\n        switchableKernels[_kernel.signature] = _kernel;\n      }\n      if (_kernel.dynamicOutput) {\n        for (let i = reasons.length - 1; i >= 0; i--) {\n          const reason = reasons[i];\n          if (reason.type === 'outputPrecisionMismatch') {\n            newOutput = reason.needed;\n          }\n        }\n      }\n\n      const Constructor = _kernel.constructor;\n      const argumentTypes = Constructor.getArgumentTypes(_kernel, args);\n      const signature = Constructor.getSignature(_kernel, argumentTypes);\n      const existingKernel = switchableKernels[signature];\n      if (existingKernel) {\n        existingKernel.onActivate(_kernel);\n        return existingKernel;\n      }\n\n      const newKernel = switchableKernels[signature] = new Constructor(source, {\n        argumentTypes,\n        constantTypes: _kernel.constantTypes,\n        graphical: _kernel.graphical,\n        loopMaxIterations: _kernel.loopMaxIterations,\n        constants: _kernel.constants,\n        dynamicOutput: _kernel.dynamicOutput,\n        dynamicArgument: _kernel.dynamicArguments,\n        context: _kernel.context,\n        canvas: _kernel.canvas,\n        output: newOutput || _kernel.output,\n        precision: _kernel.precision,\n        pipeline: _kernel.pipeline,\n        immutable: _kernel.immutable,\n        optimizeFloatMemory: _kernel.optimizeFloatMemory,\n        fixIntegerDivisionAccuracy: _kernel.fixIntegerDivisionAccuracy,\n        functions: _kernel.functions,\n        nativeFunctions: _kernel.nativeFunctions,\n        injectedNative: _kernel.injectedNative,\n        subKernels: _kernel.subKernels,\n        strictIntegers: _kernel.strictIntegers,\n        debug: _kernel.debug,\n        gpu: _kernel.gpu,\n        validate,\n        returnType: _kernel.returnType,\n        onIstanbulCoverageVariable: _kernel.onIstanbulCoverageVariable,\n        removeIstanbulCoverage: _kernel.removeIstanbulCoverage,\n        tactic: _kernel.tactic,\n        onRequestFallback,\n        onRequestSwitchKernel,\n        texture: _kernel.texture,\n        mappedTextures: _kernel.mappedTextures,\n        drawBuffersMap: _kernel.drawBuffersMap,\n      });\n      newKernel.build.apply(newKernel, args);\n      kernelRun.replaceKernel(newKernel);\n      kernels.push(newKernel);\n      return newKernel;\n    }\n    const mergedSettings = Object.assign({\n      context: this.context,\n      canvas: this.canvas,\n      functions: this.functions,\n      nativeFunctions: this.nativeFunctions,\n      injectedNative: this.injectedNative,\n      onIstanbulCoverageVariable: this.onIstanbulCoverageVariable,\n      removeIstanbulCoverage: this.removeIstanbulCoverage,\n      gpu: this,\n      validate,\n      onRequestFallback,\n      onRequestSwitchKernel\n    }, settingsCopy);\n\n    const kernel = new this.Kernel(source, mergedSettings);\n    const kernelRun = kernelRunShortcut(kernel);\n\n    if (!this.canvas) {\n      this.canvas = kernel.canvas;\n    }\n\n    if (!this.context) {\n      this.context = kernel.context;\n    }\n\n    kernels.push(kernel);\n\n    return kernelRun;\n  }\n\n  createKernelMap() {\n    let fn;\n    let settings;\n    const argument2Type = typeof arguments[arguments.length - 2];\n    if (argument2Type === 'function' || argument2Type === 'string') {\n      fn = arguments[arguments.length - 2];\n      settings = arguments[arguments.length - 1];\n    } else {\n      fn = arguments[arguments.length - 1];\n    }\n\n    if (this.mode !== 'dev') {\n      if (!this.Kernel.isSupported || !this.Kernel.features.kernelMap) {\n        if (this.mode && kernelTypes.indexOf(this.mode) < 0) {\n          throw new Error(`kernelMap not supported on ${this.Kernel.name}`);\n        }\n      }\n    }\n\n    const settingsCopy = upgradeDeprecatedCreateKernelSettings(settings);\n    if (settings && typeof settings.argumentTypes === 'object') {\n      settingsCopy.argumentTypes = Object.keys(settings.argumentTypes).map(argumentName => settings.argumentTypes[argumentName]);\n    }\n\n    if (Array.isArray(arguments[0])) {\n      settingsCopy.subKernels = [];\n      const functions = arguments[0];\n      for (let i = 0; i < functions.length; i++) {\n        const source = functions[i].toString();\n        const name = utils.getFunctionNameFromString(source);\n        settingsCopy.subKernels.push({\n          name,\n          source,\n          property: i,\n        });\n      }\n    } else {\n      settingsCopy.subKernels = [];\n      const functions = arguments[0];\n      for (let p in functions) {\n        if (!functions.hasOwnProperty(p)) continue;\n        const source = functions[p].toString();\n        const name = utils.getFunctionNameFromString(source);\n        settingsCopy.subKernels.push({\n          name: name || p,\n          source,\n          property: p,\n        });\n      }\n    }\n    return this.createKernel(fn, settingsCopy);\n  }\n\n  combineKernels() {\n    const firstKernel = arguments[0];\n    const combinedKernel = arguments[arguments.length - 1];\n    if (firstKernel.kernel.constructor.mode === 'cpu') return combinedKernel;\n    const canvas = arguments[0].canvas;\n    const context = arguments[0].context;\n    const max = arguments.length - 1;\n    for (let i = 0; i < max; i++) {\n      arguments[i]\n        .setCanvas(canvas)\n        .setContext(context)\n        .setPipeline(true);\n    }\n\n    return function() {\n      const texture = combinedKernel.apply(this, arguments);\n      if (texture.toArray) {\n        return texture.toArray();\n      }\n      return texture;\n    };\n  }\n\n  setFunctions(functions) {\n    this.functions = functions;\n    return this;\n  }\n\n  setNativeFunctions(nativeFunctions) {\n    this.nativeFunctions = nativeFunctions;\n    return this;\n  }\n\n  addFunction(source, settings) {\n    this.functions.push({ source, settings });\n    return this;\n  }\n\n  addNativeFunction(name, source, settings) {\n    if (this.kernels.length > 0) {\n      throw new Error('Cannot call \"addNativeFunction\" after \"createKernels\" has been called.');\n    }\n    this.nativeFunctions.push(Object.assign({ name, source }, settings));\n    return this;\n  }\n\n  injectNative(source) {\n    this.injectedNative = source;\n    return this;\n  }\n\n  destroy() {\n    return new Promise((resolve, reject) => {\n      if (!this.kernels) {\n        resolve();\n      }\n      setTimeout(() => {\n        try {\n          for (let i = 0; i < this.kernels.length; i++) {\n            this.kernels[i].destroy(true); \n          }\n          let firstKernel = this.kernels[0];\n          if (firstKernel) {\n            if (firstKernel.kernel) {\n              firstKernel = firstKernel.kernel;\n            }\n            if (firstKernel.constructor.destroyContext) {\n              firstKernel.constructor.destroyContext(this.context);\n            }\n          }\n        } catch (e) {\n          reject(e);\n        }\n        resolve();\n      }, 0);\n    });\n  }\n}\n\n\nfunction upgradeDeprecatedCreateKernelSettings(settings) {\n  if (!settings) {\n    return {};\n  }\n  const upgradedSettings = Object.assign({}, settings);\n\n  if (settings.hasOwnProperty('floatOutput')) {\n    utils.warnDeprecated('setting', 'floatOutput', 'precision');\n    upgradedSettings.precision = settings.floatOutput ? 'single' : 'unsigned';\n  }\n  if (settings.hasOwnProperty('outputToTexture')) {\n    utils.warnDeprecated('setting', 'outputToTexture', 'pipeline');\n    upgradedSettings.pipeline = Boolean(settings.outputToTexture);\n  }\n  if (settings.hasOwnProperty('outputImmutable')) {\n    utils.warnDeprecated('setting', 'outputImmutable', 'immutable');\n    upgradedSettings.immutable = Boolean(settings.outputImmutable);\n  }\n  if (settings.hasOwnProperty('floatTextures')) {\n    utils.warnDeprecated('setting', 'floatTextures', 'optimizeFloatMemory');\n    upgradedSettings.optimizeFloatMemory = Boolean(settings.floatTextures);\n  }\n  return upgradedSettings;\n}\n\nmodule.exports = {\n  GPU,\n  kernelOrder,\n  kernelTypes\n};\n},{\"./backend/cpu/kernel\":8,\"./backend/headless-gl/kernel\":34,\"./backend/kernel\":36,\"./backend/web-gl/kernel\":70,\"./backend/web-gl2/kernel\":105,\"./kernel-run-shortcut\":111,\"./utils\":114,\"gpu-mock.js\":4}],109:[function(require,module,exports){\nconst { GPU } = require('./gpu');\nconst { alias } = require('./alias');\nconst { utils } = require('./utils');\nconst { Input, input } = require('./input');\nconst { Texture } = require('./texture');\nconst { FunctionBuilder } = require('./backend/function-builder');\nconst { FunctionNode } = require('./backend/function-node');\nconst { CPUFunctionNode } = require('./backend/cpu/function-node');\nconst { CPUKernel } = require('./backend/cpu/kernel');\n\nconst { HeadlessGLKernel } = require('./backend/headless-gl/kernel');\n\nconst { WebGLFunctionNode } = require('./backend/web-gl/function-node');\nconst { WebGLKernel } = require('./backend/web-gl/kernel');\nconst { kernelValueMaps: webGLKernelValueMaps } = require('./backend/web-gl/kernel-value-maps');\n\nconst { WebGL2FunctionNode } = require('./backend/web-gl2/function-node');\nconst { WebGL2Kernel } = require('./backend/web-gl2/kernel');\nconst { kernelValueMaps: webGL2KernelValueMaps } = require('./backend/web-gl2/kernel-value-maps');\n\nconst { GLKernel } = require('./backend/gl/kernel');\n\nconst { Kernel } = require('./backend/kernel');\n\nconst { FunctionTracer } = require('./backend/function-tracer');\n\nconst mathRandom = require('./plugins/math-random-uniformly-distributed');\n\nmodule.exports = {\n  alias,\n  CPUFunctionNode,\n  CPUKernel,\n  GPU,\n  FunctionBuilder,\n  FunctionNode,\n  HeadlessGLKernel,\n  Input,\n  input,\n  Texture,\n  utils,\n\n  WebGL2FunctionNode,\n  WebGL2Kernel,\n  webGL2KernelValueMaps,\n\n  WebGLFunctionNode,\n  WebGLKernel,\n  webGLKernelValueMaps,\n\n  GLKernel,\n  Kernel,\n  FunctionTracer,\n\n  plugins: {\n    mathRandom\n  }\n};\n},{\"./alias\":5,\"./backend/cpu/function-node\":6,\"./backend/cpu/kernel\":8,\"./backend/function-builder\":9,\"./backend/function-node\":10,\"./backend/function-tracer\":11,\"./backend/gl/kernel\":13,\"./backend/headless-gl/kernel\":34,\"./backend/kernel\":36,\"./backend/web-gl/function-node\":38,\"./backend/web-gl/kernel\":70,\"./backend/web-gl/kernel-value-maps\":39,\"./backend/web-gl2/function-node\":73,\"./backend/web-gl2/kernel\":105,\"./backend/web-gl2/kernel-value-maps\":74,\"./gpu\":108,\"./input\":110,\"./plugins/math-random-uniformly-distributed\":112,\"./texture\":113,\"./utils\":114}],110:[function(require,module,exports){\nclass Input {\n  constructor(value, size) {\n    this.value = value;\n    if (Array.isArray(size)) {\n      this.size = size;\n    } else {\n      this.size = new Int32Array(3);\n      if (size.z) {\n        this.size = new Int32Array([size.x, size.y, size.z]);\n      } else if (size.y) {\n        this.size = new Int32Array([size.x, size.y]);\n      } else {\n        this.size = new Int32Array([size.x]);\n      }\n    }\n\n    const [w, h, d] = this.size;\n    if (d) {\n      if (this.value.length !== (w * h * d)) {\n        throw new Error(`Input size ${this.value.length} does not match ${w} * ${h} * ${d} = ${(h * w * d)}`);\n      }\n    } else if (h) {\n      if (this.value.length !== (w * h)) {\n        throw new Error(`Input size ${this.value.length} does not match ${w} * ${h} = ${(h * w)}`);\n      }\n    } else {\n      if (this.value.length !== w) {\n        throw new Error(`Input size ${this.value.length} does not match ${w}`);\n      }\n    }\n\n  }\n\n  toArray() {\n    const { utils } = require('./utils');\n    const [w, h, d] = this.size;\n    if (d) {\n      return utils.erectMemoryOptimized3DFloat(this.value.subarray ? this.value : new Float32Array(this.value), w, h, d);\n    } else if (h) {\n      return utils.erectMemoryOptimized2DFloat(this.value.subarray ? this.value : new Float32Array(this.value), w, h);\n    } else {\n      return this.value;\n    }\n  }\n}\n\nfunction input(value, size) {\n  return new Input(value, size);\n}\n\nmodule.exports = {\n  Input,\n  input\n};\n},{\"./utils\":114}],111:[function(require,module,exports){\nconst { utils } = require('./utils');\n\nfunction kernelRunShortcut(kernel) {\n  let run = function() {\n    kernel.build.apply(kernel, arguments);\n    run = function() {\n      let result = kernel.run.apply(kernel, arguments);\n      if (kernel.switchingKernels) {\n        const reasons = kernel.resetSwitchingKernels();\n        const newKernel = kernel.onRequestSwitchKernel(reasons, arguments, kernel);\n        shortcut.kernel = kernel = newKernel;\n        result = newKernel.run.apply(newKernel, arguments);\n      }\n      if (kernel.renderKernels) {\n        return kernel.renderKernels();\n      } else if (kernel.renderOutput) {\n        return kernel.renderOutput();\n      } else {\n        return result;\n      }\n    };\n    return run.apply(kernel, arguments);\n  };\n  const shortcut = function() {\n    return run.apply(kernel, arguments);\n  };\n  shortcut.exec = function() {\n    return new Promise((accept, reject) => {\n      try {\n        accept(run.apply(this, arguments));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  };\n  shortcut.replaceKernel = function(replacementKernel) {\n    kernel = replacementKernel;\n    bindKernelToShortcut(kernel, shortcut);\n  };\n\n  bindKernelToShortcut(kernel, shortcut);\n  return shortcut;\n}\n\nfunction bindKernelToShortcut(kernel, shortcut) {\n  if (shortcut.kernel) {\n    shortcut.kernel = kernel;\n    return;\n  }\n  const properties = utils.allPropertiesOf(kernel);\n  for (let i = 0; i < properties.length; i++) {\n    const property = properties[i];\n    if (property[0] === '_' && property[1] === '_') continue;\n    if (typeof kernel[property] === 'function') {\n      if (property.substring(0, 3) === 'add' || property.substring(0, 3) === 'set') {\n        shortcut[property] = function() {\n          shortcut.kernel[property].apply(shortcut.kernel, arguments);\n          return shortcut;\n        };\n      } else {\n        shortcut[property] = function() {\n          return shortcut.kernel[property].apply(shortcut.kernel, arguments);\n        };\n      }\n    } else {\n      shortcut.__defineGetter__(property, () => shortcut.kernel[property]);\n      shortcut.__defineSetter__(property, (value) => {\n        shortcut.kernel[property] = value;\n      });\n    }\n  }\n  shortcut.kernel = kernel;\n}\nmodule.exports = {\n  kernelRunShortcut\n};\n},{\"./utils\":114}],112:[function(require,module,exports){\nconst source = `// https://www.shadertoy.com/view/4t2SDh\n//note: uniformly distributed, normalized rand, [0,1]\nhighp float randomSeedShift = 1.0;\nhighp float slide = 1.0;\nuniform highp float randomSeed1;\nuniform highp float randomSeed2;\n\nhighp float nrand(highp vec2 n) {\n  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);\n  randomSeedShift = result;\n  if (randomSeedShift > 0.5) {\n    slide += 0.00009; \n  } else {\n    slide += 0.0009;\n  }\n  return result;\n}`;\n\nconst name = 'math-random-uniformly-distributed';\n\nconst functionMatch = `Math.random()`;\n\nconst functionReplace = `nrand(vTexCoord)`;\n\nconst functionReturnType = 'Number';\nconst onBeforeRun = (kernel) => {\n  kernel.setUniform1f('randomSeed1', Math.random());\n  kernel.setUniform1f('randomSeed2', Math.random());\n};\n\nconst plugin = {\n  name,\n  onBeforeRun,\n  functionMatch,\n  functionReplace,\n  functionReturnType,\n  source\n};\n\nmodule.exports = plugin;\n},{}],113:[function(require,module,exports){\nclass Texture {\n  constructor(settings) {\n    const {\n      texture,\n      size,\n      dimensions,\n      output,\n      context,\n      type = 'NumberTexture',\n      kernel,\n      internalFormat,\n      textureFormat\n    } = settings;\n    if (!output) throw new Error('settings property \"output\" required.');\n    if (!context) throw new Error('settings property \"context\" required.');\n    if (!texture) throw new Error('settings property \"texture\" required.');\n    if (!kernel) throw new Error('settings property \"kernel\" required.');\n    this.texture = texture;\n    if (texture._refs) {\n      texture._refs++;\n    } else {\n      texture._refs = 1;\n    }\n    this.size = size;\n    this.dimensions = dimensions;\n    this.output = output;\n    this.context = context;\n    this.kernel = kernel;\n    this.type = type;\n    this._deleted = false;\n    this.internalFormat = internalFormat;\n    this.textureFormat = textureFormat;\n  }\n\n  toArray() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  clone() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  delete() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n\n  clear() {\n    throw new Error(`Not implemented on ${this.constructor.name}`);\n  }\n}\n\nmodule.exports = {\n  Texture\n};\n},{}],114:[function(require,module,exports){\nconst acorn = require('acorn');\nconst { Input } = require('./input');\nconst { Texture } = require('./texture');\n\nconst FUNCTION_NAME = /function ([^(]*)/;\nconst STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\nconst ARGUMENT_NAMES = /([^\\s,]+)/g;\n\nconst utils = {\n  systemEndianness() {\n    return _systemEndianness;\n  },\n  getSystemEndianness() {\n    const b = new ArrayBuffer(4);\n    const a = new Uint32Array(b);\n    const c = new Uint8Array(b);\n    a[0] = 0xdeadbeef;\n    if (c[0] === 0xef) return 'LE';\n    if (c[0] === 0xde) return 'BE';\n    throw new Error('unknown endianness');\n  },\n\n  isFunction(funcObj) {\n    return typeof(funcObj) === 'function';\n  },\n\n  isFunctionString(fn) {\n    if (typeof fn === 'string') {\n      return (fn\n        .slice(0, 'function'.length)\n        .toLowerCase() === 'function');\n    }\n    return false;\n  },\n\n  getFunctionNameFromString(funcStr) {\n    const result = FUNCTION_NAME.exec(funcStr);\n    if (!result || result.length === 0) return null;\n    return result[1].trim();\n  },\n\n  getFunctionBodyFromString(funcStr) {\n    return funcStr.substring(funcStr.indexOf('{') + 1, funcStr.lastIndexOf('}'));\n  },\n\n  getArgumentNamesFromString(fn) {\n    const fnStr = fn.replace(STRIP_COMMENTS, '');\n    let result = fnStr.slice(fnStr.indexOf('(') + 1, fnStr.indexOf(')')).match(ARGUMENT_NAMES);\n    if (result === null) {\n      result = [];\n    }\n    return result;\n  },\n\n  clone(obj) {\n    if (obj === null || typeof obj !== 'object' || obj.hasOwnProperty('isActiveClone')) return obj;\n\n    const temp = obj.constructor(); \n\n    for (let key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        obj.isActiveClone = null;\n        temp[key] = utils.clone(obj[key]);\n        delete obj.isActiveClone;\n      }\n    }\n\n    return temp;\n  },\n\n  isArray(array) {\n    return !isNaN(array.length);\n  },\n\n  getVariableType(value, strictIntegers) {\n    if (utils.isArray(value)) {\n      if (value.length > 0 && value[0].nodeName === 'IMG') {\n        return 'HTMLImageArray';\n      }\n      return 'Array';\n    }\n\n    switch (value.constructor) {\n      case Boolean:\n        return 'Boolean';\n      case Number:\n        if (strictIntegers && Number.isInteger(value)) {\n          return 'Integer';\n        }\n        return 'Float';\n      case Texture:\n        return value.type;\n      case Input:\n        return 'Input';\n    }\n    switch (value.nodeName) {\n      case 'IMG':\n        return 'HTMLImage';\n      case 'CANVAS':\n        return 'HTMLImage';\n      case 'VIDEO':\n        return 'HTMLVideo';\n    }\n    if (value.hasOwnProperty('type')) {\n      return value.type;\n    }\n    return 'Unknown';\n  },\n\n  getKernelTextureSize(settings, dimensions) {\n    let [w, h, d] = dimensions;\n    let texelCount = (w || 1) * (h || 1) * (d || 1);\n\n    if (settings.optimizeFloatMemory && settings.precision === 'single') {\n      w = texelCount = Math.ceil(texelCount / 4);\n    }\n    if (h > 1 && w * h === texelCount) {\n      return new Int32Array([w, h]);\n    }\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  closestSquareDimensions(length) {\n    const sqrt = Math.sqrt(length);\n    let high = Math.ceil(sqrt);\n    let low = Math.floor(sqrt);\n    while (high * low < length) {\n      high--;\n      low = Math.ceil(length / high);\n    }\n    return new Int32Array([low, Math.ceil(length / low)]);\n  },\n\n  getMemoryOptimizedFloatTextureSize(dimensions, bitRatio) {\n    const totalArea = utils.roundTo((dimensions[0] || 1) * (dimensions[1] || 1) * (dimensions[2] || 1) * (dimensions[3] || 1), 4);\n    const texelCount = totalArea / bitRatio;\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  getMemoryOptimizedPackedTextureSize(dimensions, bitRatio) {\n    const [w, h, d] = dimensions;\n    const totalArea = utils.roundTo((w || 1) * (h || 1) * (d || 1), 4);\n    const texelCount = totalArea / (4 / bitRatio);\n    return utils.closestSquareDimensions(texelCount);\n  },\n\n  roundTo(n, d) {\n    return Math.floor((n + d - 1) / d) * d;\n  },\n  getDimensions(x, pad) {\n    let ret;\n    if (utils.isArray(x)) {\n      const dim = [];\n      let temp = x;\n      while (utils.isArray(temp)) {\n        dim.push(temp.length);\n        temp = temp[0];\n      }\n      ret = dim.reverse();\n    } else if (x instanceof Texture) {\n      ret = x.output;\n    } else if (x instanceof Input) {\n      ret = x.size;\n    } else {\n      throw new Error(`Unknown dimensions of ${x}`);\n    }\n\n    if (pad) {\n      ret = Array.from(ret);\n      while (ret.length < 3) {\n        ret.push(1);\n      }\n    }\n\n    return new Int32Array(ret);\n  },\n\n  flatten2dArrayTo(array, target) {\n    let offset = 0;\n    for (let y = 0; y < array.length; y++) {\n      target.set(array[y], offset);\n      offset += array[y].length;\n    }\n  },\n\n  flatten3dArrayTo(array, target) {\n    let offset = 0;\n    for (let z = 0; z < array.length; z++) {\n      for (let y = 0; y < array[z].length; y++) {\n        target.set(array[z][y], offset);\n        offset += array[z][y].length;\n      }\n    }\n  },\n\n  flatten4dArrayTo(array, target) {\n    let offset = 0;\n    for (let l = 0; l < array.length; l++) {\n      for (let z = 0; z < array[l].length; z++) {\n        for (let y = 0; y < array[l][z].length; y++) {\n          target.set(array[l][z][y], offset);\n          offset += array[l][z][y].length;\n        }\n      }\n    }\n  },\n\n  flattenTo(array, target) {\n    if (utils.isArray(array[0])) {\n      if (utils.isArray(array[0][0])) {\n        if (utils.isArray(array[0][0][0])) {\n          utils.flatten4dArrayTo(array, target);\n        } else {\n          utils.flatten3dArrayTo(array, target);\n        }\n      } else {\n        utils.flatten2dArrayTo(array, target);\n      }\n    } else {\n      target.set(array);\n    }\n  },\n\n  splitArray(array, part) {\n    const result = [];\n    for (let i = 0; i < array.length; i += part) {\n      result.push(new array.constructor(array.buffer, i * 4 + array.byteOffset, part));\n    }\n    return result;\n  },\n\n  getAstString(source, ast) {\n    const lines = Array.isArray(source) ? source : source.split(/\\r?\\n/g);\n    const start = ast.loc.start;\n    const end = ast.loc.end;\n    const result = [];\n    if (start.line === end.line) {\n      result.push(lines[start.line - 1].substring(start.column, end.column));\n    } else {\n      result.push(lines[start.line - 1].slice(start.column));\n      for (let i = start.line; i < end.line; i++) {\n        result.push(lines[i]);\n      }\n      result.push(lines[end.line - 1].slice(0, end.column));\n    }\n    return result.join('\\n');\n  },\n\n  allPropertiesOf(obj) {\n    const props = [];\n\n    do {\n      props.push.apply(props, Object.getOwnPropertyNames(obj));\n    } while (obj = Object.getPrototypeOf(obj));\n\n    return props;\n  },\n\n  linesToString(lines) {\n    if (lines.length > 0) {\n      return lines.join(';\\n') + ';\\n';\n    } else {\n      return '\\n';\n    }\n  },\n  warnDeprecated(type, oldName, newName) {\n    if (newName) {\n      console.warn(`You are using a deprecated ${ type } \"${ oldName }\". It has been replaced with \"${ newName }\". Fixing, but please upgrade as it will soon be removed.`);\n    } else {\n      console.warn(`You are using a deprecated ${ type } \"${ oldName }\". It has been removed. Fixing, but please upgrade as it will soon be removed.`);\n    }\n  },\n  flipPixels: (pixels, width, height) => {\n    const halfHeight = height / 2 | 0; \n    const bytesPerRow = width * 4;\n    const temp = new Uint8ClampedArray(width * 4);\n    const result = pixels.slice(0);\n    for (let y = 0; y < halfHeight; ++y) {\n      const topOffset = y * bytesPerRow;\n      const bottomOffset = (height - y - 1) * bytesPerRow;\n\n      temp.set(result.subarray(topOffset, topOffset + bytesPerRow));\n\n      result.copyWithin(topOffset, bottomOffset, bottomOffset + bytesPerRow);\n\n      result.set(temp, bottomOffset);\n    }\n    return result;\n  },\n  erectPackedFloat: (array, width) => {\n    return array.subarray(0, width);\n  },\n  erect2DPackedFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xStart = y * width;\n      const xEnd = xStart + width;\n      yResults[y] = array.subarray(xStart, xEnd);\n    }\n    return yResults;\n  },\n  erect3DPackedFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xStart = (z * height * width) + y * width;\n        const xEnd = xStart + width;\n        yResults[y] = array.subarray(xStart, xEnd);\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectMemoryOptimizedFloat: (array, width) => {\n    return array.subarray(0, width);\n  },\n  erectMemoryOptimized2DFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const offset = y * width;\n      yResults[y] = array.subarray(offset, offset + width);\n    }\n    return yResults;\n  },\n  erectMemoryOptimized3DFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const offset = (z * height * width) + (y * width);\n        yResults[y] = array.subarray(offset, offset + width);\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectFloat: (array, width) => {\n    const xResults = new Float32Array(width);\n    let i = 0;\n    for (let x = 0; x < width; x++) {\n      xResults[x] = array[i];\n      i += 4;\n    }\n    return xResults;\n  },\n  erect2DFloat: (array, width, height) => {\n    const yResults = new Array(height);\n    let i = 0;\n    for (let y = 0; y < height; y++) {\n      const xResults = new Float32Array(width);\n      for (let x = 0; x < width; x++) {\n        xResults[x] = array[i];\n        i += 4;\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DFloat: (array, width, height, depth) => {\n    const zResults = new Array(depth);\n    let i = 0;\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Float32Array(width);\n        for (let x = 0; x < width; x++) {\n          xResults[x] = array[i];\n          i += 4;\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray2: (array, width) => {\n    const xResults = new Array(width);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 2);\n    }\n    return xResults;\n  },\n  erect2DArray2: (array, width, height) => {\n    const yResults = new Array(height);\n    const XResultsMax = width * 4;\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * XResultsMax;\n      let i = 0;\n      for (let x = 0; x < XResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 2);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray2: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 2);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray3: (array, width) => {\n    const xResults = new Array(width);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 3);\n    }\n    return xResults;\n  },\n  erect2DArray3: (array, width, height) => {\n    const xResultsMax = width * 4;\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * xResultsMax;\n      let i = 0;\n      for (let x = 0; x < xResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 3);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray3: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 3);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n  erectArray4: (array, width) => {\n    const xResults = new Array(array);\n    const xResultsMax = width * 4;\n    let i = 0;\n    for (let x = 0; x < xResultsMax; x += 4) {\n      xResults[i++] = array.subarray(x, x + 4);\n    }\n    return xResults;\n  },\n  erect2DArray4: (array, width, height) => {\n    const xResultsMax = width * 4;\n    const yResults = new Array(height);\n    for (let y = 0; y < height; y++) {\n      const xResults = new Array(width);\n      const offset = y * xResultsMax;\n      let i = 0;\n      for (let x = 0; x < xResultsMax; x += 4) {\n        xResults[i++] = array.subarray(x + offset, x + offset + 4);\n      }\n      yResults[y] = xResults;\n    }\n    return yResults;\n  },\n  erect3DArray4: (array, width, height, depth) => {\n    const xResultsMax = width * 4;\n    const zResults = new Array(depth);\n    for (let z = 0; z < depth; z++) {\n      const yResults = new Array(height);\n      for (let y = 0; y < height; y++) {\n        const xResults = new Array(width);\n        const offset = (z * xResultsMax * height) + (y * xResultsMax);\n        let i = 0;\n        for (let x = 0; x < xResultsMax; x += 4) {\n          xResults[i++] = array.subarray(x + offset, x + offset + 4);\n        }\n        yResults[y] = xResults;\n      }\n      zResults[z] = yResults;\n    }\n    return zResults;\n  },\n\n  flattenFunctionToString: (source, settings) => {\n    const { findDependency, thisLookup, doNotDefine } = settings;\n    let flattened = settings.flattened;\n    if (!flattened) {\n      flattened = settings.flattened = {};\n    }\n    const ast = acorn.parse(source);\n    const functionDependencies = [];\n    let indent = 0;\n\n    function flatten(ast) {\n      if (Array.isArray(ast)) {\n        const results = [];\n        for (let i = 0; i < ast.length; i++) {\n          results.push(flatten(ast[i]));\n        }\n        return results.join('');\n      }\n      switch (ast.type) {\n        case 'Program':\n          return flatten(ast.body) + (ast.body[0].type === 'VariableDeclaration' ? ';' : '');\n        case 'FunctionDeclaration':\n          return `function ${ast.id.name}(${ast.params.map(flatten).join(', ')}) ${ flatten(ast.body) }`;\n        case 'BlockStatement': {\n          const result = [];\n          indent += 2;\n          for (let i = 0; i < ast.body.length; i++) {\n            const flat = flatten(ast.body[i]);\n            if (flat) {\n              result.push(' '.repeat(indent) + flat, ';\\n');\n            }\n          }\n          indent -= 2;\n          return `{\\n${result.join('')}}`;\n        }\n        case 'VariableDeclaration':\n          const declarations = utils.normalizeDeclarations(ast)\n            .map(flatten)\n            .filter(r => r !== null);\n          if (declarations.length < 1) {\n            return '';\n          } else {\n            return `${ast.kind} ${declarations.join(',')}`;\n          }\n          case 'VariableDeclarator':\n            if (ast.init.object && ast.init.object.type === 'ThisExpression') {\n              const lookup = thisLookup(ast.init.property.name, true);\n              if (lookup) {\n                return `${ast.id.name} = ${flatten(ast.init)}`;\n              } else {\n                return null;\n              }\n            } else {\n              return `${ast.id.name} = ${flatten(ast.init)}`;\n            }\n            case 'CallExpression': {\n              if (ast.callee.property.name === 'subarray') {\n                return `${flatten(ast.callee.object)}.${flatten(ast.callee.property)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              }\n              if (ast.callee.object.name === 'gl' || ast.callee.object.name === 'context') {\n                return `${flatten(ast.callee.object)}.${flatten(ast.callee.property)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              }\n              if (ast.callee.object.type === 'ThisExpression') {\n                functionDependencies.push(findDependency('this', ast.callee.property.name));\n                return `${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              } else if (ast.callee.object.name) {\n                const foundSource = findDependency(ast.callee.object.name, ast.callee.property.name);\n                if (foundSource === null) {\n                  return `${ast.callee.object.name}.${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n                } else {\n                  functionDependencies.push(foundSource);\n                  return `${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n                }\n              } else if (ast.callee.object.type === 'MemberExpression') {\n                return `${flatten(ast.callee.object)}.${ast.callee.property.name}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              } else {\n                throw new Error('unknown ast.callee');\n              }\n            }\n            case 'ReturnStatement':\n              return `return ${flatten(ast.argument)}`;\n            case 'BinaryExpression':\n              return `(${flatten(ast.left)}${ast.operator}${flatten(ast.right)})`;\n            case 'UnaryExpression':\n              if (ast.prefix) {\n                return `${ast.operator} ${flatten(ast.argument)}`;\n              } else {\n                return `${flatten(ast.argument)} ${ast.operator}`;\n              }\n              case 'ExpressionStatement':\n                return `${flatten(ast.expression)}`;\n              case 'SequenceExpression':\n                return `(${flatten(ast.expressions)})`;\n              case 'ArrowFunctionExpression':\n                return `(${ast.params.map(flatten).join(', ')}) => ${flatten(ast.body)}`;\n              case 'Literal':\n                return ast.raw;\n              case 'Identifier':\n                return ast.name;\n              case 'MemberExpression':\n                if (ast.object.type === 'ThisExpression') {\n                  return thisLookup(ast.property.name);\n                }\n                if (ast.computed) {\n                  return `${flatten(ast.object)}[${flatten(ast.property)}]`;\n                }\n                return flatten(ast.object) + '.' + flatten(ast.property);\n              case 'ThisExpression':\n                return 'this';\n              case 'NewExpression':\n                return `new ${flatten(ast.callee)}(${ast.arguments.map(value => flatten(value)).join(', ')})`;\n              case 'ForStatement':\n                return `for (${flatten(ast.init)};${flatten(ast.test)};${flatten(ast.update)}) ${flatten(ast.body)}`;\n              case 'AssignmentExpression':\n                return `${flatten(ast.left)}${ast.operator}${flatten(ast.right)}`;\n              case 'UpdateExpression':\n                return `${flatten(ast.argument)}${ast.operator}`;\n              case 'IfStatement':\n                return `if (${flatten(ast.test)}) ${flatten(ast.consequent)}`;\n              case 'ThrowStatement':\n                return `throw ${flatten(ast.argument)}`;\n              case 'ObjectPattern':\n                return ast.properties.map(flatten).join(', ');\n              case 'ArrayPattern':\n                return ast.elements.map(flatten).join(', ');\n              case 'DebuggerStatement':\n                return 'debugger;';\n              case 'ConditionalExpression':\n                return `${flatten(ast.test)}?${flatten(ast.consequent)}:${flatten(ast.alternate)}`;\n              case 'Property':\n                if (ast.kind === 'init') {\n                  return flatten(ast.key);\n                }\n      }\n      throw new Error(`unhandled ast.type of ${ ast.type }`);\n    }\n    const result = flatten(ast);\n    if (functionDependencies.length > 0) {\n      const flattenedFunctionDependencies = [];\n      for (let i = 0; i < functionDependencies.length; i++) {\n        const functionDependency = functionDependencies[i];\n        if (!flattened[functionDependency]) {\n          flattened[functionDependency] = true;\n        }\n        flattenedFunctionDependencies.push(utils.flattenFunctionToString(functionDependency, settings) + '\\n');\n      }\n      return flattenedFunctionDependencies.join('') + result;\n    }\n    return result;\n  },\n\n  normalizeDeclarations: (ast) => {\n    if (ast.type !== 'VariableDeclaration') throw new Error('Ast is not of type \"VariableDeclaration\"');\n    const normalizedDeclarations = [];\n    for (let declarationIndex = 0; declarationIndex < ast.declarations.length; declarationIndex++) {\n      const declaration = ast.declarations[declarationIndex];\n      if (declaration.id && declaration.id.type === 'ObjectPattern' && declaration.id.properties) {\n        const { properties } = declaration.id;\n        for (let propertyIndex = 0; propertyIndex < properties.length; propertyIndex++) {\n          const property = properties[propertyIndex];\n          if (property.value.type === 'ObjectPattern' && property.value.properties) {\n            for (let subPropertyIndex = 0; subPropertyIndex < property.value.properties.length; subPropertyIndex++) {\n              const subProperty = property.value.properties[subPropertyIndex];\n              if (subProperty.type === 'Property') {\n                normalizedDeclarations.push({\n                  type: 'VariableDeclarator',\n                  id: {\n                    type: 'Identifier',\n                    name: subProperty.key.name\n                  },\n                  init: {\n                    type: 'MemberExpression',\n                    object: {\n                      type: 'MemberExpression',\n                      object: declaration.init,\n                      property: {\n                        type: 'Identifier',\n                        name: property.key.name\n                      },\n                      computed: false\n                    },\n                    property: {\n                      type: 'Identifier',\n                      name: subProperty.key.name\n                    },\n                    computed: false\n                  }\n                });\n              } else {\n                throw new Error('unexpected state');\n              }\n            }\n          } else if (property.value.type === 'Identifier') {\n            normalizedDeclarations.push({\n              type: 'VariableDeclarator',\n              id: {\n                type: 'Identifier',\n                name: property.value && property.value.name ? property.value.name : property.key.name\n              },\n              init: {\n                type: 'MemberExpression',\n                object: declaration.init,\n                property: {\n                  type: 'Identifier',\n                  name: property.key.name\n                },\n                computed: false\n              }\n            });\n          } else {\n            throw new Error('unexpected state');\n          }\n        }\n      } else if (declaration.id && declaration.id.type === 'ArrayPattern' && declaration.id.elements) {\n        const { elements } = declaration.id;\n        for (let elementIndex = 0; elementIndex < elements.length; elementIndex++) {\n          const element = elements[elementIndex];\n          if (element.type === 'Identifier') {\n            normalizedDeclarations.push({\n              type: 'VariableDeclarator',\n              id: {\n                type: 'Identifier',\n                name: element.name\n              },\n              init: {\n                type: 'MemberExpression',\n                object: declaration.init,\n                property: {\n                  type: 'Literal',\n                  value: elementIndex,\n                  raw: elementIndex.toString(),\n                  start: element.start,\n                  end: element.end\n                },\n                computed: true\n              }\n            });\n          } else {\n            throw new Error('unexpected state');\n          }\n        }\n      } else {\n        normalizedDeclarations.push(declaration);\n      }\n    }\n    return normalizedDeclarations;\n  },\n\n  splitHTMLImageToRGB: (gpu, image) => {\n    const rKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.r * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const gKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.g * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const bKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.b * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const aKernel = gpu.createKernel(function(a) {\n      const pixel = a[this.thread.y][this.thread.x];\n      return pixel.a * 255;\n    }, {\n      output: [image.width, image.height],\n      precision: 'unsigned',\n      argumentTypes: { a: 'HTMLImage' },\n    });\n    const result = [\n      rKernel(image),\n      gKernel(image),\n      bKernel(image),\n      aKernel(image),\n    ];\n    result.rKernel = rKernel;\n    result.gKernel = gKernel;\n    result.bKernel = bKernel;\n    result.aKernel = aKernel;\n    result.gpu = gpu;\n    return result;\n  },\n\n  splitRGBAToCanvases: (gpu, rgba, width, height) => {\n    const visualKernelR = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(pixel.r / 255, 0, 0, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelR(rgba);\n\n    const visualKernelG = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(0, pixel.g / 255, 0, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelG(rgba);\n\n    const visualKernelB = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(0, 0, pixel.b / 255, 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelB(rgba);\n\n    const visualKernelA = gpu.createKernel(function(v) {\n      const pixel = v[this.thread.y][this.thread.x];\n      this.color(255, 255, 255, pixel.a / 255);\n    }, {\n      output: [width, height],\n      graphical: true,\n      argumentTypes: { v: 'Array2D(4)' }\n    });\n    visualKernelA(rgba);\n    return [\n      visualKernelR.canvas,\n      visualKernelG.canvas,\n      visualKernelB.canvas,\n      visualKernelA.canvas,\n    ];\n  },\n\n  getMinifySafeName: (fn) => {\n    try {\n      const ast = acorn.parse(`const value = ${fn.toString()}`);\n      const { init } = ast.body[0].declarations[0];\n      return init.body.name || init.body.body[0].argument.name;\n    } catch (e) {\n      throw new Error('Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }');\n    }\n  },\n  sanitizeName: function(name) {\n    if (dollarSign.test(name)) {\n      name = name.replace(dollarSign, 'S_S');\n    }\n    if (doubleUnderscore.test(name)) {\n      name = name.replace(doubleUnderscore, 'U_U');\n    } else if (singleUnderscore.test(name)) {\n      name = name.replace(singleUnderscore, 'u_u');\n    }\n    return name;\n  }\n};\n\nconst dollarSign = /\\$/;\nconst doubleUnderscore = /__/;\nconst singleUnderscore = /_/;\n\nconst _systemEndianness = utils.getSystemEndianness();\n\nmodule.exports = {\n  utils\n};\n},{\"./input\":110,\"./texture\":113,\"acorn\":1}]},{},[107])(107)\n});\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.Navigo=t()}(this,function(){\"use strict\";var e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};function t(){return!(\"undefined\"==typeof window||!window.history||!window.history.pushState)}function n(e,n,o){this.root=null,this._routes=[],this._useHash=n,this._hash=void 0===o?\"#\":o,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!n&&t(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,this._historyAPIUpdateMethod=\"pushState\",e?this.root=n?e.replace(/\\/$/,\"/\"+this._hash):e.replace(/\\/$/,\"\"):n&&(this.root=this._cLoc().split(this._hash)[0].replace(/\\/$/,\"/\"+this._hash)),this._listen(),this.updatePageLinks()}function o(e){return e instanceof RegExp?e:e.replace(/\\/+$/,\"\").replace(/^\\/+/,\"^/\")}function i(e){return e.replace(/\\/$/,\"\").split(\"/\").length}function s(e,t){return i(t)-i(e)}function r(e,t){return function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(t){var i=function(e){var t=[];return{regexp:e instanceof RegExp?e:new RegExp(e.replace(n.PARAMETER_REGEXP,function(e,o,i){return t.push(i),n.REPLACE_VARIABLE_REGEXP}).replace(n.WILDCARD_REGEXP,n.REPLACE_WILDCARD)+n.FOLLOWED_BY_SLASH_REGEXP,n.MATCH_REGEXP_FLAGS),paramNames:t}}(o(t.route)),s=i.regexp,r=i.paramNames,a=e.replace(/^\\/+/,\"/\").match(s),h=function(e,t){return 0===t.length?null:e?e.slice(1,e.length).reduce(function(e,n,o){return null===e&&(e={}),e[t[o]]=decodeURIComponent(n),e},null):null}(a,r);return!!a&&{match:a,route:t,params:h}}).filter(function(e){return e})}(e,t)[0]||!1}function a(e,t){var n=t.map(function(t){return\"\"===t.route||\"*\"===t.route?e:e.split(new RegExp(t.route+\"($|/)\"))[0]}),i=o(e);return n.length>1?n.reduce(function(e,t){return e.length>t.length&&(e=t),e},n[0]):1===n.length?n[0]:i}function h(e,n,o){var i,s=function(e){return e.split(/\\?(.*)?$/)[0]};return void 0===o&&(o=\"#\"),t()&&!n?s(e).split(o)[0]:(i=e.split(o)).length>1?s(i[1]):s(i[0])}function u(t,n,o){if(n&&\"object\"===(void 0===n?\"undefined\":e(n))){if(n.before)return void n.before(function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(t(),n.after&&n.after(o))},o);if(n.after)return t(),void(n.after&&n.after(o))}t()}return n.prototype={helpers:{match:r,root:a,clean:o,getOnlyURL:h},navigate:function(e,t){var n;return e=e||\"\",this._usePushState?(n=(n=(t?\"\":this._getRoot()+\"/\")+e.replace(/^\\/+/,\"/\")).replace(/([^:])(\\/{2,})/g,\"$1/\"),history[this._historyAPIUpdateMethod]({},\"\",n),this.resolve()):\"undefined\"!=typeof window&&(e=e.replace(new RegExp(\"^\"+this._hash),\"\"),window.location.href=window.location.href.replace(/#$/,\"\").replace(new RegExp(this._hash+\".*$\"),\"\")+this._hash+e),this},on:function(){for(var t=this,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];if(\"function\"==typeof o[0])this._defaultHandler={handler:o[0],hooks:o[1]};else if(o.length>=2)if(\"/\"===o[0]){var r=o[1];\"object\"===e(o[1])&&(r=o[1].uses),this._defaultHandler={handler:r,hooks:o[2]}}else this._add(o[0],o[1],o[2]);else\"object\"===e(o[0])&&Object.keys(o[0]).sort(s).forEach(function(e){t.on(e,o[0][e])});return this},off:function(e){return null!==this._defaultHandler&&e===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&e===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce(function(t,n){return n.handler!==e&&t.push(n),t},[]),this},notFound:function(e,t){return this._notFoundHandler={handler:e,hooks:t},this},resolve:function(e){var n,o,i=this,s=(e||this._cLoc()).replace(this._getRoot(),\"\");this._useHash&&(s=s.replace(new RegExp(\"^/\"+this._hash),\"/\"));var a=function(e){return e.split(/\\?(.*)?$/).slice(1).join(\"\")}(e||this._cLoc()),l=h(s,this._useHash,this._hash);return!this._paused&&(this._lastRouteResolved&&l===this._lastRouteResolved.url&&a===this._lastRouteResolved.query?(this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.already&&this._lastRouteResolved.hooks.already(this._lastRouteResolved.params),!1):(o=r(l,this._routes))?(this._callLeave(),this._lastRouteResolved={url:l,query:a,hooks:o.route.hooks,params:o.params,name:o.route.name},n=o.route.handler,u(function(){u(function(){o.route.route instanceof RegExp?n.apply(void 0,o.match.slice(1,o.match.length)):n(o.params,a)},o.route.hooks,o.params,i._genericHooks)},this._genericHooks,o.params),o):this._defaultHandler&&(\"\"===l||\"/\"===l||l===this._hash||function(e,n,o){if(t()&&!n)return!1;if(!e.match(o))return!1;var i=e.split(o);return i.length<2||\"\"===i[1]}(l,this._useHash,this._hash))?(u(function(){u(function(){i._callLeave(),i._lastRouteResolved={url:l,query:a,hooks:i._defaultHandler.hooks},i._defaultHandler.handler(a)},i._defaultHandler.hooks)},this._genericHooks),!0):(this._notFoundHandler&&u(function(){u(function(){i._callLeave(),i._lastRouteResolved={url:l,query:a,hooks:i._notFoundHandler.hooks},i._notFoundHandler.handler(a)},i._notFoundHandler.hooks)},this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,this._lastRouteResolved=null,this._genericHooks=null,clearTimeout(this._listeningInterval),\"undefined\"!=typeof window&&(window.removeEventListener(\"popstate\",this._onLocationChange),window.removeEventListener(\"hashchange\",this._onLocationChange))},updatePageLinks:function(){var e=this;\"undefined\"!=typeof document&&this._findLinks().forEach(function(t){t.hasListenerAttached||(t.addEventListener(\"click\",function(n){if((n.ctrlKey||n.metaKey)&&\"a\"==n.target.tagName.toLowerCase())return!1;var o=e.getLinkPath(t);e._destroyed||(n.preventDefault(),e.navigate(o.replace(/\\/+$/,\"\").replace(/^\\/+/,\"/\")))}),t.hasListenerAttached=!0)})},generate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._routes.reduce(function(n,o){var i;if(o.name===e)for(i in n=o.route,t)n=n.toString().replace(\":\"+i,t[i]);return n},\"\");return this._useHash?this._hash+n:n},link:function(e){return this._getRoot()+e},pause:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._paused=e,this._historyAPIUpdateMethod=e?\"replaceState\":\"pushState\"},resume:function(){this.pause(!1)},historyAPIUpdateMethod:function(e){return void 0===e?this._historyAPIUpdateMethod:(this._historyAPIUpdateMethod=e,e)},disableIfAPINotAvailable:function(){t()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(e){return e.getAttribute(\"href\")},hooks:function(e){this._genericHooks=e},_add:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return\"string\"==typeof t&&(t=encodeURI(t)),this._routes.push(\"object\"===(void 0===n?\"undefined\":e(n))?{route:t,handler:n.uses,name:n.as,hooks:o||n.hooks}:{route:t,handler:n,hooks:o}),this._add},_getRoot:function(){return null!==this.root?this.root:(this.root=a(this._cLoc().split(\"?\")[0],this._routes),this.root)},_listen:function(){var e=this;if(this._usePushState)window.addEventListener(\"popstate\",this._onLocationChange);else if(\"undefined\"!=typeof window&&\"onhashchange\"in window)window.addEventListener(\"hashchange\",this._onLocationChange);else{var t=this._cLoc(),n=void 0,o=void 0;(o=function(){n=e._cLoc(),t!==n&&(t=n,e.resolve()),e._listeningInterval=setTimeout(o,200)})()}},_cLoc:function(){return\"undefined\"!=typeof window?void 0!==window.__NAVIGO_WINDOW_LOCATION_MOCK__?window.__NAVIGO_WINDOW_LOCATION_MOCK__:o(window.location.href):\"\"},_findLinks:function(){return[].slice.call(document.querySelectorAll(\"[data-navigo]\"))},_onLocationChange:function(){this.resolve()},_callLeave:function(){var e=this._lastRouteResolved;e&&e.hooks&&e.hooks.leave&&e.hooks.leave(e.params)}},n.PARAMETER_REGEXP=/([:*])(\\w+)/g,n.WILDCARD_REGEXP=/\\*/g,n.REPLACE_VARIABLE_REGEXP=\"([^/]+)\",n.REPLACE_WILDCARD=\"(?:.*)\",n.FOLLOWED_BY_SLASH_REGEXP=\"(?:/$|$)\",n.MATCH_REGEXP_FLAGS=\"\",n});\n//# sourceMappingURL=navigo.min.js.map\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction ___$insertStyle(css) {\n  if (!css) {\n    return;\n  }\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  var style = document.createElement('style');\n\n  style.setAttribute('type', 'text/css');\n  style.innerHTML = css;\n  document.head.appendChild(style);\n\n  return css;\n}\n\nfunction colorToString (color, forceCSSHex) {\n  var colorFormat = color.__state.conversionName.toString();\n  var r = Math.round(color.r);\n  var g = Math.round(color.g);\n  var b = Math.round(color.b);\n  var a = color.a;\n  var h = Math.round(color.h);\n  var s = color.s.toFixed(1);\n  var v = color.v.toFixed(1);\n  if (forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX') {\n    var str = color.hex.toString(16);\n    while (str.length < 6) {\n      str = '0' + str;\n    }\n    return '#' + str;\n  } else if (colorFormat === 'CSS_RGB') {\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  } else if (colorFormat === 'CSS_RGBA') {\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  } else if (colorFormat === 'HEX') {\n    return '0x' + color.hex.toString(16);\n  } else if (colorFormat === 'RGB_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ']';\n  } else if (colorFormat === 'RGBA_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n  } else if (colorFormat === 'RGB_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n  } else if (colorFormat === 'RGBA_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n  } else if (colorFormat === 'HSV_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n  } else if (colorFormat === 'HSVA_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n  }\n  return 'unknown format';\n}\n\nvar ARR_EACH = Array.prototype.forEach;\nvar ARR_SLICE = Array.prototype.slice;\nvar Common = {\n  BREAK: {},\n  extend: function extend(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function (obj) {\n      var keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function (key) {\n        if (!this.isUndefined(obj[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n    return target;\n  },\n  defaults: function defaults(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function (obj) {\n      var keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function (key) {\n        if (this.isUndefined(target[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n    return target;\n  },\n  compose: function compose() {\n    var toCall = ARR_SLICE.call(arguments);\n    return function () {\n      var args = ARR_SLICE.call(arguments);\n      for (var i = toCall.length - 1; i >= 0; i--) {\n        args = [toCall[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  },\n  each: function each(obj, itr, scope) {\n    if (!obj) {\n      return;\n    }\n    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n      obj.forEach(itr, scope);\n    } else if (obj.length === obj.length + 0) {\n      var key = void 0;\n      var l = void 0;\n      for (key = 0, l = obj.length; key < l; key++) {\n        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    } else {\n      for (var _key in obj) {\n        if (itr.call(scope, obj[_key], _key) === this.BREAK) {\n          return;\n        }\n      }\n    }\n  },\n  defer: function defer(fnc) {\n    setTimeout(fnc, 0);\n  },\n  debounce: function debounce(func, threshold, callImmediately) {\n    var timeout = void 0;\n    return function () {\n      var obj = this;\n      var args = arguments;\n      function delayed() {\n        timeout = null;\n        if (!callImmediately) func.apply(obj, args);\n      }\n      var callNow = callImmediately || !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(delayed, threshold);\n      if (callNow) {\n        func.apply(obj, args);\n      }\n    };\n  },\n  toArray: function toArray(obj) {\n    if (obj.toArray) return obj.toArray();\n    return ARR_SLICE.call(obj);\n  },\n  isUndefined: function isUndefined(obj) {\n    return obj === undefined;\n  },\n  isNull: function isNull(obj) {\n    return obj === null;\n  },\n  isNaN: function (_isNaN) {\n    function isNaN(_x) {\n      return _isNaN.apply(this, arguments);\n    }\n    isNaN.toString = function () {\n      return _isNaN.toString();\n    };\n    return isNaN;\n  }(function (obj) {\n    return isNaN(obj);\n  }),\n  isArray: Array.isArray || function (obj) {\n    return obj.constructor === Array;\n  },\n  isObject: function isObject(obj) {\n    return obj === Object(obj);\n  },\n  isNumber: function isNumber(obj) {\n    return obj === obj + 0;\n  },\n  isString: function isString(obj) {\n    return obj === obj + '';\n  },\n  isBoolean: function isBoolean(obj) {\n    return obj === false || obj === true;\n  },\n  isFunction: function isFunction(obj) {\n    return obj instanceof Function;\n  }\n};\n\nvar INTERPRETATIONS = [\n{\n  litmus: Common.isString,\n  conversions: {\n    THREE_CHAR_HEX: {\n      read: function read(original) {\n        var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n        if (test === null) {\n          return false;\n        }\n        return {\n          space: 'HEX',\n          hex: parseInt('0x' + test[1].toString() + test[1].toString() + test[2].toString() + test[2].toString() + test[3].toString() + test[3].toString(), 0)\n        };\n      },\n      write: colorToString\n    },\n    SIX_CHAR_HEX: {\n      read: function read(original) {\n        var test = original.match(/^#([A-F0-9]{6})$/i);\n        if (test === null) {\n          return false;\n        }\n        return {\n          space: 'HEX',\n          hex: parseInt('0x' + test[1].toString(), 0)\n        };\n      },\n      write: colorToString\n    },\n    CSS_RGB: {\n      read: function read(original) {\n        var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n        if (test === null) {\n          return false;\n        }\n        return {\n          space: 'RGB',\n          r: parseFloat(test[1]),\n          g: parseFloat(test[2]),\n          b: parseFloat(test[3])\n        };\n      },\n      write: colorToString\n    },\n    CSS_RGBA: {\n      read: function read(original) {\n        var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n        if (test === null) {\n          return false;\n        }\n        return {\n          space: 'RGB',\n          r: parseFloat(test[1]),\n          g: parseFloat(test[2]),\n          b: parseFloat(test[3]),\n          a: parseFloat(test[4])\n        };\n      },\n      write: colorToString\n    }\n  }\n},\n{\n  litmus: Common.isNumber,\n  conversions: {\n    HEX: {\n      read: function read(original) {\n        return {\n          space: 'HEX',\n          hex: original,\n          conversionName: 'HEX'\n        };\n      },\n      write: function write(color) {\n        return color.hex;\n      }\n    }\n  }\n},\n{\n  litmus: Common.isArray,\n  conversions: {\n    RGB_ARRAY: {\n      read: function read(original) {\n        if (original.length !== 3) {\n          return false;\n        }\n        return {\n          space: 'RGB',\n          r: original[0],\n          g: original[1],\n          b: original[2]\n        };\n      },\n      write: function write(color) {\n        return [color.r, color.g, color.b];\n      }\n    },\n    RGBA_ARRAY: {\n      read: function read(original) {\n        if (original.length !== 4) return false;\n        return {\n          space: 'RGB',\n          r: original[0],\n          g: original[1],\n          b: original[2],\n          a: original[3]\n        };\n      },\n      write: function write(color) {\n        return [color.r, color.g, color.b, color.a];\n      }\n    }\n  }\n},\n{\n  litmus: Common.isObject,\n  conversions: {\n    RGBA_OBJ: {\n      read: function read(original) {\n        if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b) && Common.isNumber(original.a)) {\n          return {\n            space: 'RGB',\n            r: original.r,\n            g: original.g,\n            b: original.b,\n            a: original.a\n          };\n        }\n        return false;\n      },\n      write: function write(color) {\n        return {\n          r: color.r,\n          g: color.g,\n          b: color.b,\n          a: color.a\n        };\n      }\n    },\n    RGB_OBJ: {\n      read: function read(original) {\n        if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b)) {\n          return {\n            space: 'RGB',\n            r: original.r,\n            g: original.g,\n            b: original.b\n          };\n        }\n        return false;\n      },\n      write: function write(color) {\n        return {\n          r: color.r,\n          g: color.g,\n          b: color.b\n        };\n      }\n    },\n    HSVA_OBJ: {\n      read: function read(original) {\n        if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v) && Common.isNumber(original.a)) {\n          return {\n            space: 'HSV',\n            h: original.h,\n            s: original.s,\n            v: original.v,\n            a: original.a\n          };\n        }\n        return false;\n      },\n      write: function write(color) {\n        return {\n          h: color.h,\n          s: color.s,\n          v: color.v,\n          a: color.a\n        };\n      }\n    },\n    HSV_OBJ: {\n      read: function read(original) {\n        if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v)) {\n          return {\n            space: 'HSV',\n            h: original.h,\n            s: original.s,\n            v: original.v\n          };\n        }\n        return false;\n      },\n      write: function write(color) {\n        return {\n          h: color.h,\n          s: color.s,\n          v: color.v\n        };\n      }\n    }\n  }\n}];\nvar result = void 0;\nvar toReturn = void 0;\nvar interpret = function interpret() {\n  toReturn = false;\n  var original = arguments.length > 1 ? Common.toArray(arguments) : arguments[0];\n  Common.each(INTERPRETATIONS, function (family) {\n    if (family.litmus(original)) {\n      Common.each(family.conversions, function (conversion, conversionName) {\n        result = conversion.read(original);\n        if (toReturn === false && result !== false) {\n          toReturn = result;\n          result.conversionName = conversionName;\n          result.conversion = conversion;\n          return Common.BREAK;\n        }\n      });\n      return Common.BREAK;\n    }\n  });\n  return toReturn;\n};\n\nvar tmpComponent = void 0;\nvar ColorMath = {\n  hsv_to_rgb: function hsv_to_rgb(h, s, v) {\n    var hi = Math.floor(h / 60) % 6;\n    var f = h / 60 - Math.floor(h / 60);\n    var p = v * (1.0 - s);\n    var q = v * (1.0 - f * s);\n    var t = v * (1.0 - (1.0 - f) * s);\n    var c = [[v, t, p], [q, v, p], [p, v, t], [p, q, v], [t, p, v], [v, p, q]][hi];\n    return {\n      r: c[0] * 255,\n      g: c[1] * 255,\n      b: c[2] * 255\n    };\n  },\n  rgb_to_hsv: function rgb_to_hsv(r, g, b) {\n    var min = Math.min(r, g, b);\n    var max = Math.max(r, g, b);\n    var delta = max - min;\n    var h = void 0;\n    var s = void 0;\n    if (max !== 0) {\n      s = delta / max;\n    } else {\n      return {\n        h: NaN,\n        s: 0,\n        v: 0\n      };\n    }\n    if (r === max) {\n      h = (g - b) / delta;\n    } else if (g === max) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n    h /= 6;\n    if (h < 0) {\n      h += 1;\n    }\n    return {\n      h: h * 360,\n      s: s,\n      v: max / 255\n    };\n  },\n  rgb_to_hex: function rgb_to_hex(r, g, b) {\n    var hex = this.hex_with_component(0, 2, r);\n    hex = this.hex_with_component(hex, 1, g);\n    hex = this.hex_with_component(hex, 0, b);\n    return hex;\n  },\n  component_from_hex: function component_from_hex(hex, componentIndex) {\n    return hex >> componentIndex * 8 & 0xFF;\n  },\n  hex_with_component: function hex_with_component(hex, componentIndex, value) {\n    return value << (tmpComponent = componentIndex * 8) | hex & ~(0xFF << tmpComponent);\n  }\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar Color = function () {\n  function Color() {\n    classCallCheck(this, Color);\n    this.__state = interpret.apply(this, arguments);\n    if (this.__state === false) {\n      throw new Error('Failed to interpret color arguments');\n    }\n    this.__state.a = this.__state.a || 1;\n  }\n  createClass(Color, [{\n    key: 'toString',\n    value: function toString() {\n      return colorToString(this);\n    }\n  }, {\n    key: 'toHexString',\n    value: function toHexString() {\n      return colorToString(this, true);\n    }\n  }, {\n    key: 'toOriginal',\n    value: function toOriginal() {\n      return this.__state.conversion.write(this);\n    }\n  }]);\n  return Color;\n}();\nfunction defineRGBComponent(target, component, componentHexIndex) {\n  Object.defineProperty(target, component, {\n    get: function get$$1() {\n      if (this.__state.space === 'RGB') {\n        return this.__state[component];\n      }\n      Color.recalculateRGB(this, component, componentHexIndex);\n      return this.__state[component];\n    },\n    set: function set$$1(v) {\n      if (this.__state.space !== 'RGB') {\n        Color.recalculateRGB(this, component, componentHexIndex);\n        this.__state.space = 'RGB';\n      }\n      this.__state[component] = v;\n    }\n  });\n}\nfunction defineHSVComponent(target, component) {\n  Object.defineProperty(target, component, {\n    get: function get$$1() {\n      if (this.__state.space === 'HSV') {\n        return this.__state[component];\n      }\n      Color.recalculateHSV(this);\n      return this.__state[component];\n    },\n    set: function set$$1(v) {\n      if (this.__state.space !== 'HSV') {\n        Color.recalculateHSV(this);\n        this.__state.space = 'HSV';\n      }\n      this.__state[component] = v;\n    }\n  });\n}\nColor.recalculateRGB = function (color, component, componentHexIndex) {\n  if (color.__state.space === 'HEX') {\n    color.__state[component] = ColorMath.component_from_hex(color.__state.hex, componentHexIndex);\n  } else if (color.__state.space === 'HSV') {\n    Common.extend(color.__state, ColorMath.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n  } else {\n    throw new Error('Corrupted color state');\n  }\n};\nColor.recalculateHSV = function (color) {\n  var result = ColorMath.rgb_to_hsv(color.r, color.g, color.b);\n  Common.extend(color.__state, {\n    s: result.s,\n    v: result.v\n  });\n  if (!Common.isNaN(result.h)) {\n    color.__state.h = result.h;\n  } else if (Common.isUndefined(color.__state.h)) {\n    color.__state.h = 0;\n  }\n};\nColor.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\ndefineRGBComponent(Color.prototype, 'r', 2);\ndefineRGBComponent(Color.prototype, 'g', 1);\ndefineRGBComponent(Color.prototype, 'b', 0);\ndefineHSVComponent(Color.prototype, 'h');\ndefineHSVComponent(Color.prototype, 's');\ndefineHSVComponent(Color.prototype, 'v');\nObject.defineProperty(Color.prototype, 'a', {\n  get: function get$$1() {\n    return this.__state.a;\n  },\n  set: function set$$1(v) {\n    this.__state.a = v;\n  }\n});\nObject.defineProperty(Color.prototype, 'hex', {\n  get: function get$$1() {\n    if (this.__state.space !== 'HEX') {\n      this.__state.hex = ColorMath.rgb_to_hex(this.r, this.g, this.b);\n      this.__state.space = 'HEX';\n    }\n    return this.__state.hex;\n  },\n  set: function set$$1(v) {\n    this.__state.space = 'HEX';\n    this.__state.hex = v;\n  }\n});\n\nvar Controller = function () {\n  function Controller(object, property) {\n    classCallCheck(this, Controller);\n    this.initialValue = object[property];\n    this.domElement = document.createElement('div');\n    this.object = object;\n    this.property = property;\n    this.__onChange = undefined;\n    this.__onFinishChange = undefined;\n  }\n  createClass(Controller, [{\n    key: 'onChange',\n    value: function onChange(fnc) {\n      this.__onChange = fnc;\n      return this;\n    }\n  }, {\n    key: 'onFinishChange',\n    value: function onFinishChange(fnc) {\n      this.__onFinishChange = fnc;\n      return this;\n    }\n  }, {\n    key: 'setValue',\n    value: function setValue(newValue) {\n      this.object[this.property] = newValue;\n      if (this.__onChange) {\n        this.__onChange.call(this, newValue);\n      }\n      this.updateDisplay();\n      return this;\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue() {\n      return this.object[this.property];\n    }\n  }, {\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      return this;\n    }\n  }, {\n    key: 'isModified',\n    value: function isModified() {\n      return this.initialValue !== this.getValue();\n    }\n  }]);\n  return Controller;\n}();\n\nvar EVENT_MAP = {\n  HTMLEvents: ['change'],\n  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n  KeyboardEvents: ['keydown']\n};\nvar EVENT_MAP_INV = {};\nCommon.each(EVENT_MAP, function (v, k) {\n  Common.each(v, function (e) {\n    EVENT_MAP_INV[e] = k;\n  });\n});\nvar CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\nfunction cssValueToPixels(val) {\n  if (val === '0' || Common.isUndefined(val)) {\n    return 0;\n  }\n  var match = val.match(CSS_VALUE_PIXELS);\n  if (!Common.isNull(match)) {\n    return parseFloat(match[1]);\n  }\n  return 0;\n}\nvar dom = {\n  makeSelectable: function makeSelectable(elem, selectable) {\n    if (elem === undefined || elem.style === undefined) return;\n    elem.onselectstart = selectable ? function () {\n      return false;\n    } : function () {};\n    elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n    elem.unselectable = selectable ? 'on' : 'off';\n  },\n  makeFullscreen: function makeFullscreen(elem, hor, vert) {\n    var vertical = vert;\n    var horizontal = hor;\n    if (Common.isUndefined(horizontal)) {\n      horizontal = true;\n    }\n    if (Common.isUndefined(vertical)) {\n      vertical = true;\n    }\n    elem.style.position = 'absolute';\n    if (horizontal) {\n      elem.style.left = 0;\n      elem.style.right = 0;\n    }\n    if (vertical) {\n      elem.style.top = 0;\n      elem.style.bottom = 0;\n    }\n  },\n  fakeEvent: function fakeEvent(elem, eventType, pars, aux) {\n    var params = pars || {};\n    var className = EVENT_MAP_INV[eventType];\n    if (!className) {\n      throw new Error('Event type ' + eventType + ' not supported.');\n    }\n    var evt = document.createEvent(className);\n    switch (className) {\n      case 'MouseEvents':\n        {\n          var clientX = params.x || params.clientX || 0;\n          var clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,\n          0,\n          clientX,\n          clientY,\n          false, false, false, false, 0, null);\n          break;\n        }\n      case 'KeyboardEvents':\n        {\n          var init = evt.initKeyboardEvent || evt.initKeyEvent;\n          Common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode);\n          break;\n        }\n      default:\n        {\n          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n          break;\n        }\n    }\n    Common.defaults(evt, aux);\n    elem.dispatchEvent(evt);\n  },\n  bind: function bind(elem, event, func, newBool) {\n    var bool = newBool || false;\n    if (elem.addEventListener) {\n      elem.addEventListener(event, func, bool);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + event, func);\n    }\n    return dom;\n  },\n  unbind: function unbind(elem, event, func, newBool) {\n    var bool = newBool || false;\n    if (elem.removeEventListener) {\n      elem.removeEventListener(event, func, bool);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + event, func);\n    }\n    return dom;\n  },\n  addClass: function addClass(elem, className) {\n    if (elem.className === undefined) {\n      elem.className = className;\n    } else if (elem.className !== className) {\n      var classes = elem.className.split(/ +/);\n      if (classes.indexOf(className) === -1) {\n        classes.push(className);\n        elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n      }\n    }\n    return dom;\n  },\n  removeClass: function removeClass(elem, className) {\n    if (className) {\n      if (elem.className === className) {\n        elem.removeAttribute('class');\n      } else {\n        var classes = elem.className.split(/ +/);\n        var index = classes.indexOf(className);\n        if (index !== -1) {\n          classes.splice(index, 1);\n          elem.className = classes.join(' ');\n        }\n      }\n    } else {\n      elem.className = undefined;\n    }\n    return dom;\n  },\n  hasClass: function hasClass(elem, className) {\n    return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n  },\n  getWidth: function getWidth(elem) {\n    var style = getComputedStyle(elem);\n    return cssValueToPixels(style['border-left-width']) + cssValueToPixels(style['border-right-width']) + cssValueToPixels(style['padding-left']) + cssValueToPixels(style['padding-right']) + cssValueToPixels(style.width);\n  },\n  getHeight: function getHeight(elem) {\n    var style = getComputedStyle(elem);\n    return cssValueToPixels(style['border-top-width']) + cssValueToPixels(style['border-bottom-width']) + cssValueToPixels(style['padding-top']) + cssValueToPixels(style['padding-bottom']) + cssValueToPixels(style.height);\n  },\n  getOffset: function getOffset(el) {\n    var elem = el;\n    var offset = { left: 0, top: 0 };\n    if (elem.offsetParent) {\n      do {\n        offset.left += elem.offsetLeft;\n        offset.top += elem.offsetTop;\n        elem = elem.offsetParent;\n      } while (elem);\n    }\n    return offset;\n  },\n  isActive: function isActive(elem) {\n    return elem === document.activeElement && (elem.type || elem.href);\n  }\n};\n\nvar BooleanController = function (_Controller) {\n  inherits(BooleanController, _Controller);\n  function BooleanController(object, property) {\n    classCallCheck(this, BooleanController);\n    var _this2 = possibleConstructorReturn(this, (BooleanController.__proto__ || Object.getPrototypeOf(BooleanController)).call(this, object, property));\n    var _this = _this2;\n    _this2.__prev = _this2.getValue();\n    _this2.__checkbox = document.createElement('input');\n    _this2.__checkbox.setAttribute('type', 'checkbox');\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n    dom.bind(_this2.__checkbox, 'change', onChange, false);\n    _this2.domElement.appendChild(_this2.__checkbox);\n    _this2.updateDisplay();\n    return _this2;\n  }\n  createClass(BooleanController, [{\n    key: 'setValue',\n    value: function setValue(v) {\n      var toReturn = get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), 'setValue', this).call(this, v);\n      if (this.__onFinishChange) {\n        this.__onFinishChange.call(this, this.getValue());\n      }\n      this.__prev = this.getValue();\n      return toReturn;\n    }\n  }, {\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      if (this.getValue() === true) {\n        this.__checkbox.setAttribute('checked', 'checked');\n        this.__checkbox.checked = true;\n        this.__prev = true;\n      } else {\n        this.__checkbox.checked = false;\n        this.__prev = false;\n      }\n      return get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return BooleanController;\n}(Controller);\n\nvar OptionController = function (_Controller) {\n  inherits(OptionController, _Controller);\n  function OptionController(object, property, opts) {\n    classCallCheck(this, OptionController);\n    var _this2 = possibleConstructorReturn(this, (OptionController.__proto__ || Object.getPrototypeOf(OptionController)).call(this, object, property));\n    var options = opts;\n    var _this = _this2;\n    _this2.__select = document.createElement('select');\n    if (Common.isArray(options)) {\n      var map = {};\n      Common.each(options, function (element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n    Common.each(options, function (value, key) {\n      var opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n    });\n    _this2.updateDisplay();\n    dom.bind(_this2.__select, 'change', function () {\n      var desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n    _this2.domElement.appendChild(_this2.__select);\n    return _this2;\n  }\n  createClass(OptionController, [{\n    key: 'setValue',\n    value: function setValue(v) {\n      var toReturn = get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), 'setValue', this).call(this, v);\n      if (this.__onFinishChange) {\n        this.__onFinishChange.call(this, this.getValue());\n      }\n      return toReturn;\n    }\n  }, {\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      if (dom.isActive(this.__select)) return this;\n      this.__select.value = this.getValue();\n      return get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return OptionController;\n}(Controller);\n\nvar StringController = function (_Controller) {\n  inherits(StringController, _Controller);\n  function StringController(object, property) {\n    classCallCheck(this, StringController);\n    var _this2 = possibleConstructorReturn(this, (StringController.__proto__ || Object.getPrototypeOf(StringController)).call(this, object, property));\n    var _this = _this2;\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n    _this2.__input = document.createElement('input');\n    _this2.__input.setAttribute('type', 'text');\n    dom.bind(_this2.__input, 'keyup', onChange);\n    dom.bind(_this2.__input, 'change', onChange);\n    dom.bind(_this2.__input, 'blur', onBlur);\n    dom.bind(_this2.__input, 'keydown', function (e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n    _this2.updateDisplay();\n    _this2.domElement.appendChild(_this2.__input);\n    return _this2;\n  }\n  createClass(StringController, [{\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      if (!dom.isActive(this.__input)) {\n        this.__input.value = this.getValue();\n      }\n      return get(StringController.prototype.__proto__ || Object.getPrototypeOf(StringController.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return StringController;\n}(Controller);\n\nfunction numDecimals(x) {\n  var _x = x.toString();\n  if (_x.indexOf('.') > -1) {\n    return _x.length - _x.indexOf('.') - 1;\n  }\n  return 0;\n}\nvar NumberController = function (_Controller) {\n  inherits(NumberController, _Controller);\n  function NumberController(object, property, params) {\n    classCallCheck(this, NumberController);\n    var _this = possibleConstructorReturn(this, (NumberController.__proto__ || Object.getPrototypeOf(NumberController)).call(this, object, property));\n    var _params = params || {};\n    _this.__min = _params.min;\n    _this.__max = _params.max;\n    _this.__step = _params.step;\n    if (Common.isUndefined(_this.__step)) {\n      if (_this.initialValue === 0) {\n        _this.__impliedStep = 1;\n      } else {\n        _this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(_this.initialValue)) / Math.LN10)) / 10;\n      }\n    } else {\n      _this.__impliedStep = _this.__step;\n    }\n    _this.__precision = numDecimals(_this.__impliedStep);\n    return _this;\n  }\n  createClass(NumberController, [{\n    key: 'setValue',\n    value: function setValue(v) {\n      var _v = v;\n      if (this.__min !== undefined && _v < this.__min) {\n        _v = this.__min;\n      } else if (this.__max !== undefined && _v > this.__max) {\n        _v = this.__max;\n      }\n      if (this.__step !== undefined && _v % this.__step !== 0) {\n        _v = Math.round(_v / this.__step) * this.__step;\n      }\n      return get(NumberController.prototype.__proto__ || Object.getPrototypeOf(NumberController.prototype), 'setValue', this).call(this, _v);\n    }\n  }, {\n    key: 'min',\n    value: function min(minValue) {\n      this.__min = minValue;\n      return this;\n    }\n  }, {\n    key: 'max',\n    value: function max(maxValue) {\n      this.__max = maxValue;\n      return this;\n    }\n  }, {\n    key: 'step',\n    value: function step(stepValue) {\n      this.__step = stepValue;\n      this.__impliedStep = stepValue;\n      this.__precision = numDecimals(stepValue);\n      return this;\n    }\n  }]);\n  return NumberController;\n}(Controller);\n\nfunction roundToDecimal(value, decimals) {\n  var tenTo = Math.pow(10, decimals);\n  return Math.round(value * tenTo) / tenTo;\n}\nvar NumberControllerBox = function (_NumberController) {\n  inherits(NumberControllerBox, _NumberController);\n  function NumberControllerBox(object, property, params) {\n    classCallCheck(this, NumberControllerBox);\n    var _this2 = possibleConstructorReturn(this, (NumberControllerBox.__proto__ || Object.getPrototypeOf(NumberControllerBox)).call(this, object, property, params));\n    _this2.__truncationSuspended = false;\n    var _this = _this2;\n    var prevY = void 0;\n    function onChange() {\n      var attempted = parseFloat(_this.__input.value);\n      if (!Common.isNaN(attempted)) {\n        _this.setValue(attempted);\n      }\n    }\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n    function onBlur() {\n      onFinish();\n    }\n    function onMouseDrag(e) {\n      var diff = prevY - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n      prevY = e.clientY;\n    }\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      onFinish();\n    }\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prevY = e.clientY;\n    }\n    _this2.__input = document.createElement('input');\n    _this2.__input.setAttribute('type', 'text');\n    dom.bind(_this2.__input, 'change', onChange);\n    dom.bind(_this2.__input, 'blur', onBlur);\n    dom.bind(_this2.__input, 'mousedown', onMouseDown);\n    dom.bind(_this2.__input, 'keydown', function (e) {\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n        onFinish();\n      }\n    });\n    _this2.updateDisplay();\n    _this2.domElement.appendChild(_this2.__input);\n    return _this2;\n  }\n  createClass(NumberControllerBox, [{\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n      return get(NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf(NumberControllerBox.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return NumberControllerBox;\n}(NumberController);\n\nfunction map(v, i1, i2, o1, o2) {\n  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n}\nvar NumberControllerSlider = function (_NumberController) {\n  inherits(NumberControllerSlider, _NumberController);\n  function NumberControllerSlider(object, property, min, max, step) {\n    classCallCheck(this, NumberControllerSlider);\n    var _this2 = possibleConstructorReturn(this, (NumberControllerSlider.__proto__ || Object.getPrototypeOf(NumberControllerSlider)).call(this, object, property, { min: min, max: max, step: step }));\n    var _this = _this2;\n    _this2.__background = document.createElement('div');\n    _this2.__foreground = document.createElement('div');\n    dom.bind(_this2.__background, 'mousedown', onMouseDown);\n    dom.bind(_this2.__background, 'touchstart', onTouchStart);\n    dom.addClass(_this2.__background, 'slider');\n    dom.addClass(_this2.__foreground, 'slider-fg');\n    function onMouseDown(e) {\n      document.activeElement.blur();\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      onMouseDrag(e);\n    }\n    function onMouseDrag(e) {\n      e.preventDefault();\n      var bgRect = _this.__background.getBoundingClientRect();\n      _this.setValue(map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));\n      return false;\n    }\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n    function onTouchStart(e) {\n      if (e.touches.length !== 1) {\n        return;\n      }\n      dom.bind(window, 'touchmove', onTouchMove);\n      dom.bind(window, 'touchend', onTouchEnd);\n      onTouchMove(e);\n    }\n    function onTouchMove(e) {\n      var clientX = e.touches[0].clientX;\n      var bgRect = _this.__background.getBoundingClientRect();\n      _this.setValue(map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));\n    }\n    function onTouchEnd() {\n      dom.unbind(window, 'touchmove', onTouchMove);\n      dom.unbind(window, 'touchend', onTouchEnd);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n    _this2.updateDisplay();\n    _this2.__background.appendChild(_this2.__foreground);\n    _this2.domElement.appendChild(_this2.__background);\n    return _this2;\n  }\n  createClass(NumberControllerSlider, [{\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      var pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n      this.__foreground.style.width = pct * 100 + '%';\n      return get(NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf(NumberControllerSlider.prototype), 'updateDisplay', this).call(this);\n    }\n  }]);\n  return NumberControllerSlider;\n}(NumberController);\n\nvar FunctionController = function (_Controller) {\n  inherits(FunctionController, _Controller);\n  function FunctionController(object, property, text) {\n    classCallCheck(this, FunctionController);\n    var _this2 = possibleConstructorReturn(this, (FunctionController.__proto__ || Object.getPrototypeOf(FunctionController)).call(this, object, property));\n    var _this = _this2;\n    _this2.__button = document.createElement('div');\n    _this2.__button.innerHTML = text === undefined ? 'Fire' : text;\n    dom.bind(_this2.__button, 'click', function (e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n    dom.addClass(_this2.__button, 'button');\n    _this2.domElement.appendChild(_this2.__button);\n    return _this2;\n  }\n  createClass(FunctionController, [{\n    key: 'fire',\n    value: function fire() {\n      if (this.__onChange) {\n        this.__onChange.call(this);\n      }\n      this.getValue().call(this.object);\n      if (this.__onFinishChange) {\n        this.__onFinishChange.call(this, this.getValue());\n      }\n    }\n  }]);\n  return FunctionController;\n}(Controller);\n\nvar ColorController = function (_Controller) {\n  inherits(ColorController, _Controller);\n  function ColorController(object, property) {\n    classCallCheck(this, ColorController);\n    var _this2 = possibleConstructorReturn(this, (ColorController.__proto__ || Object.getPrototypeOf(ColorController)).call(this, object, property));\n    _this2.__color = new Color(_this2.getValue());\n    _this2.__temp = new Color(0);\n    var _this = _this2;\n    _this2.domElement = document.createElement('div');\n    dom.makeSelectable(_this2.domElement, false);\n    _this2.__selector = document.createElement('div');\n    _this2.__selector.className = 'selector';\n    _this2.__saturation_field = document.createElement('div');\n    _this2.__saturation_field.className = 'saturation-field';\n    _this2.__field_knob = document.createElement('div');\n    _this2.__field_knob.className = 'field-knob';\n    _this2.__field_knob_border = '2px solid ';\n    _this2.__hue_knob = document.createElement('div');\n    _this2.__hue_knob.className = 'hue-knob';\n    _this2.__hue_field = document.createElement('div');\n    _this2.__hue_field.className = 'hue-field';\n    _this2.__input = document.createElement('input');\n    _this2.__input.type = 'text';\n    _this2.__input_textShadow = '0 1px 1px ';\n    dom.bind(_this2.__input, 'keydown', function (e) {\n      if (e.keyCode === 13) {\n        onBlur.call(this);\n      }\n    });\n    dom.bind(_this2.__input, 'blur', onBlur);\n    dom.bind(_this2.__selector, 'mousedown', function ()        {\n      dom.addClass(this, 'drag').bind(window, 'mouseup', function ()        {\n        dom.removeClass(_this.__selector, 'drag');\n      });\n    });\n    dom.bind(_this2.__selector, 'touchstart', function ()        {\n      dom.addClass(this, 'drag').bind(window, 'touchend', function ()        {\n        dom.removeClass(_this.__selector, 'drag');\n      });\n    });\n    var valueField = document.createElement('div');\n    Common.extend(_this2.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n    Common.extend(_this2.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: _this2.__field_knob_border + (_this2.__color.v < 0.5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n    Common.extend(_this2.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n    Common.extend(_this2.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n    Common.extend(valueField.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n    Common.extend(_this2.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      border: '1px solid #555',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: '3px',\n      right: '3px'\n    });\n    hueGradient(_this2.__hue_field);\n    Common.extend(_this2.__input.style, {\n      outline: 'none',\n      textAlign: 'center',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n    dom.bind(_this2.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(_this2.__saturation_field, 'touchstart', fieldDown);\n    dom.bind(_this2.__field_knob, 'mousedown', fieldDown);\n    dom.bind(_this2.__field_knob, 'touchstart', fieldDown);\n    dom.bind(_this2.__hue_field, 'mousedown', fieldDownH);\n    dom.bind(_this2.__hue_field, 'touchstart', fieldDownH);\n    function fieldDown(e) {\n      setSV(e);\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'touchmove', setSV);\n      dom.bind(window, 'mouseup', fieldUpSV);\n      dom.bind(window, 'touchend', fieldUpSV);\n    }\n    function fieldDownH(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'touchmove', setH);\n      dom.bind(window, 'mouseup', fieldUpH);\n      dom.bind(window, 'touchend', fieldUpH);\n    }\n    function fieldUpSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'touchmove', setSV);\n      dom.unbind(window, 'mouseup', fieldUpSV);\n      dom.unbind(window, 'touchend', fieldUpSV);\n      onFinish();\n    }\n    function fieldUpH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'touchmove', setH);\n      dom.unbind(window, 'mouseup', fieldUpH);\n      dom.unbind(window, 'touchend', fieldUpH);\n      onFinish();\n    }\n    function onBlur() {\n      var i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n      }\n    }\n    _this2.__saturation_field.appendChild(valueField);\n    _this2.__selector.appendChild(_this2.__field_knob);\n    _this2.__selector.appendChild(_this2.__saturation_field);\n    _this2.__selector.appendChild(_this2.__hue_field);\n    _this2.__hue_field.appendChild(_this2.__hue_knob);\n    _this2.domElement.appendChild(_this2.__input);\n    _this2.domElement.appendChild(_this2.__selector);\n    _this2.updateDisplay();\n    function setSV(e) {\n      if (e.type.indexOf('touch') === -1) {\n        e.preventDefault();\n      }\n      var fieldRect = _this.__saturation_field.getBoundingClientRect();\n      var _ref = e.touches && e.touches[0] || e,\n          clientX = _ref.clientX,\n          clientY = _ref.clientY;\n      var s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n      var v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n      if (v > 1) {\n        v = 1;\n      } else if (v < 0) {\n        v = 0;\n      }\n      if (s > 1) {\n        s = 1;\n      } else if (s < 0) {\n        s = 0;\n      }\n      _this.__color.v = v;\n      _this.__color.s = s;\n      _this.setValue(_this.__color.toOriginal());\n      return false;\n    }\n    function setH(e) {\n      if (e.type.indexOf('touch') === -1) {\n        e.preventDefault();\n      }\n      var fieldRect = _this.__hue_field.getBoundingClientRect();\n      var _ref2 = e.touches && e.touches[0] || e,\n          clientY = _ref2.clientY;\n      var h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n      if (h > 1) {\n        h = 1;\n      } else if (h < 0) {\n        h = 0;\n      }\n      _this.__color.h = h * 360;\n      _this.setValue(_this.__color.toOriginal());\n      return false;\n    }\n    return _this2;\n  }\n  createClass(ColorController, [{\n    key: 'updateDisplay',\n    value: function updateDisplay() {\n      var i = interpret(this.getValue());\n      if (i !== false) {\n        var mismatch = false;\n        Common.each(Color.COMPONENTS, function (component) {\n          if (!Common.isUndefined(i[component]) && !Common.isUndefined(this.__color.__state[component]) && i[component] !== this.__color.__state[component]) {\n            mismatch = true;\n            return {};\n          }\n        }, this);\n        if (mismatch) {\n          Common.extend(this.__color.__state, i);\n        }\n      }\n      Common.extend(this.__temp.__state, this.__color.__state);\n      this.__temp.a = 1;\n      var flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\n      var _flip = 255 - flip;\n      Common.extend(this.__field_knob.style, {\n        marginLeft: 100 * this.__color.s - 7 + 'px',\n        marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n        backgroundColor: this.__temp.toHexString(),\n        border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n      });\n      this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n      this.__temp.s = 1;\n      this.__temp.v = 1;\n      linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n      this.__input.value = this.__color.toString();\n      Common.extend(this.__input.style, {\n        backgroundColor: this.__color.toHexString(),\n        color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n        textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n      });\n    }\n  }]);\n  return ColorController;\n}(Controller);\nvar vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\nfunction linearGradient(elem, x, a, b) {\n  elem.style.background = '';\n  Common.each(vendors, function (vendor) {\n    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n  });\n}\nfunction hueGradient(elem) {\n  elem.style.background = '';\n  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n}\n\nvar css = {\n  load: function load(url, indoc) {\n    var doc = indoc || document;\n    var link = doc.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url;\n    doc.getElementsByTagName('head')[0].appendChild(link);\n  },\n  inject: function inject(cssContent, indoc) {\n    var doc = indoc || document;\n    var injected = document.createElement('style');\n    injected.type = 'text/css';\n    injected.innerHTML = cssContent;\n    var head = doc.getElementsByTagName('head')[0];\n    try {\n      head.appendChild(injected);\n    } catch (e) {\n    }\n  }\n};\n\nvar saveDialogContents = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\n\nvar ControllerFactory = function ControllerFactory(object, property) {\n  var initialValue = object[property];\n  if (Common.isArray(arguments[2]) || Common.isObject(arguments[2])) {\n    return new OptionController(object, property, arguments[2]);\n  }\n  if (Common.isNumber(initialValue)) {\n    if (Common.isNumber(arguments[2]) && Common.isNumber(arguments[3])) {\n      if (Common.isNumber(arguments[4])) {\n        return new NumberControllerSlider(object, property, arguments[2], arguments[3], arguments[4]);\n      }\n      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n    }\n    if (Common.isNumber(arguments[4])) {\n      return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3], step: arguments[4] });\n    }\n    return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n  }\n  if (Common.isString(initialValue)) {\n    return new StringController(object, property);\n  }\n  if (Common.isFunction(initialValue)) {\n    return new FunctionController(object, property, '');\n  }\n  if (Common.isBoolean(initialValue)) {\n    return new BooleanController(object, property);\n  }\n  return null;\n};\n\nfunction requestAnimationFrame(callback) {\n  setTimeout(callback, 1000 / 60);\n}\nvar requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\n\nvar CenteredDiv = function () {\n  function CenteredDiv() {\n    classCallCheck(this, CenteredDiv);\n    this.backgroundElement = document.createElement('div');\n    Common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n    this.domElement = document.createElement('div');\n    Common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n    var _this = this;\n    dom.bind(this.backgroundElement, 'click', function () {\n      _this.hide();\n    });\n  }\n  createClass(CenteredDiv, [{\n    key: 'show',\n    value: function show() {\n      var _this = this;\n      this.backgroundElement.style.display = 'block';\n      this.domElement.style.display = 'block';\n      this.domElement.style.opacity = 0;\n      this.domElement.style.webkitTransform = 'scale(1.1)';\n      this.layout();\n      Common.defer(function () {\n        _this.backgroundElement.style.opacity = 1;\n        _this.domElement.style.opacity = 1;\n        _this.domElement.style.webkitTransform = 'scale(1)';\n      });\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      var _this = this;\n      var hide = function hide() {\n        _this.domElement.style.display = 'none';\n        _this.backgroundElement.style.display = 'none';\n        dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n        dom.unbind(_this.domElement, 'transitionend', hide);\n        dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n      };\n      dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n      dom.bind(this.domElement, 'transitionend', hide);\n      dom.bind(this.domElement, 'oTransitionEnd', hide);\n      this.backgroundElement.style.opacity = 0;\n      this.domElement.style.opacity = 0;\n      this.domElement.style.webkitTransform = 'scale(1.1)';\n    }\n  }, {\n    key: 'layout',\n    value: function layout() {\n      this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n      this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n    }\n  }]);\n  return CenteredDiv;\n}();\n\nvar styleSheet = ___$insertStyle(\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\");\n\ncss.inject(styleSheet);\nvar CSS_NAMESPACE = 'dg';\nvar HIDE_KEY_CODE = 72;\nvar CLOSE_BUTTON_HEIGHT = 20;\nvar DEFAULT_DEFAULT_PRESET_NAME = 'Default';\nvar SUPPORTS_LOCAL_STORAGE = function () {\n  try {\n    return !!window.localStorage;\n  } catch (e) {\n    return false;\n  }\n}();\nvar SAVE_DIALOGUE = void 0;\nvar autoPlaceVirgin = true;\nvar autoPlaceContainer = void 0;\nvar hide = false;\nvar hideableGuis = [];\nvar GUI = function GUI(pars) {\n  var _this = this;\n  var params = pars || {};\n  this.domElement = document.createElement('div');\n  this.__ul = document.createElement('ul');\n  this.domElement.appendChild(this.__ul);\n  dom.addClass(this.domElement, CSS_NAMESPACE);\n  this.__folders = {};\n  this.__controllers = [];\n  this.__rememberedObjects = [];\n  this.__rememberedObjectIndecesToControllers = [];\n  this.__listening = [];\n  params = Common.defaults(params, {\n    closeOnTop: false,\n    autoPlace: true,\n    width: GUI.DEFAULT_WIDTH\n  });\n  params = Common.defaults(params, {\n    resizable: params.autoPlace,\n    hideable: params.autoPlace\n  });\n  if (!Common.isUndefined(params.load)) {\n    if (params.preset) {\n      params.load.preset = params.preset;\n    }\n  } else {\n    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n  }\n  if (Common.isUndefined(params.parent) && params.hideable) {\n    hideableGuis.push(this);\n  }\n  params.resizable = Common.isUndefined(params.parent) && params.resizable;\n  if (params.autoPlace && Common.isUndefined(params.scrollable)) {\n    params.scrollable = true;\n  }\n  var useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n  var saveToLocalStorage = void 0;\n  var titleRow = void 0;\n  Object.defineProperties(this,\n  {\n    parent: {\n      get: function get$$1() {\n        return params.parent;\n      }\n    },\n    scrollable: {\n      get: function get$$1() {\n        return params.scrollable;\n      }\n    },\n    autoPlace: {\n      get: function get$$1() {\n        return params.autoPlace;\n      }\n    },\n    closeOnTop: {\n      get: function get$$1() {\n        return params.closeOnTop;\n      }\n    },\n    preset: {\n      get: function get$$1() {\n        if (_this.parent) {\n          return _this.getRoot().preset;\n        }\n        return params.load.preset;\n      },\n      set: function set$$1(v) {\n        if (_this.parent) {\n          _this.getRoot().preset = v;\n        } else {\n          params.load.preset = v;\n        }\n        setPresetSelectIndex(this);\n        _this.revert();\n      }\n    },\n    width: {\n      get: function get$$1() {\n        return params.width;\n      },\n      set: function set$$1(v) {\n        params.width = v;\n        setWidth(_this, v);\n      }\n    },\n    name: {\n      get: function get$$1() {\n        return params.name;\n      },\n      set: function set$$1(v) {\n        params.name = v;\n        if (titleRow) {\n          titleRow.innerHTML = params.name;\n        }\n      }\n    },\n    closed: {\n      get: function get$$1() {\n        return params.closed;\n      },\n      set: function set$$1(v) {\n        params.closed = v;\n        if (params.closed) {\n          dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n        } else {\n          dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n        }\n        this.onResize();\n        if (_this.__closeButton) {\n          _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n        }\n      }\n    },\n    load: {\n      get: function get$$1() {\n        return params.load;\n      }\n    },\n    useLocalStorage: {\n      get: function get$$1() {\n        return useLocalStorage;\n      },\n      set: function set$$1(bool) {\n        if (SUPPORTS_LOCAL_STORAGE) {\n          useLocalStorage = bool;\n          if (bool) {\n            dom.bind(window, 'unload', saveToLocalStorage);\n          } else {\n            dom.unbind(window, 'unload', saveToLocalStorage);\n          }\n          localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n        }\n      }\n    }\n  });\n  if (Common.isUndefined(params.parent)) {\n    this.closed = params.closed || false;\n    dom.addClass(this.domElement, GUI.CLASS_MAIN);\n    dom.makeSelectable(this.domElement, false);\n    if (SUPPORTS_LOCAL_STORAGE) {\n      if (useLocalStorage) {\n        _this.useLocalStorage = true;\n        var savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n        if (savedGui) {\n          params.load = JSON.parse(savedGui);\n        }\n      }\n    }\n    this.__closeButton = document.createElement('div');\n    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n    if (params.closeOnTop) {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n    } else {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n      this.domElement.appendChild(this.__closeButton);\n    }\n    dom.bind(this.__closeButton, 'click', function () {\n      _this.closed = !_this.closed;\n    });\n  } else {\n    if (params.closed === undefined) {\n      params.closed = true;\n    }\n    var titleRowName = document.createTextNode(params.name);\n    dom.addClass(titleRowName, 'controller-name');\n    titleRow = addRow(_this, titleRowName);\n    var onClickTitle = function onClickTitle(e) {\n      e.preventDefault();\n      _this.closed = !_this.closed;\n      return false;\n    };\n    dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n    dom.addClass(titleRow, 'title');\n    dom.bind(titleRow, 'click', onClickTitle);\n    if (!params.closed) {\n      this.closed = false;\n    }\n  }\n  if (params.autoPlace) {\n    if (Common.isUndefined(params.parent)) {\n      if (autoPlaceVirgin) {\n        autoPlaceContainer = document.createElement('div');\n        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);\n        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n        document.body.appendChild(autoPlaceContainer);\n        autoPlaceVirgin = false;\n      }\n      autoPlaceContainer.appendChild(this.domElement);\n      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n    }\n    if (!this.parent) {\n      setWidth(_this, params.width);\n    }\n  }\n  this.__resizeHandler = function () {\n    _this.onResizeDebounced();\n  };\n  dom.bind(window, 'resize', this.__resizeHandler);\n  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);\n  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n  this.onResize();\n  if (params.resizable) {\n    addResizeHandle(this);\n  }\n  saveToLocalStorage = function saveToLocalStorage() {\n    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n  };\n  this.saveToLocalStorageIfPossible = saveToLocalStorage;\n  function resetWidth() {\n    var root = _this.getRoot();\n    root.width += 1;\n    Common.defer(function () {\n      root.width -= 1;\n    });\n  }\n  if (!params.parent) {\n    resetWidth();\n  }\n};\nGUI.toggleHide = function () {\n  hide = !hide;\n  Common.each(hideableGuis, function (gui) {\n    gui.domElement.style.display = hide ? 'none' : '';\n  });\n};\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\nGUI._keydownHandler = function (e) {\n  if (document.activeElement.type !== 'text' && (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n    GUI.toggleHide();\n  }\n};\ndom.bind(window, 'keydown', GUI._keydownHandler, false);\nCommon.extend(GUI.prototype,\n{\n  add: function add(object, property) {\n    return _add(this, object, property, {\n      factoryArgs: Array.prototype.slice.call(arguments, 2)\n    });\n  },\n  addColor: function addColor(object, property) {\n    return _add(this, object, property, {\n      color: true\n    });\n  },\n  remove: function remove(controller) {\n    this.__ul.removeChild(controller.__li);\n    this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n    var _this = this;\n    Common.defer(function () {\n      _this.onResize();\n    });\n  },\n  destroy: function destroy() {\n    if (this.parent) {\n      throw new Error('Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.');\n    }\n    if (this.autoPlace) {\n      autoPlaceContainer.removeChild(this.domElement);\n    }\n    var _this = this;\n    Common.each(this.__folders, function (subfolder) {\n      _this.removeFolder(subfolder);\n    });\n    dom.unbind(window, 'keydown', GUI._keydownHandler, false);\n    removeListeners(this);\n  },\n  addFolder: function addFolder(name) {\n    if (this.__folders[name] !== undefined) {\n      throw new Error('You already have a folder in this GUI by the' + ' name \"' + name + '\"');\n    }\n    var newGuiParams = { name: name, parent: this };\n    newGuiParams.autoPlace = this.autoPlace;\n    if (this.load &&\n    this.load.folders &&\n    this.load.folders[name]) {\n      newGuiParams.closed = this.load.folders[name].closed;\n      newGuiParams.load = this.load.folders[name];\n    }\n    var gui = new GUI(newGuiParams);\n    this.__folders[name] = gui;\n    var li = addRow(this, gui.domElement);\n    dom.addClass(li, 'folder');\n    return gui;\n  },\n  removeFolder: function removeFolder(folder) {\n    this.__ul.removeChild(folder.domElement.parentElement);\n    delete this.__folders[folder.name];\n    if (this.load &&\n    this.load.folders &&\n    this.load.folders[folder.name]) {\n      delete this.load.folders[folder.name];\n    }\n    removeListeners(folder);\n    var _this = this;\n    Common.each(folder.__folders, function (subfolder) {\n      folder.removeFolder(subfolder);\n    });\n    Common.defer(function () {\n      _this.onResize();\n    });\n  },\n  open: function open() {\n    this.closed = false;\n  },\n  close: function close() {\n    this.closed = true;\n  },\n  hide: function hide() {\n    this.domElement.style.display = 'none';\n  },\n  show: function show() {\n    this.domElement.style.display = '';\n  },\n  onResize: function onResize() {\n    var root = this.getRoot();\n    if (root.scrollable) {\n      var top = dom.getOffset(root.__ul).top;\n      var h = 0;\n      Common.each(root.__ul.childNodes, function (node) {\n        if (!(root.autoPlace && node === root.__save_row)) {\n          h += dom.getHeight(node);\n        }\n      });\n      if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n        dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n        root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n      } else {\n        dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n        root.__ul.style.height = 'auto';\n      }\n    }\n    if (root.__resize_handle) {\n      Common.defer(function () {\n        root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n      });\n    }\n    if (root.__closeButton) {\n      root.__closeButton.style.width = root.width + 'px';\n    }\n  },\n  onResizeDebounced: Common.debounce(function () {\n    this.onResize();\n  }, 50),\n  remember: function remember() {\n    if (Common.isUndefined(SAVE_DIALOGUE)) {\n      SAVE_DIALOGUE = new CenteredDiv();\n      SAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;\n    }\n    if (this.parent) {\n      throw new Error('You can only call remember on a top level GUI.');\n    }\n    var _this = this;\n    Common.each(Array.prototype.slice.call(arguments), function (object) {\n      if (_this.__rememberedObjects.length === 0) {\n        addSaveMenu(_this);\n      }\n      if (_this.__rememberedObjects.indexOf(object) === -1) {\n        _this.__rememberedObjects.push(object);\n      }\n    });\n    if (this.autoPlace) {\n      setWidth(this, this.width);\n    }\n  },\n  getRoot: function getRoot() {\n    var gui = this;\n    while (gui.parent) {\n      gui = gui.parent;\n    }\n    return gui;\n  },\n  getSaveObject: function getSaveObject() {\n    var toReturn = this.load;\n    toReturn.closed = this.closed;\n    if (this.__rememberedObjects.length > 0) {\n      toReturn.preset = this.preset;\n      if (!toReturn.remembered) {\n        toReturn.remembered = {};\n      }\n      toReturn.remembered[this.preset] = getCurrentPreset(this);\n    }\n    toReturn.folders = {};\n    Common.each(this.__folders, function (element, key) {\n      toReturn.folders[key] = element.getSaveObject();\n    });\n    return toReturn;\n  },\n  save: function save() {\n    if (!this.load.remembered) {\n      this.load.remembered = {};\n    }\n    this.load.remembered[this.preset] = getCurrentPreset(this);\n    markPresetModified(this, false);\n    this.saveToLocalStorageIfPossible();\n  },\n  saveAs: function saveAs(presetName) {\n    if (!this.load.remembered) {\n      this.load.remembered = {};\n      this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n    }\n    this.load.remembered[presetName] = getCurrentPreset(this);\n    this.preset = presetName;\n    addPresetOption(this, presetName, true);\n    this.saveToLocalStorageIfPossible();\n  },\n  revert: function revert(gui) {\n    Common.each(this.__controllers, function (controller) {\n      if (!this.getRoot().load.remembered) {\n        controller.setValue(controller.initialValue);\n      } else {\n        recallSavedValue(gui || this.getRoot(), controller);\n      }\n      if (controller.__onFinishChange) {\n        controller.__onFinishChange.call(controller, controller.getValue());\n      }\n    }, this);\n    Common.each(this.__folders, function (folder) {\n      folder.revert(folder);\n    });\n    if (!gui) {\n      markPresetModified(this.getRoot(), false);\n    }\n  },\n  listen: function listen(controller) {\n    var init = this.__listening.length === 0;\n    this.__listening.push(controller);\n    if (init) {\n      updateDisplays(this.__listening);\n    }\n  },\n  updateDisplay: function updateDisplay() {\n    Common.each(this.__controllers, function (controller) {\n      controller.updateDisplay();\n    });\n    Common.each(this.__folders, function (folder) {\n      folder.updateDisplay();\n    });\n  }\n});\nfunction addRow(gui, newDom, liBefore) {\n  var li = document.createElement('li');\n  if (newDom) {\n    li.appendChild(newDom);\n  }\n  if (liBefore) {\n    gui.__ul.insertBefore(li, liBefore);\n  } else {\n    gui.__ul.appendChild(li);\n  }\n  gui.onResize();\n  return li;\n}\nfunction removeListeners(gui) {\n  dom.unbind(window, 'resize', gui.__resizeHandler);\n  if (gui.saveToLocalStorageIfPossible) {\n    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);\n  }\n}\nfunction markPresetModified(gui, modified) {\n  var opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n  if (modified) {\n    opt.innerHTML = opt.value + '*';\n  } else {\n    opt.innerHTML = opt.value;\n  }\n}\nfunction augmentController(gui, li, controller) {\n  controller.__li = li;\n  controller.__gui = gui;\n  Common.extend(controller,                                   {\n    options: function options(_options) {\n      if (arguments.length > 1) {\n        var nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n        return _add(gui, controller.object, controller.property, {\n          before: nextSibling,\n          factoryArgs: [Common.toArray(arguments)]\n        });\n      }\n      if (Common.isArray(_options) || Common.isObject(_options)) {\n        var _nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n        return _add(gui, controller.object, controller.property, {\n          before: _nextSibling,\n          factoryArgs: [_options]\n        });\n      }\n    },\n    name: function name(_name) {\n      controller.__li.firstElementChild.firstElementChild.innerHTML = _name;\n      return controller;\n    },\n    listen: function listen() {\n      controller.__gui.listen(controller);\n      return controller;\n    },\n    remove: function remove() {\n      controller.__gui.remove(controller);\n      return controller;\n    }\n  });\n  if (controller instanceof NumberControllerSlider) {\n    var box = new NumberControllerBox(controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step });\n    Common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function (method) {\n      var pc = controller[method];\n      var pb = box[method];\n      controller[method] = box[method] = function () {\n        var args = Array.prototype.slice.call(arguments);\n        pb.apply(box, args);\n        return pc.apply(controller, args);\n      };\n    });\n    dom.addClass(li, 'has-slider');\n    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n  } else if (controller instanceof NumberControllerBox) {\n    var r = function r(returned) {\n      if (Common.isNumber(controller.__min) && Common.isNumber(controller.__max)) {\n        var oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n        var wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n        controller.remove();\n        var newController = _add(gui, controller.object, controller.property, {\n          before: controller.__li.nextElementSibling,\n          factoryArgs: [controller.__min, controller.__max, controller.__step]\n        });\n        newController.name(oldName);\n        if (wasListening) newController.listen();\n        return newController;\n      }\n      return returned;\n    };\n    controller.min = Common.compose(r, controller.min);\n    controller.max = Common.compose(r, controller.max);\n  } else if (controller instanceof BooleanController) {\n    dom.bind(li, 'click', function () {\n      dom.fakeEvent(controller.__checkbox, 'click');\n    });\n    dom.bind(controller.__checkbox, 'click', function (e) {\n      e.stopPropagation();\n    });\n  } else if (controller instanceof FunctionController) {\n    dom.bind(li, 'click', function () {\n      dom.fakeEvent(controller.__button, 'click');\n    });\n    dom.bind(li, 'mouseover', function () {\n      dom.addClass(controller.__button, 'hover');\n    });\n    dom.bind(li, 'mouseout', function () {\n      dom.removeClass(controller.__button, 'hover');\n    });\n  } else if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n    controller.updateDisplay = Common.compose(function (val) {\n      li.style.borderLeftColor = controller.__color.toString();\n      return val;\n    }, controller.updateDisplay);\n    controller.updateDisplay();\n  }\n  controller.setValue = Common.compose(function (val) {\n    if (gui.getRoot().__preset_select && controller.isModified()) {\n      markPresetModified(gui.getRoot(), true);\n    }\n    return val;\n  }, controller.setValue);\n}\nfunction recallSavedValue(gui, controller) {\n  var root = gui.getRoot();\n  var matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n  if (matchedIndex !== -1) {\n    var controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n    if (controllerMap === undefined) {\n      controllerMap = {};\n      root.__rememberedObjectIndecesToControllers[matchedIndex] = controllerMap;\n    }\n    controllerMap[controller.property] = controller;\n    if (root.load && root.load.remembered) {\n      var presetMap = root.load.remembered;\n      var preset = void 0;\n      if (presetMap[gui.preset]) {\n        preset = presetMap[gui.preset];\n      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n      } else {\n        return;\n      }\n      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n        var value = preset[matchedIndex][controller.property];\n        controller.initialValue = value;\n        controller.setValue(value);\n      }\n    }\n  }\n}\nfunction _add(gui, object, property, params) {\n  if (object[property] === undefined) {\n    throw new Error('Object \"' + object + '\" has no property \"' + property + '\"');\n  }\n  var controller = void 0;\n  if (params.color) {\n    controller = new ColorController(object, property);\n  } else {\n    var factoryArgs = [object, property].concat(params.factoryArgs);\n    controller = ControllerFactory.apply(gui, factoryArgs);\n  }\n  if (params.before instanceof Controller) {\n    params.before = params.before.__li;\n  }\n  recallSavedValue(gui, controller);\n  dom.addClass(controller.domElement, 'c');\n  var name = document.createElement('span');\n  dom.addClass(name, 'property-name');\n  name.innerHTML = controller.property;\n  var container = document.createElement('div');\n  container.appendChild(name);\n  container.appendChild(controller.domElement);\n  var li = addRow(gui, container, params.before);\n  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n  if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n  } else {\n    dom.addClass(li, _typeof(controller.getValue()));\n  }\n  augmentController(gui, li, controller);\n  gui.__controllers.push(controller);\n  return controller;\n}\nfunction getLocalStorageHash(gui, key) {\n  return document.location.href + '.' + key;\n}\nfunction addPresetOption(gui, name, setSelected) {\n  var opt = document.createElement('option');\n  opt.innerHTML = name;\n  opt.value = name;\n  gui.__preset_select.appendChild(opt);\n  if (setSelected) {\n    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n  }\n}\nfunction showHideExplain(gui, explain) {\n  explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n}\nfunction addSaveMenu(gui) {\n  var div = gui.__save_row = document.createElement('li');\n  dom.addClass(gui.domElement, 'has-save');\n  gui.__ul.insertBefore(div, gui.__ul.firstChild);\n  dom.addClass(div, 'save-row');\n  var gears = document.createElement('span');\n  gears.innerHTML = '&nbsp;';\n  dom.addClass(gears, 'button gears');\n  var button = document.createElement('span');\n  button.innerHTML = 'Save';\n  dom.addClass(button, 'button');\n  dom.addClass(button, 'save');\n  var button2 = document.createElement('span');\n  button2.innerHTML = 'New';\n  dom.addClass(button2, 'button');\n  dom.addClass(button2, 'save-as');\n  var button3 = document.createElement('span');\n  button3.innerHTML = 'Revert';\n  dom.addClass(button3, 'button');\n  dom.addClass(button3, 'revert');\n  var select = gui.__preset_select = document.createElement('select');\n  if (gui.load && gui.load.remembered) {\n    Common.each(gui.load.remembered, function (value, key) {\n      addPresetOption(gui, key, key === gui.preset);\n    });\n  } else {\n    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n  }\n  dom.bind(select, 'change', function () {\n    for (var index = 0; index < gui.__preset_select.length; index++) {\n      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n    }\n    gui.preset = this.value;\n  });\n  div.appendChild(select);\n  div.appendChild(gears);\n  div.appendChild(button);\n  div.appendChild(button2);\n  div.appendChild(button3);\n  if (SUPPORTS_LOCAL_STORAGE) {\n    var explain = document.getElementById('dg-local-explain');\n    var localStorageCheckBox = document.getElementById('dg-local-storage');\n    var saveLocally = document.getElementById('dg-save-locally');\n    saveLocally.style.display = 'block';\n    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n      localStorageCheckBox.setAttribute('checked', 'checked');\n    }\n    showHideExplain(gui, explain);\n    dom.bind(localStorageCheckBox, 'change', function () {\n      gui.useLocalStorage = !gui.useLocalStorage;\n      showHideExplain(gui, explain);\n    });\n  }\n  var newConstructorTextArea = document.getElementById('dg-new-constructor');\n  dom.bind(newConstructorTextArea, 'keydown', function (e) {\n    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n      SAVE_DIALOGUE.hide();\n    }\n  });\n  dom.bind(gears, 'click', function () {\n    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n    SAVE_DIALOGUE.show();\n    newConstructorTextArea.focus();\n    newConstructorTextArea.select();\n  });\n  dom.bind(button, 'click', function () {\n    gui.save();\n  });\n  dom.bind(button2, 'click', function () {\n    var presetName = prompt('Enter a new preset name.');\n    if (presetName) {\n      gui.saveAs(presetName);\n    }\n  });\n  dom.bind(button3, 'click', function () {\n    gui.revert();\n  });\n}\nfunction addResizeHandle(gui) {\n  var pmouseX = void 0;\n  gui.__resize_handle = document.createElement('div');\n  Common.extend(gui.__resize_handle.style, {\n    width: '6px',\n    marginLeft: '-3px',\n    height: '200px',\n    cursor: 'ew-resize',\n    position: 'absolute'\n  });\n  function drag(e) {\n    e.preventDefault();\n    gui.width += pmouseX - e.clientX;\n    gui.onResize();\n    pmouseX = e.clientX;\n    return false;\n  }\n  function dragStop() {\n    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.unbind(window, 'mousemove', drag);\n    dom.unbind(window, 'mouseup', dragStop);\n  }\n  function dragStart(e) {\n    e.preventDefault();\n    pmouseX = e.clientX;\n    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.bind(window, 'mousemove', drag);\n    dom.bind(window, 'mouseup', dragStop);\n    return false;\n  }\n  dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n  dom.bind(gui.__closeButton, 'mousedown', dragStart);\n  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n}\nfunction setWidth(gui, w) {\n  gui.domElement.style.width = w + 'px';\n  if (gui.__save_row && gui.autoPlace) {\n    gui.__save_row.style.width = w + 'px';\n  }\n  if (gui.__closeButton) {\n    gui.__closeButton.style.width = w + 'px';\n  }\n}\nfunction getCurrentPreset(gui, useInitialValues) {\n  var toReturn = {};\n  Common.each(gui.__rememberedObjects, function (val, index) {\n    var savedValues = {};\n    var controllerMap = gui.__rememberedObjectIndecesToControllers[index];\n    Common.each(controllerMap, function (controller, property) {\n      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n    });\n    toReturn[index] = savedValues;\n  });\n  return toReturn;\n}\nfunction setPresetSelectIndex(gui) {\n  for (var index = 0; index < gui.__preset_select.length; index++) {\n    if (gui.__preset_select[index].value === gui.preset) {\n      gui.__preset_select.selectedIndex = index;\n    }\n  }\n}\nfunction updateDisplays(controllerArray) {\n  if (controllerArray.length !== 0) {\n    requestAnimationFrame$1.call(window, function () {\n      updateDisplays(controllerArray);\n    });\n  }\n  Common.each(controllerArray, function (c) {\n    c.updateDisplay();\n  });\n}\n\nvar color = {\n  Color: Color,\n  math: ColorMath,\n  interpret: interpret\n};\nvar controllers = {\n  Controller: Controller,\n  BooleanController: BooleanController,\n  OptionController: OptionController,\n  StringController: StringController,\n  NumberController: NumberController,\n  NumberControllerBox: NumberControllerBox,\n  NumberControllerSlider: NumberControllerSlider,\n  FunctionController: FunctionController,\n  ColorController: ColorController\n};\nvar dom$1 = { dom: dom };\nvar gui = { GUI: GUI };\nvar GUI$1 = GUI;\nvar index = {\n  color: color,\n  controllers: controllers,\n  dom: dom$1,\n  gui: gui,\n  GUI: GUI$1\n};\n\nexport { color, controllers, dom$1 as dom, gui, GUI$1 as GUI };\nexport default index;\n//# sourceMappingURL=dat.gui.module.js.map\n","export function createCanvas(\n  [width, height],\n  { hidden = false, el = document.body, id, style, className } = {}\n) {\n  const canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  if (style) {\n    canvas.style = style;\n  }\n  if (className) {\n    canvas.className = className;\n  }\n  canvas.hidden = hidden;\n  if (id) {\n    canvas.id = id;\n  }\n  el.appendChild(canvas);\n\n  return canvas;\n}\n\nexport function loadImage(src, { hidden = true } = {}) {\n  return new Promise((resolve, reject) => {\n    const image = document.createElement('img');\n    image.crossOrigin = 'Anonymous'; // To avoid tainted canvas\n    image.src = src;\n    image.hidden = hidden;\n    image.onload = () => resolve(image);\n    document.body.appendChild(image);\n  });\n}\n\nexport function uploadImage(onload, onerror) {\n  window.addEventListener('load', function () {\n    document.querySelector('input[type=\"file\"]').addEventListener('change', function () {\n      if (this.files && this.files[0]) {\n        var img = document.querySelector('img');  // $('img')[0]\n        img.src = URL.createObjectURL(this.files[0]); // set src to blob url\n        img.hidden = true;\n        img.onload = () => {\n          onload(img);\n        };\n        img.onerror = onerror;\n        document.body.appendChild(img);\n      }\n    });\n  });\n}\n\nexport function saveImage(canvas) {\n  const img = canvas.toDataURL('image/jpeg', 1.0);\n  const link = document.createElement('a');\n  link.setAttribute('download', 'colorkernel.jpeg');\n  link.href = img;\n  link.style = 'display: none';\n  document.body.appendChild(link);\n  link.click();\n}\n\nexport function removeElement(el) {\n  el.parentNode.removeChild(el);\n}\n\nexport function unsplashUrl(user, image) {\n  return `https://source.unsplash.com/user/${user}/${image}`;\n}\n\nexport function randomImage() {\n  // const url = `https://source.unsplash.com/random?_=${cryptoRandomString({ length: 6 })}`;\n  const url = `https://picsum.photos/1000`;\n  return loadImage(url);\n}","import './style.scss';\nimport { GPU } from 'gpu.js';\nimport dat from 'dat.gui';\nimport throttle from 'lodash.throttle';\nimport Navigo from 'navigo';\nimport { rgbKernel, hsv2rgb, rgb2hsv, hsvKernel, rgb2cmyk, cmyk2rgb, cmykKernel } from './kernels';\nimport { createCanvas, saveImage, uploadImage, removeElement, randomImage } from './utils';\n\nfunction setupRGBKernel(image) {\n  const canvasContainer = document.getElementById('canvas-container');\n  const canvas = createCanvas([image.width, image.height], {\n    el: canvasContainer,\n    style: 'max-height: 80vh; max-width: 100%;'\n  });\n\n  const gpu = new GPU({\n    canvas,\n    // Need to preserve the drawing buffer for ability to save images.\n    context: canvas.getContext('webgl2', { preserveDrawingBuffer: true })\n  }); \n\n  return gpu.createKernel(rgbKernel, {\n    graphical: true,\n    output: [image.width, image.height]\n  });\n}\n\nfunction setupHSVKernel(image) {\n  const canvasContainer = document.getElementById('canvas-container');\n  let canvas = createCanvas([image.width, image.height], {\n    el: canvasContainer,\n    style: 'max-height: 80vh; max-width: 100%;'\n  });\n\n  let gpu = new GPU({\n    canvas,\n    // Need to preserve the drawing buffer for ability to save images.\n    context: canvas.getContext('webgl2', { preserveDrawingBuffer: true })\n  });\n\n  gpu.addFunction(rgb2hsv);\n  gpu.addFunction(hsv2rgb);\n\n  let kernel = gpu.createKernel(hsvKernel, {\n    graphical: true,\n    output: [image.width, image.height]\n  });\n\n  return kernel;\n}\n\nfunction setupCMYKKernel(image) {\n  const canvasContainer = document.getElementById('canvas-container');\n  let canvas = createCanvas([image.width, image.height], {\n    el: canvasContainer,\n    style: 'max-height: 80vh; max-width: 100%;'\n  });\n\n  let gpu = new GPU({\n    canvas,\n    // Need to preserve the drawing buffer for ability to save images.\n    context: canvas.getContext('webgl2', { preserveDrawingBuffer: true })\n  });\n\n  gpu.addFunction(cmyk2rgb);\n  gpu.addFunction(rgb2cmyk);\n\n  let kernel = gpu.createKernel(cmykKernel, {\n    graphical: true,\n    output: [image.width, image.height]\n  });\n\n  return kernel;\n}\n\nfunction createRGBParams() {\n  return {\n    red: 1,\n    green: 1,\n    blue: 1\n  };\n}\n\nfunction createHSVParams() {\n  return {\n    hue: 0,\n    saturation: 1,\n    value: 1\n  };\n}\n\nfunction createCMYKParams() {\n  return {\n    cyan: 1,\n    yellow: 1,\n    magenta: 1,\n    key: 1\n  };\n}\n\nfunction setupRGBGui(kernel, params) {\n  const gui = new dat.GUI();\n\n  const onChange = throttle(() => {\n    kernel(params.image, params.red, params.green, params.blue);\n  }, 50);\n\n  const fns = {\n    reset: () => {\n      params.red = 1;\n      params.green = 1;\n      params.blue = 1;\n      onChange();\n    }\n  }\n\n  gui.add(params, 'red', 0, 3).onChange(onChange).listen();\n  gui.add(params, 'green', 0, 3).step(0.01).onChange(onChange).listen();\n  gui.add(params, 'blue', 0, 3).step(0.01).onChange(onChange).listen();\n  gui.add(fns, 'reset');\n\n  return [gui, onChange];\n}\n\nfunction setupHSVGui(kernel, params) {\n  const gui = new dat.GUI();\n\n  const onChange = throttle(() => {\n    kernel(params.image, params.hue, params.saturation, params.value);\n  }, 50);\n\n  const fns = {\n    reset: () => {\n      params.hue = 0;\n      params.saturation = 1;\n      params.value = 1;\n      onChange();\n    }\n  }\n\n  gui.add(params, 'hue', -180, 180).onChange(onChange).listen();\n  gui.add(params, 'saturation', 0, 3).step(0.01).onChange(onChange).listen();\n  gui.add(params, 'value', 0, 3).step(0.01).onChange(onChange).listen();\n  gui.add(fns, 'reset');\n\n  return [gui, onChange];\n}\n\nfunction setupCMYKGui(kernel, params) {\n  const gui = new dat.GUI();\n\n  const onChange = throttle(() => {\n    kernel(params.image, params.cyan, params.magenta, params.yellow, params.key);\n  }, 50);\n\n  const fns = {\n    reset: () => {\n      params.cyan = 1;\n      params.magenta = 1;\n      params.yellow = 1;\n      params.key = 1;\n      onChange();\n    }\n  }\n\n  gui.add(params, 'cyan', 0, 3).step(0.01).onChange(onChange).listen();\n  gui.add(params, 'magenta', 0, 3).step(0.01).onChange(onChange).listen();\n  gui.add(params, 'yellow', 0, 3).step(0.01).onChange(onChange).listen();\n  gui.add(params, 'key', 0, 3).step(0.01).onChange(onChange).listen();\n  gui.add(fns, 'reset');\n\n  return [gui, onChange];\n}\n\nconst RGB = 'RGB';\nconst HSV = 'HSV';\nconst CMYK = 'CMYK';\n\nfunction setupKernel(mode, image) {\n  if (mode === RGB) {\n    return setupRGBKernel(image);\n  } else if (mode === HSV) {\n    return setupHSVKernel(image);\n  } else if (mode === CMYK) {\n    return setupCMYKKernel(image);\n  } else {\n    throw new Error('No color mode defined');\n  }\n}\n\nfunction setupGui(mode, kernel, params) {\n  if (mode === RGB) {\n    return setupRGBGui(kernel, params);\n  } else if (mode === HSV) {\n    return setupHSVGui(kernel, params);\n  } else if (mode === CMYK) {\n    return setupCMYKGui(kernel, params);\n  } else {\n    throw new Error('No color mode defined');\n  }\n}\n\n(async () => {\n  const router = new Navigo(null);\n\n  let image = await randomImage();\n  let kernel, gui, onChange, mode;\n\n  const rgbParams = createRGBParams();\n  const hsvParams = createHSVParams();\n  const cmykParams = createCMYKParams();\n\n  function setImage(img) {\n    rgbParams.image = img;\n    hsvParams.image = img;\n    cmykParams.image = img;\n  }\n\n  setImage(image);\n\n  function onKernelChange() {\n    if (kernel) {\n      removeElement(kernel.canvas);\n    }\n    if (gui) {\n      gui.destroy();\n    }\n  }\n\n  function getParams(colorMode) {\n    if (colorMode === RGB) {\n      return rgbParams;\n    } else if (colorMode === HSV) {\n      return hsvParams;\n    } else if (colorMode === CMYK) {\n      return cmykParams;\n    } else {\n      throw new Error('No color mode defined');\n    }\n  }\n\n  const activateLink = (() => {\n    const rgb = document.getElementById('rgbLink')\n    const hsv = document.getElementById('hsvLink');\n    const cmyk = document.getElementById('cmykLink');\n    return (mode) => {\n      if (mode === RGB) {\n        rgb.classList.add('active');\n        hsv.classList.remove('active');\n        cmyk.classList.remove('active');\n      } else if (mode === HSV) {\n        rgb.classList.remove('active');\n        hsv.classList.add('active');\n        cmyk.classList.remove('active');\n      } else if (mode === CMYK) {\n        rgb.classList.remove('active');\n        hsv.classList.remove('active');\n        cmyk.classList.add('active');\n      } else {\n        rgb.classList.remove('active');\n        hsv.classList.remove('active');\n        cmyk.classList.remove('active');\n      }\n    }\n  })();\n\n  router.on({\n    '/': () => {\n      mode = RGB;\n      activateLink(mode);\n      onKernelChange();\n      const params = getParams(mode);\n      kernel = setupKernel(mode, params.image);\n      [gui, onChange] = setupGui(mode, kernel, params);\n      onChange();\n    },\n    '/rgb': () => {\n      mode = RGB;\n      activateLink(mode);\n      onKernelChange();\n      const params = getParams(mode);\n      kernel = setupKernel(mode, params.image);\n      [gui, onChange] = setupGui(mode, kernel, params);\n      onChange();\n    },\n    '/hsv': () => {\n      mode = HSV;\n      activateLink(mode);\n      onKernelChange();\n      const params = getParams(mode);\n      kernel = setupKernel(mode, params.image);\n      [gui, onChange] = setupGui(mode, kernel, params);\n      onChange();\n    },\n    '/cmyk': () => {\n      mode = CMYK;\n      activateLink(mode);\n      onKernelChange();\n      const params = getParams(mode);\n      kernel = setupKernel(mode, params.image);\n      [gui, onChange] = setupGui(mode, kernel, params);\n      onChange();\n    }\n  });\n  router.resolve();\n\n  // Attach events to the 'Choose Image' button\n  uploadImage((img) => {\n    setImage(img);\n    onKernelChange();\n    kernel = setupKernel(mode, image);\n    [gui, onChange] = setupGui(mode, kernel, getParams(mode));\n    onChange();\n  });\n\n  // Attach events to the 'Random Image' Button\n  document.getElementById('random-btn').onclick = async () => {\n    const image = await randomImage();\n    setImage(image);\n    onKernelChange();\n    kernel = setupKernel(mode, image);\n    [gui, onChange] = setupGui(mode, kernel, getParams(mode));\n    onChange();\n  }\n\n  document.getElementById('download-btn').onclick = () => {\n    saveImage(kernel.canvas);\n  }\n})();","export const rgbKernel = `function rgbKernel(image, redMult, greenMult, blueMult) {\n  const pixel = image[this.thread.y][this.thread.x];\n  const red = pixel[0];\n  const green = pixel[1];\n  const blue = pixel[2];\n\n  const r = red * redMult;\n  const g = green * greenMult;\n  const b = blue * blueMult;\n\n  this.color(r, g, b, pixel[3]);\n}`\n\nexport const rgb2hsv = `function rgb2hsv(red, green, blue) {\n  const cmax = Math.max(Math.max(red, green), blue);\n  const cmin = Math.min(Math.min(red, green), blue);\n  const delta = cmax - cmin;\n\n  let hue = 0;\n  if (delta === 0) {\n    // hue is 0\n  } else if (cmax === red) {\n    hue = 60 * (((green - blue) / delta) % 6);\n  } else if (cmax === green) {\n    hue = 60 * (((blue - red) / delta) + 2)\n  } else if (cmax === blue) {\n    hue = 60 * (((red - green) / delta) + 4)\n  }\n\n  let sat = 0\n  if (cmax === 0) {\n    // sat is 0\n  } else {\n    sat = delta / cmax\n  }\n\n  const val = cmax;\n\n  return [hue, sat, val];\n}`;\n\nexport const hsv2rgb = `function hsv2rgb(hue, sat, val) {\n  const c = val * sat;\n  const x = c * (1 - Math.abs(((hue / 60) % 2) - 1));\n  const m = val - c;\n\n  let r = 0;\n  let g = 0;\n  let b = 0;\n  if (0 <= hue && hue < 60) {\n    r = c;\n    g = x;\n    b = 0;\n  } else if (60 <= hue && hue < 120) {\n    r = x;\n    g = c;\n    b = 0;\n  } else if (120 <= hue && hue < 180) {\n    r = 0;\n    g = c;\n    b = x;\n  } else if (180 <= hue && hue < 240) {\n    r = 0;\n    g = x;\n    b = c;\n  } else if (240 <= hue && hue < 300) {\n    r = x;\n    g = 0;\n    b = c;\n  } else {\n    r = c;\n    g = 0;\n    b = x;\n  }\n  return [r + m, g + m, b + m];\n}`;\n\nexport const hsvKernel = `function hsvKernel(image, hueRot, saturationMult, valueMult) {\n  const pixel = image[this.thread.y][this.thread.x];\n  const red = pixel[0];\n  const green = pixel[1];\n  const blue = pixel[2];\n\n  let [hue, sat, val] = rgb2hsv(red, green, blue);\n\n  hue = (hue + hueRot + 360) % 360;\n  sat = sat * saturationMult;\n  val = val * valueMult;\n\n  // Now change back to RGB\n  let [r, g, b] = hsv2rgb(hue, sat, val);\n  this.color(r, g, b, pixel[3]);\n}`;\n\n/**\n * \n * @param {Number} red - number in range 0 to 1.\n * @param {Number} green - number in range 0 to 1.\n * @param {Number} blue - number in range 0 to 1.\n */\nexport const rgb2cmyk = `function rgb2cmyk(red, green, blue) {\n  const k = 1 - Math.max(red, Math.max(green, blue));\n  const c = (1 - red - k) / (1 - k);\n  const m = (1 - green - k) / (1 - k);\n  const y = (1 - blue - k) / (1 - k);\n  return [c, m, y, k];\n}`;\n\nexport const cmyk2rgb = `function cmyk2rgb(cyan, magenta, yellow, black) {\n  const r = (1 - cyan) * (1 - black);\n  const g = (1 - magenta) * (1 - black);\n  const b = (1 - yellow) * (1 - black);\n  return [r, g, b];\n}`;\n\nexport const cmykKernel = `function cmykKernel(image, cm, mm, ym, bm) {\n  const pixel = image[this.thread.y][this.thread.x];\n  const red = pixel[0];\n  const green = pixel[1];\n  const blue = pixel[2];\n\n  let [cyan, magenta, yellow, black] = rgb2cmyk(red, green, blue);\n\n  cyan = Math.min(cyan * cm, 1);\n  magenta = Math.min(magenta * mm, 1);\n  yellow = Math.min(yellow * ym, 1);\n  black = Math.min(black * bm, 1);\n\n  // Now change back to RGB\n  const [r, g, b] = cmyk2rgb(cyan, magenta, yellow, black);\n  this.color(r, g, b, pixel[3]);\n}`;"],"sourceRoot":""}